(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();function jg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ih={exports:{}},aa={},Sh={exports:{}},xe={};var dm;function z_(){if(dm)return xe;dm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,ee={};function G(D,B,he){this.props=D,this.context=B,this.refs=ee,this.updater=he||z}G.prototype.isReactComponent={},G.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},G.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ve(){}ve.prototype=G.prototype;function ke(D,B,he){this.props=D,this.context=B,this.refs=ee,this.updater=he||z}var Ae=ke.prototype=new ve;Ae.constructor=ke,K(Ae,G.prototype),Ae.isPureReactComponent=!0;var Re=Array.isArray,Pe=Object.prototype.hasOwnProperty,Se={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(D,B,he){var Ce,Ne={},De=null,be=null;if(B!=null)for(Ce in B.ref!==void 0&&(be=B.ref),B.key!==void 0&&(De=""+B.key),B)Pe.call(B,Ce)&&!P.hasOwnProperty(Ce)&&(Ne[Ce]=B[Ce]);var j=arguments.length-2;if(j===1)Ne.children=he;else if(1<j){for(var Y=Array(j),re=0;re<j;re++)Y[re]=arguments[re+2];Ne.children=Y}if(D&&D.defaultProps)for(Ce in j=D.defaultProps,j)Ne[Ce]===void 0&&(Ne[Ce]=j[Ce]);return{$$typeof:i,type:D,key:De,ref:be,props:Ne,_owner:Se.current}}function A(D,B){return{$$typeof:i,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function x(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(he){return B[he]})}var V=/\/+/g;function S(D,B){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):B.toString(36)}function tt(D,B,he,Ce,Ne){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(De){case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case i:case e:be=!0}}if(be)return be=D,Ne=Ne(be),D=Ce===""?"."+S(be,0):Ce,Re(Ne)?(he="",D!=null&&(he=D.replace(V,"$&/")+"/"),tt(Ne,B,he,"",function(re){return re})):Ne!=null&&(R(Ne)&&(Ne=A(Ne,he+(!Ne.key||be&&be.key===Ne.key?"":(""+Ne.key).replace(V,"$&/")+"/")+D)),B.push(Ne)),1;if(be=0,Ce=Ce===""?".":Ce+":",Re(D))for(var j=0;j<D.length;j++){De=D[j];var Y=Ce+S(De,j);be+=tt(De,B,he,Y,Ne)}else if(Y=O(D),typeof Y=="function")for(D=Y.call(D),j=0;!(De=D.next()).done;)De=De.value,Y=Ce+S(De,j++),be+=tt(De,B,he,Y,Ne);else if(De==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return be}function _t(D,B,he){if(D==null)return D;var Ce=[],Ne=0;return tt(D,Ce,"","",function(De){return B.call(he,De,Ne++)}),Ce}function wt(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(he){(D._status===0||D._status===-1)&&(D._status=1,D._result=he)},function(he){(D._status===0||D._status===-1)&&(D._status=2,D._result=he)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var $e={current:null},Z={transition:null},pe={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Se};function ne(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:_t,forEach:function(D,B,he){_t(D,function(){B.apply(this,arguments)},he)},count:function(D){var B=0;return _t(D,function(){B++}),B},toArray:function(D){return _t(D,function(B){return B})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xe.Component=G,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=ke,xe.StrictMode=s,xe.Suspense=y,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,xe.act=ne,xe.cloneElement=function(D,B,he){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ce=K({},D.props),Ne=D.key,De=D.ref,be=D._owner;if(B!=null){if(B.ref!==void 0&&(De=B.ref,be=Se.current),B.key!==void 0&&(Ne=""+B.key),D.type&&D.type.defaultProps)var j=D.type.defaultProps;for(Y in B)Pe.call(B,Y)&&!P.hasOwnProperty(Y)&&(Ce[Y]=B[Y]===void 0&&j!==void 0?j[Y]:B[Y])}var Y=arguments.length-2;if(Y===1)Ce.children=he;else if(1<Y){j=Array(Y);for(var re=0;re<Y;re++)j[re]=arguments[re+2];Ce.children=j}return{$$typeof:i,type:D.type,key:Ne,ref:De,props:Ce,_owner:be}},xe.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},xe.createElement=T,xe.createFactory=function(D){var B=T.bind(null,D);return B.type=D,B},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:m,render:D}},xe.isValidElement=R,xe.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:wt}},xe.memo=function(D,B){return{$$typeof:_,type:D,compare:B===void 0?null:B}},xe.startTransition=function(D){var B=Z.transition;Z.transition={};try{D()}finally{Z.transition=B}},xe.unstable_act=ne,xe.useCallback=function(D,B){return $e.current.useCallback(D,B)},xe.useContext=function(D){return $e.current.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D){return $e.current.useDeferredValue(D)},xe.useEffect=function(D,B){return $e.current.useEffect(D,B)},xe.useId=function(){return $e.current.useId()},xe.useImperativeHandle=function(D,B,he){return $e.current.useImperativeHandle(D,B,he)},xe.useInsertionEffect=function(D,B){return $e.current.useInsertionEffect(D,B)},xe.useLayoutEffect=function(D,B){return $e.current.useLayoutEffect(D,B)},xe.useMemo=function(D,B){return $e.current.useMemo(D,B)},xe.useReducer=function(D,B,he){return $e.current.useReducer(D,B,he)},xe.useRef=function(D){return $e.current.useRef(D)},xe.useState=function(D){return $e.current.useState(D)},xe.useSyncExternalStore=function(D,B,he){return $e.current.useSyncExternalStore(D,B,he)},xe.useTransition=function(){return $e.current.useTransition()},xe.version="18.3.1",xe}var fm;function cd(){return fm||(fm=1,Sh.exports=z_()),Sh.exports}var pm;function B_(){if(pm)return aa;pm=1;var i=cd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,_){var E,N={},O=null,z=null;_!==void 0&&(O=""+_),y.key!==void 0&&(O=""+y.key),y.ref!==void 0&&(z=y.ref);for(E in y)s.call(y,E)&&!u.hasOwnProperty(E)&&(N[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)N[E]===void 0&&(N[E]=y[E]);return{$$typeof:e,type:m,key:O,ref:z,props:N,_owner:a.current}}return aa.Fragment=t,aa.jsx=h,aa.jsxs=h,aa}var mm;function $_(){return mm||(mm=1,Ih.exports=B_()),Ih.exports}var te=$_(),nu={},Ah={exports:{}},nn={},kh={exports:{}},Rh={};var gm;function H_(){return gm||(gm=1,(function(i){function e(Z,pe){var ne=Z.length;Z.push(pe);e:for(;0<ne;){var D=ne-1>>>1,B=Z[D];if(0<a(B,pe))Z[D]=pe,Z[ne]=B,ne=D;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var pe=Z[0],ne=Z.pop();if(ne!==pe){Z[0]=ne;e:for(var D=0,B=Z.length,he=B>>>1;D<he;){var Ce=2*(D+1)-1,Ne=Z[Ce],De=Ce+1,be=Z[De];if(0>a(Ne,ne))De<B&&0>a(be,Ne)?(Z[D]=be,Z[De]=ne,D=De):(Z[D]=Ne,Z[Ce]=ne,D=Ce);else if(De<B&&0>a(be,ne))Z[D]=be,Z[De]=ne,D=De;else break e}}return pe}function a(Z,pe){var ne=Z.sortIndex-pe.sortIndex;return ne!==0?ne:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],_=[],E=1,N=null,O=3,z=!1,K=!1,ee=!1,G=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ke=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ae(Z){for(var pe=t(_);pe!==null;){if(pe.callback===null)s(_);else if(pe.startTime<=Z)s(_),pe.sortIndex=pe.expirationTime,e(y,pe);else break;pe=t(_)}}function Re(Z){if(ee=!1,Ae(Z),!K)if(t(y)!==null)K=!0,wt(Pe);else{var pe=t(_);pe!==null&&$e(Re,pe.startTime-Z)}}function Pe(Z,pe){K=!1,ee&&(ee=!1,ve(T),T=-1),z=!0;var ne=O;try{for(Ae(pe),N=t(y);N!==null&&(!(N.expirationTime>pe)||Z&&!x());){var D=N.callback;if(typeof D=="function"){N.callback=null,O=N.priorityLevel;var B=D(N.expirationTime<=pe);pe=i.unstable_now(),typeof B=="function"?N.callback=B:N===t(y)&&s(y),Ae(pe)}else s(y);N=t(y)}if(N!==null)var he=!0;else{var Ce=t(_);Ce!==null&&$e(Re,Ce.startTime-pe),he=!1}return he}finally{N=null,O=ne,z=!1}}var Se=!1,P=null,T=-1,A=5,R=-1;function x(){return!(i.unstable_now()-R<A)}function V(){if(P!==null){var Z=i.unstable_now();R=Z;var pe=!0;try{pe=P(!0,Z)}finally{pe?S():(Se=!1,P=null)}}else Se=!1}var S;if(typeof ke=="function")S=function(){ke(V)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,_t=tt.port2;tt.port1.onmessage=V,S=function(){_t.postMessage(null)}}else S=function(){G(V,0)};function wt(Z){P=Z,Se||(Se=!0,S())}function $e(Z,pe){T=G(function(){Z(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){K||z||(K=!0,wt(Pe))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(Z){switch(O){case 1:case 2:case 3:var pe=3;break;default:pe=O}var ne=O;O=pe;try{return Z()}finally{O=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ne=O;O=Z;try{return pe()}finally{O=ne}},i.unstable_scheduleCallback=function(Z,pe,ne){var D=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?D+ne:D):ne=D,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ne+B,Z={id:E++,callback:pe,priorityLevel:Z,startTime:ne,expirationTime:B,sortIndex:-1},ne>D?(Z.sortIndex=ne,e(_,Z),t(y)===null&&Z===t(_)&&(ee?(ve(T),T=-1):ee=!0,$e(Re,ne-D))):(Z.sortIndex=B,e(y,Z),K||z||(K=!0,wt(Pe))),Z},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(Z){var pe=O;return function(){var ne=O;O=pe;try{return Z.apply(this,arguments)}finally{O=ne}}}})(Rh)),Rh}var ym;function q_(){return ym||(ym=1,kh.exports=H_()),kh.exports}var vm;function W_(){if(vm)return nn;vm=1;var i=cd(),e=q_();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(a[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},N={};function O(n){return y.call(N,n)?!0:y.call(E,n)?!1:_.test(n)?N[n]=!0:(E[n]=!0,!1)}function z(n,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function K(n,r,o,c){if(r===null||typeof r>"u"||z(n,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ee(n,r,o,c,d,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){G[n]=new ee(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];G[r]=new ee(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){G[n]=new ee(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){G[n]=new ee(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){G[n]=new ee(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){G[n]=new ee(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){G[n]=new ee(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){G[n]=new ee(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){G[n]=new ee(n,5,!1,n.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function ke(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(ve,ke);G[r]=new ee(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(ve,ke);G[r]=new ee(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(ve,ke);G[r]=new ee(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){G[n]=new ee(n,1,!1,n.toLowerCase(),null,!1,!1)}),G.xlinkHref=new ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){G[n]=new ee(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ae(n,r,o,c){var d=G.hasOwnProperty(r)?G[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(K(r,o,d,c)&&(o=null),c||d===null?O(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?n.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?n.setAttributeNS(c,r,o):n.setAttribute(r,o))))}var Re=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Se=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,D;function B(n){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+n}var he=!1;function Ce(n,r){if(!n||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var c=b}Reflect.construct(n,[],r)}else{try{r.call()}catch(b){c=b}n.call(r.prototype)}else{try{throw Error()}catch(b){c=b}n()}}catch(b){if(b&&c&&typeof b.stack=="string"){for(var d=b.stack.split(`
`),p=c.stack.split(`
`),v=d.length-1,I=p.length-1;1<=v&&0<=I&&d[v]!==p[I];)I--;for(;1<=v&&0<=I;v--,I--)if(d[v]!==p[I]){if(v!==1||I!==1)do if(v--,I--,0>I||d[v]!==p[I]){var k=`
`+d[v].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=v&&0<=I);break}}}finally{he=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?B(n):""}function Ne(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=Ce(n.type,!1),n;case 11:return n=Ce(n.type.render,!1),n;case 1:return n=Ce(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case Se:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case tt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Consumer";case R:return(n._context.displayName||"Context")+".Provider";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return r=n.displayName||null,r!==null?r:De(n.type)||"Memo";case wt:r=n._payload,n=n._init;try{return De(n(r))}catch{}}return null}function be(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function j(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Y(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function re(n){var r=Y(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function se(n){n._valueTracker||(n._valueTracker=re(n))}function de(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Y(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function we(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function dt(n,r){var o=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Gt(n,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=j(r.value!=null?r.value:o),n._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function fn(n,r){r=r.checked,r!=null&&Ae(n,"checked",r,!1)}function po(n,r){fn(n,r);var o=j(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?ts(n,r.type,o):r.hasOwnProperty("defaultValue")&&ts(n,r.type,j(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function za(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function ts(n,r,o){(r!=="number"||we(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var or=Array.isArray;function ar(n,r,o,c){if(n=n.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=r.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&c&&(n[o].defaultSelected=!0)}else{for(o=""+j(o),r=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function mo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ns(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(t(92));if(or(o)){if(1<o.length)throw Error(t(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:j(o)}}function rs(n,r){var o=j(r.value),c=j(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),c!=null&&(n.defaultValue=""+c)}function go(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function ft(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?ft(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var lr,yo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,o,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=lr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Or(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gi=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(n){gi.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),mi[r]=mi[n]})});function vo(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||mi.hasOwnProperty(n)&&mi[n]?(""+r).trim():r+"px"}function _o(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=vo(o,r[o],c);o==="float"&&(o="cssFloat"),c?n.setProperty(o,d):n[o]=d}}var wo=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(n,r){if(r){if(wo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function To(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ss=null,pn=null,$n=null;function os(n){if(n=Wo(n)){if(typeof ss!="function")throw Error(t(280));var r=n.stateNode;r&&(r=yl(r),ss(n.stateNode,n.type,r))}}function Hn(n){pn?$n?$n.push(n):$n=[n]:pn=n}function Io(){if(pn){var n=pn,r=$n;if($n=pn=null,os(n),r)for(n=0;n<r.length;n++)os(r[n])}}function vi(n,r){return n(r)}function So(){}var ur=!1;function Ao(n,r,o){if(ur)return n(r,o);ur=!0;try{return vi(n,r,o)}finally{ur=!1,(pn!==null||$n!==null)&&(So(),Io())}}function st(n,r){var o=n.stateNode;if(o===null)return null;var c=yl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,r,typeof o));return o}var as=!1;if(m)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){as=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{as=!1}function _i(n,r,o,c,d,p,v,I,k){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(H){this.onError(H)}}var wi=!1,ls=null,Cn=!1,ko=null,Xu={onError:function(n){wi=!0,ls=n}};function us(n,r,o,c,d,p,v,I,k){wi=!1,ls=null,_i.apply(Xu,arguments)}function Ba(n,r,o,c,d,p,v,I,k){if(us.apply(this,arguments),wi){if(wi){var b=ls;wi=!1,ls=null}else throw Error(t(198));Cn||(Cn=!0,ko=b)}}function Pn(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function Ei(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Nn(n){if(Pn(n)!==n)throw Error(t(188))}function $a(n){var r=n.alternate;if(!r){if(r=Pn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var o=n,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Nn(d),n;if(p===c)return Nn(d),r;p=p.sibling}throw Error(t(188))}if(o.return!==c.return)o=d,c=p;else{for(var v=!1,I=d.child;I;){if(I===o){v=!0,o=d,c=p;break}if(I===c){v=!0,c=d,o=p;break}I=I.sibling}if(!v){for(I=p.child;I;){if(I===o){v=!0,o=p,c=d;break}if(I===c){v=!0,c=p,o=d;break}I=I.sibling}if(!v)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:r}function Ro(n){return n=$a(n),n!==null?cs(n):null}function cs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=cs(n);if(r!==null)return r;n=n.sibling}return null}var hs=e.unstable_scheduleCallback,Co=e.unstable_cancelCallback,Ha=e.unstable_shouldYield,Ju=e.unstable_requestPaint,Ke=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,Lr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,Po=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,Ii=null,on=null;function Ka(n){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ii,n,void 0,(n.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Qa,No=Math.log,Ga=Math.LN2;function Qa(n){return n>>>=0,n===0?32:31-(No(n)/Ga|0)|0}var ds=64,fs=4194304;function Mr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Si(n,r){var o=n.pendingLanes;if(o===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,v=o&268435455;if(v!==0){var I=v&~d;I!==0?c=Mr(I):(p&=v,p!==0&&(c=Mr(p)))}else v=o&~d,v!==0?c=Mr(v):p!==0&&(c=Mr(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)o=31-Ht(r),d=1<<o,c|=n[o],r&=~d;return c}function Zu(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var v=31-Ht(p),I=1<<v,k=d[v];k===-1?((I&o)===0||(I&c)!==0)&&(d[v]=Zu(I,r)):k<=r&&(n.expiredLanes|=I),p&=~I}}function an(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ai(){var n=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),n}function Fr(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function br(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Ht(r),n[r]=o}function qe(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Ht(o),p=1<<d;r[d]=0,c[d]=-1,n[d]=-1,o&=~p}}function Ur(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-Ht(o),d=1<<c;d&r|n[c]&r&&(n[c]|=r),o&=~d}}var Oe=0;function jr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ya,ps,Xa,Ja,Za,xo=!1,qn=[],Ct=null,xn=null,Dn=null,zr=new Map,gn=new Map,Wn=[],ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(n,r){switch(n){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":zr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(r.pointerId)}}function Qt(n,r,o,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Wo(r),r!==null&&ps(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function tc(n,r,o,c,d){switch(r){case"focusin":return Ct=Qt(Ct,n,r,o,c,d),!0;case"dragenter":return xn=Qt(xn,n,r,o,c,d),!0;case"mouseover":return Dn=Qt(Dn,n,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return zr.set(p,Qt(zr.get(p)||null,n,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,gn.set(p,Qt(gn.get(p)||null,n,r,o,c,d)),!0}return!1}function tl(n){var r=Ni(n.target);if(r!==null){var o=Pn(r);if(o!==null){if(r=o.tag,r===13){if(r=Ei(o),r!==null){n.blockedOn=r,Za(n.priority,function(){Xa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=ms(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);yi=c,o.target.dispatchEvent(c),yi=null}else return r=Wo(o),r!==null&&ps(r),n.blockedOn=o,!1;r.shift()}return!0}function ki(n,r,o){hr(n)&&o.delete(r)}function nl(){xo=!1,Ct!==null&&hr(Ct)&&(Ct=null),xn!==null&&hr(xn)&&(xn=null),Dn!==null&&hr(Dn)&&(Dn=null),zr.forEach(ki),gn.forEach(ki)}function Vn(n,r){n.blockedOn===r&&(n.blockedOn=null,xo||(xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nl)))}function On(n){function r(d){return Vn(d,n)}if(0<qn.length){Vn(qn[0],n);for(var o=1;o<qn.length;o++){var c=qn[o];c.blockedOn===n&&(c.blockedOn=null)}}for(Ct!==null&&Vn(Ct,n),xn!==null&&Vn(xn,n),Dn!==null&&Vn(Dn,n),zr.forEach(r),gn.forEach(r),o=0;o<Wn.length;o++)c=Wn[o],c.blockedOn===n&&(c.blockedOn=null);for(;0<Wn.length&&(o=Wn[0],o.blockedOn===null);)tl(o),o.blockedOn===null&&Wn.shift()}var dr=Re.ReactCurrentBatchConfig,Br=!0;function Je(n,r,o,c){var d=Oe,p=dr.transition;dr.transition=null;try{Oe=1,Do(n,r,o,c)}finally{Oe=d,dr.transition=p}}function nc(n,r,o,c){var d=Oe,p=dr.transition;dr.transition=null;try{Oe=4,Do(n,r,o,c)}finally{Oe=d,dr.transition=p}}function Do(n,r,o,c){if(Br){var d=ms(n,r,o,c);if(d===null)fc(n,r,c,Ri,o),el(n,c);else if(tc(d,n,r,o,c))c.stopPropagation();else if(el(n,c),r&4&&-1<ec.indexOf(n)){for(;d!==null;){var p=Wo(d);if(p!==null&&Ya(p),p=ms(n,r,o,c),p===null&&fc(n,r,c,Ri,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else fc(n,r,c,null,o)}}var Ri=null;function ms(n,r,o,c){if(Ri=null,n=is(c),n=Ni(n),n!==null)if(r=Pn(n),r===null)n=null;else if(o=r.tag,o===13){if(n=Ei(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Ri=n,null}function Vo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qa()){case Ti:return 1;case Lr:return 4;case mn:case Po:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var ln=null,gs=null,Yt=null;function Oo(){if(Yt)return Yt;var n,r=gs,o=r.length,c,d="value"in ln?ln.value:ln.textContent,p=d.length;for(n=0;n<o&&r[n]===d[n];n++);var v=o-n;for(c=1;c<=v&&r[o-c]===d[p-c];c++);return Yt=d.slice(n,1<c?1-c:void 0)}function ys(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Kn(){return!0}function Lo(){return!1}function Pt(n){function r(o,c,d,p,v){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(o=n[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Kn:Lo,this.isPropagationStopped=Lo,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),r}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Pt(Ln),Gn=ne({},Ln,{view:0,detail:0}),rc=Pt(Gn),_s,fr,$r,Ci=ne({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$r&&($r&&n.type==="mousemove"?(_s=n.screenX-$r.screenX,fr=n.screenY-$r.screenY):fr=_s=0,$r=n),_s)},movementY:function(n){return"movementY"in n?n.movementY:fr}}),ws=Pt(Ci),Mo=ne({},Ci,{dataTransfer:0}),rl=Pt(Mo),Es=ne({},Gn,{relatedTarget:0}),Ts=Pt(Es),il=ne({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),pr=Pt(il),sl=ne({},Ln,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ol=Pt(sl),al=ne({},Ln,{data:0}),Fo=Pt(al),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ll[n])?!!r[n]:!1}function Qn(){return ul}var l=ne({},Gn,{key:function(n){if(n.key){var r=Is[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Pt(l),g=ne({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Pt(g),L=ne({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),U=Pt(L),J=ne({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Pt(J),mt=ne({},Ci,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Pt(mt),Et=[9,13,27,32],ut=m&&"CompositionEvent"in window,yn=null;m&&"documentMode"in document&&(yn=document.documentMode);var un=m&&"TextEvent"in window&&!yn,Pi=m&&(!ut||yn&&8<yn&&11>=yn),Ss=" ",of=!1;function af(n,r){switch(n){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var As=!1;function bv(n,r){switch(n){case"compositionend":return lf(r);case"keypress":return r.which!==32?null:(of=!0,Ss);case"textInput":return n=r.data,n===Ss&&of?null:n;default:return null}}function Uv(n,r){if(As)return n==="compositionend"||!ut&&af(n,r)?(n=Oo(),Yt=gs=ln=null,As=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jv[n.type]:r==="textarea"}function cf(n,r,o,c){Hn(c),r=pl(r,"onChange"),0<r.length&&(o=new vs("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var bo=null,Uo=null;function zv(n){Cf(n,0)}function cl(n){var r=Ns(n);if(de(r))return n}function Bv(n,r){if(n==="change")return r}var hf=!1;if(m){var ic;if(m){var sc="oninput"in document;if(!sc){var df=document.createElement("div");df.setAttribute("oninput","return;"),sc=typeof df.oninput=="function"}ic=sc}else ic=!1;hf=ic&&(!document.documentMode||9<document.documentMode)}function ff(){bo&&(bo.detachEvent("onpropertychange",pf),Uo=bo=null)}function pf(n){if(n.propertyName==="value"&&cl(Uo)){var r=[];cf(r,Uo,n,is(n)),Ao(zv,r)}}function $v(n,r,o){n==="focusin"?(ff(),bo=r,Uo=o,bo.attachEvent("onpropertychange",pf)):n==="focusout"&&ff()}function Hv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cl(Uo)}function qv(n,r){if(n==="click")return cl(r)}function Wv(n,r){if(n==="input"||n==="change")return cl(r)}function Kv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Mn=typeof Object.is=="function"?Object.is:Kv;function jo(n,r){if(Mn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!y.call(r,d)||!Mn(n[d],r[d]))return!1}return!0}function mf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gf(n,r){var o=mf(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=mf(o)}}function yf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?yf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function vf(){for(var n=window,r=we();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=we(n.document)}return r}function oc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Gv(n){var r=vf(),o=n.focusedElem,c=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&yf(o.ownerDocument.documentElement,o)){if(c!==null&&oc(o)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=gf(o,p);var v=gf(o,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qv=m&&"documentMode"in document&&11>=document.documentMode,ks=null,ac=null,zo=null,lc=!1;function _f(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lc||ks==null||ks!==we(c)||(c=ks,"selectionStart"in c&&oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zo&&jo(zo,c)||(zo=c,c=pl(ac,"onSelect"),0<c.length&&(r=new vs("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=ks)))}function hl(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Rs={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},uc={},wf={};m&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function dl(n){if(uc[n])return uc[n];if(!Rs[n])return n;var r=Rs[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in wf)return uc[n]=r[o];return n}var Ef=dl("animationend"),Tf=dl("animationiteration"),If=dl("animationstart"),Sf=dl("transitionend"),Af=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(n,r){Af.set(n,r),u(r,[n])}for(var cc=0;cc<kf.length;cc++){var hc=kf[cc],Yv=hc.toLowerCase(),Xv=hc[0].toUpperCase()+hc.slice(1);Hr(Yv,"on"+Xv)}Hr(Ef,"onAnimationEnd"),Hr(Tf,"onAnimationIteration"),Hr(If,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(Sf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Rf(n,r,o){var c=n.type||"unknown-event";n.currentTarget=o,Ba(c,r,void 0,n),n.currentTarget=null}function Cf(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var v=c.length-1;0<=v;v--){var I=c[v],k=I.instance,b=I.currentTarget;if(I=I.listener,k!==p&&d.isPropagationStopped())break e;Rf(d,I,b),p=k}else for(v=0;v<c.length;v++){if(I=c[v],k=I.instance,b=I.currentTarget,I=I.listener,k!==p&&d.isPropagationStopped())break e;Rf(d,I,b),p=k}}}if(Cn)throw n=ko,Cn=!1,ko=null,n}function Ye(n,r){var o=r[_c];o===void 0&&(o=r[_c]=new Set);var c=n+"__bubble";o.has(c)||(Pf(r,n,2,!1),o.add(c))}function dc(n,r,o){var c=0;r&&(c|=4),Pf(o,n,c,r)}var fl="_reactListening"+Math.random().toString(36).slice(2);function $o(n){if(!n[fl]){n[fl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Jv.has(o)||dc(o,!1,n),dc(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[fl]||(r[fl]=!0,dc("selectionchange",!1,r))}}function Pf(n,r,o,c){switch(Vo(r)){case 1:var d=Je;break;case 4:d=nc;break;default:d=Do}o=d.bind(null,r,o,n),d=void 0,!as||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,o,{capture:!0,passive:d}):n.addEventListener(r,o,!0):d!==void 0?n.addEventListener(r,o,{passive:d}):n.addEventListener(r,o,!1)}function fc(n,r,o,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;v=v.return}for(;I!==null;){if(v=Ni(I),v===null)return;if(k=v.tag,k===5||k===6){c=p=v;continue e}I=I.parentNode}}c=c.return}Ao(function(){var b=p,H=is(o),Q=[];e:{var $=Af.get(n);if($!==void 0){var ie=vs,ae=n;switch(n){case"keypress":if(ys(o)===0)break e;case"keydown":case"keyup":ie=f;break;case"focusin":ae="focus",ie=Ts;break;case"focusout":ae="blur",ie=Ts;break;case"beforeblur":case"afterblur":ie=Ts;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=U;break;case Ef:case Tf:case If:ie=pr;break;case Sf:ie=He;break;case"scroll":ie=rc;break;case"wheel":ie=Me;break;case"copy":case"cut":case"paste":ie=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var le=(r&4)!==0,ot=!le&&n==="scroll",M=le?$!==null?$+"Capture":null:$;le=[];for(var C=b,F;C!==null;){F=C;var X=F.stateNode;if(F.tag===5&&X!==null&&(F=X,M!==null&&(X=st(C,M),X!=null&&le.push(Ho(C,X,F)))),ot)break;C=C.return}0<le.length&&($=new ie($,ae,null,o,H),Q.push({event:$,listeners:le}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",$&&o!==yi&&(ae=o.relatedTarget||o.fromElement)&&(Ni(ae)||ae[mr]))break e;if((ie||$)&&($=H.window===H?H:($=H.ownerDocument)?$.defaultView||$.parentWindow:window,ie?(ae=o.relatedTarget||o.toElement,ie=b,ae=ae?Ni(ae):null,ae!==null&&(ot=Pn(ae),ae!==ot||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ie=null,ae=b),ie!==ae)){if(le=ws,X="onMouseLeave",M="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(le=w,X="onPointerLeave",M="onPointerEnter",C="pointer"),ot=ie==null?$:Ns(ie),F=ae==null?$:Ns(ae),$=new le(X,C+"leave",ie,o,H),$.target=ot,$.relatedTarget=F,X=null,Ni(H)===b&&(le=new le(M,C+"enter",ae,o,H),le.target=F,le.relatedTarget=ot,X=le),ot=X,ie&&ae)t:{for(le=ie,M=ae,C=0,F=le;F;F=Cs(F))C++;for(F=0,X=M;X;X=Cs(X))F++;for(;0<C-F;)le=Cs(le),C--;for(;0<F-C;)M=Cs(M),F--;for(;C--;){if(le===M||M!==null&&le===M.alternate)break t;le=Cs(le),M=Cs(M)}le=null}else le=null;ie!==null&&Nf(Q,$,ie,le,!1),ae!==null&&ot!==null&&Nf(Q,ot,ae,le,!0)}}e:{if($=b?Ns(b):window,ie=$.nodeName&&$.nodeName.toLowerCase(),ie==="select"||ie==="input"&&$.type==="file")var ce=Bv;else if(uf($))if(hf)ce=Wv;else{ce=Hv;var me=$v}else(ie=$.nodeName)&&ie.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ce=qv);if(ce&&(ce=ce(n,b))){cf(Q,ce,o,H);break e}me&&me(n,$,b),n==="focusout"&&(me=$._wrapperState)&&me.controlled&&$.type==="number"&&ts($,"number",$.value)}switch(me=b?Ns(b):window,n){case"focusin":(uf(me)||me.contentEditable==="true")&&(ks=me,ac=b,zo=null);break;case"focusout":zo=ac=ks=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,_f(Q,o,H);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":_f(Q,o,H)}var ge;if(ut)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else As?af(n,o)&&(Ee="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Pi&&o.locale!=="ko"&&(As||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&As&&(ge=Oo()):(ln=H,gs="value"in ln?ln.value:ln.textContent,As=!0)),me=pl(b,Ee),0<me.length&&(Ee=new Fo(Ee,n,null,o,H),Q.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=lf(o),ge!==null&&(Ee.data=ge)))),(ge=un?bv(n,o):Uv(n,o))&&(b=pl(b,"onBeforeInput"),0<b.length&&(H=new Fo("onBeforeInput","beforeinput",null,o,H),Q.push({event:H,listeners:b}),H.data=ge))}Cf(Q,r)})}function Ho(n,r,o){return{instance:n,listener:r,currentTarget:o}}function pl(n,r){for(var o=r+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=st(n,o),p!=null&&c.unshift(Ho(n,p,d)),p=st(n,r),p!=null&&c.push(Ho(n,p,d))),n=n.return}return c}function Cs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Nf(n,r,o,c,d){for(var p=r._reactName,v=[];o!==null&&o!==c;){var I=o,k=I.alternate,b=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&b!==null&&(I=b,d?(k=st(o,p),k!=null&&v.unshift(Ho(o,k,I))):d||(k=st(o,p),k!=null&&v.push(Ho(o,k,I)))),o=o.return}v.length!==0&&n.push({event:r,listeners:v})}var Zv=/\r\n?/g,e_=/\u0000|\uFFFD/g;function xf(n){return(typeof n=="string"?n:""+n).replace(Zv,`
`).replace(e_,"")}function ml(n,r,o){if(r=xf(r),xf(n)!==r&&o)throw Error(t(425))}function gl(){}var pc=null,mc=null;function gc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(n){return Df.resolve(null).then(n).catch(r_)}:yc;function r_(n){setTimeout(function(){throw n})}function vc(n,r){var o=r,c=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){n.removeChild(d),On(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);On(r)}function qr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Vf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ps,qo="__reactProps$"+Ps,mr="__reactContainer$"+Ps,_c="__reactEvents$"+Ps,i_="__reactListeners$"+Ps,s_="__reactHandles$"+Ps;function Ni(n){var r=n[Yn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[mr]||o[Yn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Vf(n);n!==null;){if(o=n[Yn])return o;n=Vf(n)}return r}n=o,o=n.parentNode}return null}function Wo(n){return n=n[Yn]||n[mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ns(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function yl(n){return n[qo]||null}var wc=[],xs=-1;function Wr(n){return{current:n}}function Xe(n){0>xs||(n.current=wc[xs],wc[xs]=null,xs--)}function Ge(n,r){xs++,wc[xs]=n.current,n.current=r}var Kr={},Mt=Wr(Kr),Xt=Wr(!1),xi=Kr;function Ds(n,r){var o=n.type.contextTypes;if(!o)return Kr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(n){return n=n.childContextTypes,n!=null}function vl(){Xe(Xt),Xe(Mt)}function Of(n,r,o){if(Mt.current!==Kr)throw Error(t(168));Ge(Mt,r),Ge(Xt,o)}function Lf(n,r,o){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,be(n)||"Unknown",d));return ne({},o,c)}function _l(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Kr,xi=Mt.current,Ge(Mt,n),Ge(Xt,Xt.current),!0}function Mf(n,r,o){var c=n.stateNode;if(!c)throw Error(t(169));o?(n=Lf(n,r,xi),c.__reactInternalMemoizedMergedChildContext=n,Xe(Xt),Xe(Mt),Ge(Mt,n)):Xe(Xt),Ge(Xt,o)}var gr=null,wl=!1,Ec=!1;function Ff(n){gr===null?gr=[n]:gr.push(n)}function o_(n){wl=!0,Ff(n)}function Gr(){if(!Ec&&gr!==null){Ec=!0;var n=0,r=Oe;try{var o=gr;for(Oe=1;n<o.length;n++){var c=o[n];do c=c(!0);while(c!==null)}gr=null,wl=!1}catch(d){throw gr!==null&&(gr=gr.slice(n+1)),hs(Ti,Gr),d}finally{Oe=r,Ec=!1}}return null}var Vs=[],Os=0,El=null,Tl=0,vn=[],_n=0,Di=null,yr=1,vr="";function Vi(n,r){Vs[Os++]=Tl,Vs[Os++]=El,El=n,Tl=r}function bf(n,r,o){vn[_n++]=yr,vn[_n++]=vr,vn[_n++]=Di,Di=n;var c=yr;n=vr;var d=32-Ht(c)-1;c&=~(1<<d),o+=1;var p=32-Ht(r)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,yr=1<<32-Ht(r)+d|o<<d|c,vr=p+n}else yr=1<<p|o<<d|c,vr=n}function Tc(n){n.return!==null&&(Vi(n,1),bf(n,1,0))}function Ic(n){for(;n===El;)El=Vs[--Os],Vs[Os]=null,Tl=Vs[--Os],Vs[Os]=null;for(;n===Di;)Di=vn[--_n],vn[_n]=null,vr=vn[--_n],vn[_n]=null,yr=vn[--_n],vn[_n]=null}var cn=null,hn=null,Ze=!1,Fn=null;function Uf(n,r){var o=In(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function jf(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,cn=n,hn=qr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,cn=n,hn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Di!==null?{id:yr,overflow:vr}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=In(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,cn=n,hn=null,!0):!1;default:return!1}}function Sc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ac(n){if(Ze){var r=hn;if(r){var o=r;if(!jf(n,r)){if(Sc(n))throw Error(t(418));r=qr(o.nextSibling);var c=cn;r&&jf(n,r)?Uf(c,o):(n.flags=n.flags&-4097|2,Ze=!1,cn=n)}}else{if(Sc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ze=!1,cn=n}}}function zf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;cn=n}function Il(n){if(n!==cn)return!1;if(!Ze)return zf(n),Ze=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!gc(n.type,n.memoizedProps)),r&&(r=hn)){if(Sc(n))throw Bf(),Error(t(418));for(;r;)Uf(n,r),r=qr(r.nextSibling)}if(zf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){hn=qr(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}hn=null}}else hn=cn?qr(n.stateNode.nextSibling):null;return!0}function Bf(){for(var n=hn;n;)n=qr(n.nextSibling)}function Ls(){hn=cn=null,Ze=!1}function kc(n){Fn===null?Fn=[n]:Fn.push(n)}var a_=Re.ReactCurrentBatchConfig;function Ko(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var I=d.refs;v===null?delete I[p]:I[p]=v},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function Sl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function $f(n){var r=n._init;return r(n._payload)}function Hf(n){function r(M,C){if(n){var F=M.deletions;F===null?(M.deletions=[C],M.flags|=16):F.push(C)}}function o(M,C){if(!n)return null;for(;C!==null;)r(M,C),C=C.sibling;return null}function c(M,C){for(M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function d(M,C){return M=ni(M,C),M.index=0,M.sibling=null,M}function p(M,C,F){return M.index=F,n?(F=M.alternate,F!==null?(F=F.index,F<C?(M.flags|=2,C):F):(M.flags|=2,C)):(M.flags|=1048576,C)}function v(M){return n&&M.alternate===null&&(M.flags|=2),M}function I(M,C,F,X){return C===null||C.tag!==6?(C=yh(F,M.mode,X),C.return=M,C):(C=d(C,F),C.return=M,C)}function k(M,C,F,X){var ce=F.type;return ce===P?H(M,C,F.props.children,X,F.key):C!==null&&(C.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===wt&&$f(ce)===C.type)?(X=d(C,F.props),X.ref=Ko(M,C,F),X.return=M,X):(X=Gl(F.type,F.key,F.props,null,M.mode,X),X.ref=Ko(M,C,F),X.return=M,X)}function b(M,C,F,X){return C===null||C.tag!==4||C.stateNode.containerInfo!==F.containerInfo||C.stateNode.implementation!==F.implementation?(C=vh(F,M.mode,X),C.return=M,C):(C=d(C,F.children||[]),C.return=M,C)}function H(M,C,F,X,ce){return C===null||C.tag!==7?(C=zi(F,M.mode,X,ce),C.return=M,C):(C=d(C,F),C.return=M,C)}function Q(M,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return C=yh(""+C,M.mode,F),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Pe:return F=Gl(C.type,C.key,C.props,null,M.mode,F),F.ref=Ko(M,null,C),F.return=M,F;case Se:return C=vh(C,M.mode,F),C.return=M,C;case wt:var X=C._init;return Q(M,X(C._payload),F)}if(or(C)||pe(C))return C=zi(C,M.mode,F,null),C.return=M,C;Sl(M,C)}return null}function $(M,C,F,X){var ce=C!==null?C.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ce!==null?null:I(M,C,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Pe:return F.key===ce?k(M,C,F,X):null;case Se:return F.key===ce?b(M,C,F,X):null;case wt:return ce=F._init,$(M,C,ce(F._payload),X)}if(or(F)||pe(F))return ce!==null?null:H(M,C,F,X,null);Sl(M,F)}return null}function ie(M,C,F,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number")return M=M.get(F)||null,I(C,M,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Pe:return M=M.get(X.key===null?F:X.key)||null,k(C,M,X,ce);case Se:return M=M.get(X.key===null?F:X.key)||null,b(C,M,X,ce);case wt:var me=X._init;return ie(M,C,F,me(X._payload),ce)}if(or(X)||pe(X))return M=M.get(F)||null,H(C,M,X,ce,null);Sl(C,X)}return null}function ae(M,C,F,X){for(var ce=null,me=null,ge=C,Ee=C=0,St=null;ge!==null&&Ee<F.length;Ee++){ge.index>Ee?(St=ge,ge=null):St=ge.sibling;var ze=$(M,ge,F[Ee],X);if(ze===null){ge===null&&(ge=St);break}n&&ge&&ze.alternate===null&&r(M,ge),C=p(ze,C,Ee),me===null?ce=ze:me.sibling=ze,me=ze,ge=St}if(Ee===F.length)return o(M,ge),Ze&&Vi(M,Ee),ce;if(ge===null){for(;Ee<F.length;Ee++)ge=Q(M,F[Ee],X),ge!==null&&(C=p(ge,C,Ee),me===null?ce=ge:me.sibling=ge,me=ge);return Ze&&Vi(M,Ee),ce}for(ge=c(M,ge);Ee<F.length;Ee++)St=ie(ge,M,Ee,F[Ee],X),St!==null&&(n&&St.alternate!==null&&ge.delete(St.key===null?Ee:St.key),C=p(St,C,Ee),me===null?ce=St:me.sibling=St,me=St);return n&&ge.forEach(function(ri){return r(M,ri)}),Ze&&Vi(M,Ee),ce}function le(M,C,F,X){var ce=pe(F);if(typeof ce!="function")throw Error(t(150));if(F=ce.call(F),F==null)throw Error(t(151));for(var me=ce=null,ge=C,Ee=C=0,St=null,ze=F.next();ge!==null&&!ze.done;Ee++,ze=F.next()){ge.index>Ee?(St=ge,ge=null):St=ge.sibling;var ri=$(M,ge,ze.value,X);if(ri===null){ge===null&&(ge=St);break}n&&ge&&ri.alternate===null&&r(M,ge),C=p(ri,C,Ee),me===null?ce=ri:me.sibling=ri,me=ri,ge=St}if(ze.done)return o(M,ge),Ze&&Vi(M,Ee),ce;if(ge===null){for(;!ze.done;Ee++,ze=F.next())ze=Q(M,ze.value,X),ze!==null&&(C=p(ze,C,Ee),me===null?ce=ze:me.sibling=ze,me=ze);return Ze&&Vi(M,Ee),ce}for(ge=c(M,ge);!ze.done;Ee++,ze=F.next())ze=ie(ge,M,Ee,ze.value,X),ze!==null&&(n&&ze.alternate!==null&&ge.delete(ze.key===null?Ee:ze.key),C=p(ze,C,Ee),me===null?ce=ze:me.sibling=ze,me=ze);return n&&ge.forEach(function(j_){return r(M,j_)}),Ze&&Vi(M,Ee),ce}function ot(M,C,F,X){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Pe:e:{for(var ce=F.key,me=C;me!==null;){if(me.key===ce){if(ce=F.type,ce===P){if(me.tag===7){o(M,me.sibling),C=d(me,F.props.children),C.return=M,M=C;break e}}else if(me.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===wt&&$f(ce)===me.type){o(M,me.sibling),C=d(me,F.props),C.ref=Ko(M,me,F),C.return=M,M=C;break e}o(M,me);break}else r(M,me);me=me.sibling}F.type===P?(C=zi(F.props.children,M.mode,X,F.key),C.return=M,M=C):(X=Gl(F.type,F.key,F.props,null,M.mode,X),X.ref=Ko(M,C,F),X.return=M,M=X)}return v(M);case Se:e:{for(me=F.key;C!==null;){if(C.key===me)if(C.tag===4&&C.stateNode.containerInfo===F.containerInfo&&C.stateNode.implementation===F.implementation){o(M,C.sibling),C=d(C,F.children||[]),C.return=M,M=C;break e}else{o(M,C);break}else r(M,C);C=C.sibling}C=vh(F,M.mode,X),C.return=M,M=C}return v(M);case wt:return me=F._init,ot(M,C,me(F._payload),X)}if(or(F))return ae(M,C,F,X);if(pe(F))return le(M,C,F,X);Sl(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,C!==null&&C.tag===6?(o(M,C.sibling),C=d(C,F),C.return=M,M=C):(o(M,C),C=yh(F,M.mode,X),C.return=M,M=C),v(M)):o(M,C)}return ot}var Ms=Hf(!0),qf=Hf(!1),Al=Wr(null),kl=null,Fs=null,Rc=null;function Cc(){Rc=Fs=kl=null}function Pc(n){var r=Al.current;Xe(Al),n._currentValue=r}function Nc(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function bs(n,r){kl=n,Rc=Fs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Zt=!0),n.firstContext=null)}function wn(n){var r=n._currentValue;if(Rc!==n)if(n={context:n,memoizedValue:r,next:null},Fs===null){if(kl===null)throw Error(t(308));Fs=n,kl.dependencies={lanes:0,firstContext:n}}else Fs=Fs.next=n;return r}var Oi=null;function xc(n){Oi===null?Oi=[n]:Oi.push(n)}function Wf(n,r,o,c){var d=r.interleaved;return d===null?(o.next=o,xc(r)):(o.next=d.next,d.next=o),r.interleaved=o,_r(n,c)}function _r(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Qr=!1;function Dc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Yr(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,_r(n,o)}return d=c.interleaved,d===null?(r.next=r,xc(c)):(r.next=d.next,d.next=r),c.interleaved=r,_r(n,o)}function Rl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Ur(n,o)}}function Gf(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function Cl(n,r,o,c){var d=n.updateQueue;Qr=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,b=k.next;k.next=null,v===null?p=b:v.next=b,v=k;var H=n.alternate;H!==null&&(H=H.updateQueue,I=H.lastBaseUpdate,I!==v&&(I===null?H.firstBaseUpdate=b:I.next=b,H.lastBaseUpdate=k))}if(p!==null){var Q=d.baseState;v=0,H=b=k=null,I=p;do{var $=I.lane,ie=I.eventTime;if((c&$)===$){H!==null&&(H=H.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ae=n,le=I;switch($=r,ie=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Q=ae.call(ie,Q,$);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,$=typeof ae=="function"?ae.call(ie,Q,$):ae,$==null)break e;Q=ne({},Q,$);break e;case 2:Qr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,$=d.effects,$===null?d.effects=[I]:$.push(I))}else ie={eventTime:ie,lane:$,tag:I.tag,payload:I.payload,callback:I.callback,next:null},H===null?(b=H=ie,k=Q):H=H.next=ie,v|=$;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;$=I,I=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(H===null&&(k=Q),d.baseState=k,d.firstBaseUpdate=b,d.lastBaseUpdate=H,r=d.shared.interleaved,r!==null){d=r;do v|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Fi|=v,n.lanes=v,n.memoizedState=Q}}function Qf(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Go={},Xn=Wr(Go),Qo=Wr(Go),Yo=Wr(Go);function Li(n){if(n===Go)throw Error(t(174));return n}function Vc(n,r){switch(Ge(Yo,r),Ge(Qo,n),Ge(Xn,Go),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:pt(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=pt(r,n)}Xe(Xn),Ge(Xn,r)}function Us(){Xe(Xn),Xe(Qo),Xe(Yo)}function Yf(n){Li(Yo.current);var r=Li(Xn.current),o=pt(r,n.type);r!==o&&(Ge(Qo,n),Ge(Xn,o))}function Oc(n){Qo.current===n&&(Xe(Xn),Xe(Qo))}var nt=Wr(0);function Pl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Lc=[];function Mc(){for(var n=0;n<Lc.length;n++)Lc[n]._workInProgressVersionPrimary=null;Lc.length=0}var Nl=Re.ReactCurrentDispatcher,Fc=Re.ReactCurrentBatchConfig,Mi=0,rt=null,gt=null,Tt=null,xl=!1,Xo=!1,Jo=0,l_=0;function Ft(){throw Error(t(321))}function bc(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Mn(n[o],r[o]))return!1;return!0}function Uc(n,r,o,c,d,p){if(Mi=p,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Nl.current=n===null||n.memoizedState===null?d_:f_,n=o(c,d),Xo){p=0;do{if(Xo=!1,Jo=0,25<=p)throw Error(t(301));p+=1,Tt=gt=null,r.updateQueue=null,Nl.current=p_,n=o(c,d)}while(Xo)}if(Nl.current=Ol,r=gt!==null&&gt.next!==null,Mi=0,Tt=gt=rt=null,xl=!1,r)throw Error(t(300));return n}function jc(){var n=Jo!==0;return Jo=0,n}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function En(){if(gt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var r=Tt===null?rt.memoizedState:Tt.next;if(r!==null)Tt=r,gt=n;else{if(n===null)throw Error(t(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?rt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Zo(n,r){return typeof r=="function"?r(n):r}function zc(n){var r=En(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=gt,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var I=v=null,k=null,b=p;do{var H=b.lane;if((Mi&H)===H)k!==null&&(k=k.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),c=b.hasEagerState?b.eagerState:n(c,b.action);else{var Q={lane:H,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};k===null?(I=k=Q,v=c):k=k.next=Q,rt.lanes|=H,Fi|=H}b=b.next}while(b!==null&&b!==p);k===null?v=c:k.next=I,Mn(c,r.memoizedState)||(Zt=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=k,o.lastRenderedState=c}if(n=o.interleaved,n!==null){d=n;do p=d.lane,rt.lanes|=p,Fi|=p,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Bc(n){var r=En(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do p=n(p,v.action),v=v.next;while(v!==d);Mn(p,r.memoizedState)||(Zt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Xf(){}function Jf(n,r){var o=rt,c=En(),d=r(),p=!Mn(c.memoizedState,d);if(p&&(c.memoizedState=d,Zt=!0),c=c.queue,$c(tp.bind(null,o,c,n),[n]),c.getSnapshot!==r||p||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,ea(9,ep.bind(null,o,c,d,r),void 0,null),It===null)throw Error(t(349));(Mi&30)!==0||Zf(o,r,d)}return d}function Zf(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function ep(n,r,o,c){r.value=o,r.getSnapshot=c,np(r)&&rp(n)}function tp(n,r,o){return o(function(){np(r)&&rp(n)})}function np(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Mn(n,o)}catch{return!0}}function rp(n){var r=_r(n,1);r!==null&&zn(r,n,1,-1)}function ip(n){var r=Jn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:n},r.queue=n,n=n.dispatch=h_.bind(null,rt,n),[r.memoizedState,n]}function ea(n,r,o,c){return n={tag:n,create:r,destroy:o,deps:c,next:null},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n)),n}function sp(){return En().memoizedState}function Dl(n,r,o,c){var d=Jn();rt.flags|=n,d.memoizedState=ea(1|r,o,void 0,c===void 0?null:c)}function Vl(n,r,o,c){var d=En();c=c===void 0?null:c;var p=void 0;if(gt!==null){var v=gt.memoizedState;if(p=v.destroy,c!==null&&bc(c,v.deps)){d.memoizedState=ea(r,o,p,c);return}}rt.flags|=n,d.memoizedState=ea(1|r,o,p,c)}function op(n,r){return Dl(8390656,8,n,r)}function $c(n,r){return Vl(2048,8,n,r)}function ap(n,r){return Vl(4,2,n,r)}function lp(n,r){return Vl(4,4,n,r)}function up(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function cp(n,r,o){return o=o!=null?o.concat([n]):null,Vl(4,4,up.bind(null,r,n),o)}function Hc(){}function hp(n,r){var o=En();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&bc(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function dp(n,r){var o=En();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&bc(r,c[1])?c[0]:(n=n(),o.memoizedState=[n,r],n)}function fp(n,r,o){return(Mi&21)===0?(n.baseState&&(n.baseState=!1,Zt=!0),n.memoizedState=o):(Mn(o,r)||(o=Ai(),rt.lanes|=o,Fi|=o,n.baseState=!0),r)}function u_(n,r){var o=Oe;Oe=o!==0&&4>o?o:4,n(!0);var c=Fc.transition;Fc.transition={};try{n(!1),r()}finally{Oe=o,Fc.transition=c}}function pp(){return En().memoizedState}function c_(n,r,o){var c=ei(n);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},mp(n))gp(r,o);else if(o=Wf(n,r,o,c),o!==null){var d=Kt();zn(o,n,c,d),yp(o,r,c)}}function h_(n,r,o){var c=ei(n),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(mp(n))gp(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,I=p(v,o);if(d.hasEagerState=!0,d.eagerState=I,Mn(I,v)){var k=r.interleaved;k===null?(d.next=d,xc(r)):(d.next=k.next,k.next=d),r.interleaved=d;return}}catch{}o=Wf(n,r,d,c),o!==null&&(d=Kt(),zn(o,n,c,d),yp(o,r,c))}}function mp(n){var r=n.alternate;return n===rt||r!==null&&r===rt}function gp(n,r){Xo=xl=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function yp(n,r,o){if((o&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Ur(n,o)}}var Ol={readContext:wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},d_={readContext:wn,useCallback:function(n,r){return Jn().memoizedState=[n,r===void 0?null:r],n},useContext:wn,useEffect:op,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Dl(4194308,4,up.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Dl(4194308,4,n,r)},useInsertionEffect:function(n,r){return Dl(4,2,n,r)},useMemo:function(n,r){var o=Jn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var c=Jn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=c_.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var r=Jn();return n={current:n},r.memoizedState=n},useState:ip,useDebugValue:Hc,useDeferredValue:function(n){return Jn().memoizedState=n},useTransition:function(){var n=ip(!1),r=n[0];return n=u_.bind(null,n[1]),Jn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var c=rt,d=Jn();if(Ze){if(o===void 0)throw Error(t(407));o=o()}else{if(o=r(),It===null)throw Error(t(349));(Mi&30)!==0||Zf(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,op(tp.bind(null,c,p,n),[n]),c.flags|=2048,ea(9,ep.bind(null,c,p,o,r),void 0,null),o},useId:function(){var n=Jn(),r=It.identifierPrefix;if(Ze){var o=vr,c=yr;o=(c&~(1<<32-Ht(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Jo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=l_++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},f_={readContext:wn,useCallback:hp,useContext:wn,useEffect:$c,useImperativeHandle:cp,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:dp,useReducer:zc,useRef:sp,useState:function(){return zc(Zo)},useDebugValue:Hc,useDeferredValue:function(n){var r=En();return fp(r,gt.memoizedState,n)},useTransition:function(){var n=zc(Zo)[0],r=En().memoizedState;return[n,r]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:pp,unstable_isNewReconciler:!1},p_={readContext:wn,useCallback:hp,useContext:wn,useEffect:$c,useImperativeHandle:cp,useInsertionEffect:ap,useLayoutEffect:lp,useMemo:dp,useReducer:Bc,useRef:sp,useState:function(){return Bc(Zo)},useDebugValue:Hc,useDeferredValue:function(n){var r=En();return gt===null?r.memoizedState=n:fp(r,gt.memoizedState,n)},useTransition:function(){var n=Bc(Zo)[0],r=En().memoizedState;return[n,r]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:pp,unstable_isNewReconciler:!1};function bn(n,r){if(n&&n.defaultProps){r=ne({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function qc(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:ne({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ll={isMounted:function(n){return(n=n._reactInternals)?Pn(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var c=Kt(),d=ei(n),p=wr(c,d);p.payload=r,o!=null&&(p.callback=o),r=Yr(n,p,d),r!==null&&(zn(r,n,d,c),Rl(r,n,d))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=Kt(),d=ei(n),p=wr(c,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Yr(n,p,d),r!==null&&(zn(r,n,d,c),Rl(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Kt(),c=ei(n),d=wr(o,c);d.tag=2,r!=null&&(d.callback=r),r=Yr(n,d,c),r!==null&&(zn(r,n,c,o),Rl(r,n,c))}};function vp(n,r,o,c,d,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):r.prototype&&r.prototype.isPureReactComponent?!jo(o,c)||!jo(d,p):!0}function _p(n,r,o){var c=!1,d=Kr,p=r.contextType;return typeof p=="object"&&p!==null?p=wn(p):(d=Jt(r)?xi:Mt.current,c=r.contextTypes,p=(c=c!=null)?Ds(n,d):Kr),r=new r(o,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ll,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function wp(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Ll.enqueueReplaceState(r,r.state,null)}function Wc(n,r,o,c){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},Dc(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=wn(p):(p=Jt(r)?xi:Mt.current,d.context=Ds(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(qc(n,r,p,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Ll.enqueueReplaceState(d,d.state,null),Cl(n,o,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function js(n,r){try{var o="",c=r;do o+=Ne(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function Kc(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function Gc(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var m_=typeof WeakMap=="function"?WeakMap:Map;function Ep(n,r,o){o=wr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Bl||(Bl=!0,uh=c),Gc(n,r)},o}function Tp(n,r,o){o=wr(-1,o),o.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Gc(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Gc(n,r),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Ip(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new m_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),n=P_.bind(null,n,r,o),r.then(n,n))}function Sp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Ap(n,r,o,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=wr(-1,1),r.tag=2,Yr(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var g_=Re.ReactCurrentOwner,Zt=!1;function Wt(n,r,o,c){r.child=n===null?qf(r,null,o,c):Ms(r,n.child,o,c)}function kp(n,r,o,c,d){o=o.render;var p=r.ref;return bs(r,d),c=Uc(n,r,o,c,p,d),o=jc(),n!==null&&!Zt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,Er(n,r,d)):(Ze&&o&&Tc(r),r.flags|=1,Wt(n,r,c,d),r.child)}function Rp(n,r,o,c,d){if(n===null){var p=o.type;return typeof p=="function"&&!gh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Cp(n,r,p,c,d)):(n=Gl(o.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:jo,o(v,c)&&n.ref===r.ref)return Er(n,r,d)}return r.flags|=1,n=ni(p,c),n.ref=r.ref,n.return=r,r.child=n}function Cp(n,r,o,c,d){if(n!==null){var p=n.memoizedProps;if(jo(p,c)&&n.ref===r.ref)if(Zt=!1,r.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Zt=!0);else return r.lanes=n.lanes,Er(n,r,d)}return Qc(n,r,o,c,d)}function Pp(n,r,o){var c=r.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Bs,dn),dn|=o;else{if((o&1073741824)===0)return n=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ge(Bs,dn),dn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,Ge(Bs,dn),dn|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,Ge(Bs,dn),dn|=c;return Wt(n,r,d,o),r.child}function Np(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Qc(n,r,o,c,d){var p=Jt(o)?xi:Mt.current;return p=Ds(r,p),bs(r,d),o=Uc(n,r,o,c,p,d),c=jc(),n!==null&&!Zt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,Er(n,r,d)):(Ze&&c&&Tc(r),r.flags|=1,Wt(n,r,o,d),r.child)}function xp(n,r,o,c,d){if(Jt(o)){var p=!0;_l(r)}else p=!1;if(bs(r,d),r.stateNode===null)Fl(n,r),_p(r,o,c),Wc(r,o,c,d),c=!0;else if(n===null){var v=r.stateNode,I=r.memoizedProps;v.props=I;var k=v.context,b=o.contextType;typeof b=="object"&&b!==null?b=wn(b):(b=Jt(o)?xi:Mt.current,b=Ds(r,b));var H=o.getDerivedStateFromProps,Q=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";Q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==c||k!==b)&&wp(r,v,c,b),Qr=!1;var $=r.memoizedState;v.state=$,Cl(r,c,v,d),k=r.memoizedState,I!==c||$!==k||Xt.current||Qr?(typeof H=="function"&&(qc(r,o,H,c),k=r.memoizedState),(I=Qr||vp(r,o,I,c,$,k,b))?(Q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),v.props=c,v.state=k,v.context=b,c=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,Kf(n,r),I=r.memoizedProps,b=r.type===r.elementType?I:bn(r.type,I),v.props=b,Q=r.pendingProps,$=v.context,k=o.contextType,typeof k=="object"&&k!==null?k=wn(k):(k=Jt(o)?xi:Mt.current,k=Ds(r,k));var ie=o.getDerivedStateFromProps;(H=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==Q||$!==k)&&wp(r,v,c,k),Qr=!1,$=r.memoizedState,v.state=$,Cl(r,c,v,d);var ae=r.memoizedState;I!==Q||$!==ae||Xt.current||Qr?(typeof ie=="function"&&(qc(r,o,ie,c),ae=r.memoizedState),(b=Qr||vp(r,o,b,c,$,ae,k)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ae,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ae,k)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),v.props=c,v.state=ae,v.context=k,c=b):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),c=!1)}return Yc(n,r,o,c,p,d)}function Yc(n,r,o,c,d,p){Np(n,r);var v=(r.flags&128)!==0;if(!c&&!v)return d&&Mf(r,o,!1),Er(n,r,p);c=r.stateNode,g_.current=r;var I=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&v?(r.child=Ms(r,n.child,null,p),r.child=Ms(r,null,I,p)):Wt(n,r,I,p),r.memoizedState=c.state,d&&Mf(r,o,!0),r.child}function Dp(n){var r=n.stateNode;r.pendingContext?Of(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Of(n,r.context,!1),Vc(n,r.containerInfo)}function Vp(n,r,o,c,d){return Ls(),kc(d),r.flags|=256,Wt(n,r,o,c),r.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Jc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Op(n,r,o){var c=r.pendingProps,d=nt.current,p=!1,v=(r.flags&128)!==0,I;if((I=v)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ge(nt,d&1),n===null)return Ac(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=c.children,n=c.fallback,p?(c=r.mode,p=r.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Ql(v,c,0,null),n=zi(n,c,o,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=Jc(o),r.memoizedState=Xc,n):Zc(r,v));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return y_(n,r,v,c,I,d,o);if(p){p=c.fallback,v=r.mode,d=n.child,I=d.sibling;var k={mode:"hidden",children:c.children};return(v&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=ni(d,k),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=ni(I,p):(p=zi(p,v,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,v=n.child.memoizedState,v=v===null?Jc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=n.childLanes&~o,r.memoizedState=Xc,c}return p=n.child,n=p.sibling,c=ni(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=c,r.memoizedState=null,c}function Zc(n,r){return r=Ql({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Ml(n,r,o,c){return c!==null&&kc(c),Ms(r,n.child,null,o),n=Zc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function y_(n,r,o,c,d,p,v){if(o)return r.flags&256?(r.flags&=-257,c=Kc(Error(t(422))),Ml(n,r,v,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=Ql({mode:"visible",children:c.children},d,0,null),p=zi(p,d,v,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Ms(r,n.child,null,v),r.child.memoizedState=Jc(v),r.memoizedState=Xc,p);if((r.mode&1)===0)return Ml(n,r,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=Kc(p,c,void 0),Ml(n,r,v,c)}if(I=(v&n.childLanes)!==0,Zt||I){if(c=It,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,_r(n,d),zn(c,n,d,-1))}return mh(),c=Kc(Error(t(421))),Ml(n,r,v,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=N_.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,hn=qr(d.nextSibling),cn=r,Ze=!0,Fn=null,n!==null&&(vn[_n++]=yr,vn[_n++]=vr,vn[_n++]=Di,yr=n.id,vr=n.overflow,Di=r),r=Zc(r,c.children),r.flags|=4096,r)}function Lp(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Nc(n.return,r,o)}function eh(n,r,o,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function Mp(n,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(Wt(n,r,c.children,o),c=nt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lp(n,o,r);else if(n.tag===19)Lp(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ge(nt,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)n=o.alternate,n!==null&&Pl(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),eh(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Pl(n)===null){r.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}eh(r,!0,o,null,p);break;case"together":eh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Er(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Fi|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,o=ni(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=ni(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function v_(n,r,o){switch(r.tag){case 3:Dp(r),Ls();break;case 5:Yf(r);break;case 1:Jt(r.type)&&_l(r);break;case 4:Vc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Ge(Al,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ge(nt,nt.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Op(n,r,o):(Ge(nt,nt.current&1),n=Er(n,r,o),n!==null?n.sibling:null);Ge(nt,nt.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Mp(n,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ge(nt,nt.current),c)break;return null;case 22:case 23:return r.lanes=0,Pp(n,r,o)}return Er(n,r,o)}var Fp,th,bp,Up;Fp=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},th=function(){},bp=function(n,r,o,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Li(Xn.current);var p=null;switch(o){case"input":d=dt(n,d),c=dt(n,c),p=[];break;case"select":d=ne({},d,{value:void 0}),c=ne({},c,{value:void 0}),p=[];break;case"textarea":d=mo(n,d),c=mo(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=gl)}Eo(o,c);var v;o=null;for(b in d)if(!c.hasOwnProperty(b)&&d.hasOwnProperty(b)&&d[b]!=null)if(b==="style"){var I=d[b];for(v in I)I.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in c){var k=c[b];if(I=d?.[b],c.hasOwnProperty(b)&&k!==I&&(k!=null||I!=null))if(b==="style")if(I){for(v in I)!I.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&I[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(p||(p=[]),p.push(b,o)),o=k;else b==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(p=p||[]).push(b,k)):b==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push(b,""+k):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(k!=null&&b==="onScroll"&&Ye("scroll",n),p||I===k||(p=[])):(p=p||[]).push(b,k))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},Up=function(n,r,o,c){o!==c&&(r.flags|=4)};function ta(n,r){if(!Ze)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function __(n,r,o){var c=r.pendingProps;switch(Ic(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return Jt(r.type)&&vl(),bt(r),null;case 3:return c=r.stateNode,Us(),Xe(Xt),Xe(Mt),Mc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Il(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fn!==null&&(dh(Fn),Fn=null))),th(n,r),bt(r),null;case 5:Oc(r);var d=Li(Yo.current);if(o=r.type,n!==null&&r.stateNode!=null)bp(n,r,o,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return bt(r),null}if(n=Li(Xn.current),Il(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[Yn]=r,c[qo]=p,n=(r.mode&1)!==0,o){case"dialog":Ye("cancel",c),Ye("close",c);break;case"iframe":case"object":case"embed":Ye("load",c);break;case"video":case"audio":for(d=0;d<Bo.length;d++)Ye(Bo[d],c);break;case"source":Ye("error",c);break;case"img":case"image":case"link":Ye("error",c),Ye("load",c);break;case"details":Ye("toggle",c);break;case"input":Gt(c,p),Ye("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ye("invalid",c);break;case"textarea":ns(c,p),Ye("invalid",c)}Eo(o,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var I=p[v];v==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&ml(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&ml(c.textContent,I,n),d=["children",""+I]):a.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&Ye("scroll",c)}switch(o){case"input":se(c),za(c,p,!0);break;case"textarea":se(c),go(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=gl)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ft(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(o,{is:c.is}):(n=v.createElement(o),o==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,o),n[Yn]=r,n[qo]=c,Fp(n,r,!1,!1),r.stateNode=n;e:{switch(v=To(o,c),o){case"dialog":Ye("cancel",n),Ye("close",n),d=c;break;case"iframe":case"object":case"embed":Ye("load",n),d=c;break;case"video":case"audio":for(d=0;d<Bo.length;d++)Ye(Bo[d],n);d=c;break;case"source":Ye("error",n),d=c;break;case"img":case"image":case"link":Ye("error",n),Ye("load",n),d=c;break;case"details":Ye("toggle",n),d=c;break;case"input":Gt(n,c),d=dt(n,c),Ye("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ne({},c,{value:void 0}),Ye("invalid",n);break;case"textarea":ns(n,c),d=mo(n,c),Ye("invalid",n);break;default:d=c}Eo(o,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var k=I[p];p==="style"?_o(n,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&yo(n,k)):p==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Or(n,k):typeof k=="number"&&Or(n,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?k!=null&&p==="onScroll"&&Ye("scroll",n):k!=null&&Ae(n,p,k,v))}switch(o){case"input":se(n),za(n,c,!1);break;case"textarea":se(n),go(n);break;case"option":c.value!=null&&n.setAttribute("value",""+j(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?ar(n,!!c.multiple,p,!1):c.defaultValue!=null&&ar(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=gl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return bt(r),null;case 6:if(n&&r.stateNode!=null)Up(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(o=Li(Yo.current),Li(Xn.current),Il(r)){if(c=r.stateNode,o=r.memoizedProps,c[Yn]=r,(p=c.nodeValue!==o)&&(n=cn,n!==null))switch(n.tag){case 3:ml(c.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ml(c.nodeValue,o,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Yn]=r,r.stateNode=c}return bt(r),null;case 13:if(Xe(nt),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ze&&hn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Bf(),Ls(),r.flags|=98560,p=!1;else if(p=Il(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Yn]=r}else Ls(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),p=!1}else Fn!==null&&(dh(Fn),Fn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(nt.current&1)!==0?yt===0&&(yt=3):mh())),r.updateQueue!==null&&(r.flags|=4),bt(r),null);case 4:return Us(),th(n,r),n===null&&$o(r.stateNode.containerInfo),bt(r),null;case 10:return Pc(r.type._context),bt(r),null;case 17:return Jt(r.type)&&vl(),bt(r),null;case 19:if(Xe(nt),p=r.memoizedState,p===null)return bt(r),null;if(c=(r.flags&128)!==0,v=p.rendering,v===null)if(c)ta(p,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=Pl(n),v!==null){for(r.flags|=128,ta(p,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,n=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,n=v.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Ge(nt,nt.current&1|2),r.child}n=n.sibling}p.tail!==null&&Ke()>$s&&(r.flags|=128,c=!0,ta(p,!1),r.lanes=4194304)}else{if(!c)if(n=Pl(v),n!==null){if(r.flags|=128,c=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ta(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ze)return bt(r),null}else 2*Ke()-p.renderingStartTime>$s&&o!==1073741824&&(r.flags|=128,c=!0,ta(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ke(),r.sibling=null,o=nt.current,Ge(nt,c?o&1|2:o&1),r):(bt(r),null);case 22:case 23:return ph(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(dn&1073741824)!==0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function w_(n,r){switch(Ic(r),r.tag){case 1:return Jt(r.type)&&vl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Us(),Xe(Xt),Xe(Mt),Mc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Oc(r),null;case 13:if(Xe(nt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Ls()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Xe(nt),null;case 4:return Us(),null;case 10:return Pc(r.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var bl=!1,Ut=!1,E_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function zs(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){it(n,r,c)}else o.current=null}function nh(n,r,o){try{o()}catch(c){it(n,r,c)}}var jp=!1;function T_(n,r){if(pc=Br,n=vf(),oc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,I=-1,k=-1,b=0,H=0,Q=n,$=null;t:for(;;){for(var ie;Q!==o||d!==0&&Q.nodeType!==3||(I=v+d),Q!==p||c!==0&&Q.nodeType!==3||(k=v+c),Q.nodeType===3&&(v+=Q.nodeValue.length),(ie=Q.firstChild)!==null;)$=Q,Q=ie;for(;;){if(Q===n)break t;if($===o&&++b===d&&(I=v),$===p&&++H===c&&(k=v),(ie=Q.nextSibling)!==null)break;Q=$,$=Q.parentNode}Q=ie}o=I===-1||k===-1?null:{start:I,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(mc={focusedElem:n,selectionRange:o},Br=!1,oe=r;oe!==null;)if(r=oe,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,oe=n;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,ot=ae.memoizedState,M=r.stateNode,C=M.getSnapshotBeforeUpdate(r.elementType===r.type?le:bn(r.type,le),ot);M.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){it(r,r.return,X)}if(n=r.sibling,n!==null){n.return=r.return,oe=n;break}oe=r.return}return ae=jp,jp=!1,ae}function na(n,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&nh(r,o,p)}d=d.next}while(d!==c)}}function Ul(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function rh(n){var r=n.ref;if(r!==null){var o=n.stateNode;n.tag,n=o,typeof r=="function"?r(n):r.current=n}}function zp(n){var r=n.alternate;r!==null&&(n.alternate=null,zp(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Yn],delete r[qo],delete r[_c],delete r[i_],delete r[s_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Bp(n){return n.tag===5||n.tag===3||n.tag===4}function $p(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ih(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gl));else if(c!==4&&(n=n.child,n!==null))for(ih(n,r,o),n=n.sibling;n!==null;)ih(n,r,o),n=n.sibling}function sh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(sh(n,r,o),n=n.sibling;n!==null;)sh(n,r,o),n=n.sibling}var Nt=null,Un=!1;function Xr(n,r,o){for(o=o.child;o!==null;)Hp(n,r,o),o=o.sibling}function Hp(n,r,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ii,o)}catch{}switch(o.tag){case 5:Ut||zs(o,r);case 6:var c=Nt,d=Un;Nt=null,Xr(n,r,o),Nt=c,Un=d,Nt!==null&&(Un?(n=Nt,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Nt.removeChild(o.stateNode));break;case 18:Nt!==null&&(Un?(n=Nt,o=o.stateNode,n.nodeType===8?vc(n.parentNode,o):n.nodeType===1&&vc(n,o),On(n)):vc(Nt,o.stateNode));break;case 4:c=Nt,d=Un,Nt=o.stateNode.containerInfo,Un=!0,Xr(n,r,o),Nt=c,Un=d;break;case 0:case 11:case 14:case 15:if(!Ut&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&nh(o,r,v),d=d.next}while(d!==c)}Xr(n,r,o);break;case 1:if(!Ut&&(zs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){it(o,r,I)}Xr(n,r,o);break;case 21:Xr(n,r,o);break;case 22:o.mode&1?(Ut=(c=Ut)||o.memoizedState!==null,Xr(n,r,o),Ut=c):Xr(n,r,o);break;default:Xr(n,r,o)}}function qp(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new E_),r.forEach(function(c){var d=x_.bind(null,n,c);o.has(c)||(o.add(c),c.then(d,d))})}}function jn(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=n,v=r,I=v;e:for(;I!==null;){switch(I.tag){case 5:Nt=I.stateNode,Un=!1;break e;case 3:Nt=I.stateNode.containerInfo,Un=!0;break e;case 4:Nt=I.stateNode.containerInfo,Un=!0;break e}I=I.return}if(Nt===null)throw Error(t(160));Hp(p,v,d),Nt=null,Un=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(b){it(d,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wp(r,n),r=r.sibling}function Wp(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jn(r,n),Zn(n),c&4){try{na(3,n,n.return),Ul(3,n)}catch(le){it(n,n.return,le)}try{na(5,n,n.return)}catch(le){it(n,n.return,le)}}break;case 1:jn(r,n),Zn(n),c&512&&o!==null&&zs(o,o.return);break;case 5:if(jn(r,n),Zn(n),c&512&&o!==null&&zs(o,o.return),n.flags&32){var d=n.stateNode;try{Or(d,"")}catch(le){it(n,n.return,le)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,v=o!==null?o.memoizedProps:p,I=n.type,k=n.updateQueue;if(n.updateQueue=null,k!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&fn(d,p),To(I,v);var b=To(I,p);for(v=0;v<k.length;v+=2){var H=k[v],Q=k[v+1];H==="style"?_o(d,Q):H==="dangerouslySetInnerHTML"?yo(d,Q):H==="children"?Or(d,Q):Ae(d,H,Q,b)}switch(I){case"input":po(d,p);break;case"textarea":rs(d,p);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?ar(d,!!p.multiple,ie,!1):$!==!!p.multiple&&(p.defaultValue!=null?ar(d,!!p.multiple,p.defaultValue,!0):ar(d,!!p.multiple,p.multiple?[]:"",!1))}d[qo]=p}catch(le){it(n,n.return,le)}}break;case 6:if(jn(r,n),Zn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(le){it(n,n.return,le)}}break;case 3:if(jn(r,n),Zn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{On(r.containerInfo)}catch(le){it(n,n.return,le)}break;case 4:jn(r,n),Zn(n);break;case 13:jn(r,n),Zn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(lh=Ke())),c&4&&qp(n);break;case 22:if(H=o!==null&&o.memoizedState!==null,n.mode&1?(Ut=(b=Ut)||H,jn(r,n),Ut=b):jn(r,n),Zn(n),c&8192){if(b=n.memoizedState!==null,(n.stateNode.isHidden=b)&&!H&&(n.mode&1)!==0)for(oe=n,H=n.child;H!==null;){for(Q=oe=H;oe!==null;){switch($=oe,ie=$.child,$.tag){case 0:case 11:case 14:case 15:na(4,$,$.return);break;case 1:zs($,$.return);var ae=$.stateNode;if(typeof ae.componentWillUnmount=="function"){c=$,o=$.return;try{r=c,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){it(c,o,le)}}break;case 5:zs($,$.return);break;case 22:if($.memoizedState!==null){Qp(Q);continue}}ie!==null?(ie.return=$,oe=ie):Qp(Q)}H=H.sibling}e:for(H=null,Q=n;;){if(Q.tag===5){if(H===null){H=Q;try{d=Q.stateNode,b?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Q.stateNode,k=Q.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=vo("display",v))}catch(le){it(n,n.return,le)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(le){it(n,n.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===n)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===n)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===n)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:jn(r,n),Zn(n),c&4&&qp(n);break;case 21:break;default:jn(r,n),Zn(n)}}function Zn(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(Bp(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Or(d,""),c.flags&=-33);var p=$p(n);sh(n,p,d);break;case 3:case 4:var v=c.stateNode.containerInfo,I=$p(n);ih(n,I,v);break;default:throw Error(t(161))}}catch(k){it(n,n.return,k)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function I_(n,r,o){oe=n,Kp(n)}function Kp(n,r,o){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,p=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||bl;if(!v){var I=d.alternate,k=I!==null&&I.memoizedState!==null||Ut;I=bl;var b=Ut;if(bl=v,(Ut=k)&&!b)for(oe=d;oe!==null;)v=oe,k=v.child,v.tag===22&&v.memoizedState!==null?Yp(d):k!==null?(k.return=v,oe=k):Yp(d);for(;p!==null;)oe=p,Kp(p),p=p.sibling;oe=d,bl=I,Ut=b}Gp(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,oe=p):Gp(n)}}function Gp(n){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ut||Ul(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Ut)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:bn(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Qf(r,p,c);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Qf(r,v,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var H=b.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&On(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||r.flags&512&&rh(r)}catch($){it(r,r.return,$)}}if(r===n){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Qp(n){for(;oe!==null;){var r=oe;if(r===n){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Yp(n){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Ul(4,r)}catch(k){it(r,o,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(k){it(r,d,k)}}var p=r.return;try{rh(r)}catch(k){it(r,p,k)}break;case 5:var v=r.return;try{rh(r)}catch(k){it(r,v,k)}}}catch(k){it(r,r.return,k)}if(r===n){oe=null;break}var I=r.sibling;if(I!==null){I.return=r.return,oe=I;break}oe=r.return}}var S_=Math.ceil,jl=Re.ReactCurrentDispatcher,oh=Re.ReactCurrentOwner,Tn=Re.ReactCurrentBatchConfig,Ue=0,It=null,ct=null,xt=0,dn=0,Bs=Wr(0),yt=0,ra=null,Fi=0,zl=0,ah=0,ia=null,en=null,lh=0,$s=1/0,Tr=null,Bl=!1,uh=null,Jr=null,$l=!1,Zr=null,Hl=0,sa=0,ch=null,ql=-1,Wl=0;function Kt(){return(Ue&6)!==0?Ke():ql!==-1?ql:ql=Ke()}function ei(n){return(n.mode&1)===0?1:(Ue&2)!==0&&xt!==0?xt&-xt:a_.transition!==null?(Wl===0&&(Wl=Ai()),Wl):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:Vo(n.type)),n)}function zn(n,r,o,c){if(50<sa)throw sa=0,ch=null,Error(t(185));br(n,o,c),((Ue&2)===0||n!==It)&&(n===It&&((Ue&2)===0&&(zl|=o),yt===4&&ti(n,xt)),tn(n,c),o===1&&Ue===0&&(r.mode&1)===0&&($s=Ke()+500,wl&&Gr()))}function tn(n,r){var o=n.callbackNode;cr(n,r);var c=Si(n,n===It?xt:0);if(c===0)o!==null&&Co(o),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(o!=null&&Co(o),r===1)n.tag===0?o_(Jp.bind(null,n)):Ff(Jp.bind(null,n)),n_(function(){(Ue&6)===0&&Gr()}),o=null;else{switch(jr(c)){case 1:o=Ti;break;case 4:o=Lr;break;case 16:o=mn;break;case 536870912:o=Wa;break;default:o=mn}o=om(o,Xp.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Xp(n,r){if(ql=-1,Wl=0,(Ue&6)!==0)throw Error(t(327));var o=n.callbackNode;if(Hs()&&n.callbackNode!==o)return null;var c=Si(n,n===It?xt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=Kl(n,c);else{r=c;var d=Ue;Ue|=2;var p=em();(It!==n||xt!==r)&&(Tr=null,$s=Ke()+500,Ui(n,r));do try{R_();break}catch(I){Zp(n,I)}while(!0);Cc(),jl.current=p,Ue=d,ct!==null?r=0:(It=null,xt=0,r=yt)}if(r!==0){if(r===2&&(d=an(n),d!==0&&(c=d,r=hh(n,d))),r===1)throw o=ra,Ui(n,0),ti(n,c),tn(n,Ke()),o;if(r===6)ti(n,c);else{if(d=n.current.alternate,(c&30)===0&&!A_(d)&&(r=Kl(n,c),r===2&&(p=an(n),p!==0&&(c=p,r=hh(n,p))),r===1))throw o=ra,Ui(n,0),ti(n,c),tn(n,Ke()),o;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:ji(n,en,Tr);break;case 3:if(ti(n,c),(c&130023424)===c&&(r=lh+500-Ke(),10<r)){if(Si(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Kt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=yc(ji.bind(null,n,en,Tr),r);break}ji(n,en,Tr);break;case 4:if(ti(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var v=31-Ht(c);p=1<<v,v=r[v],v>d&&(d=v),c&=~p}if(c=d,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*S_(c/1960))-c,10<c){n.timeoutHandle=yc(ji.bind(null,n,en,Tr),c);break}ji(n,en,Tr);break;case 5:ji(n,en,Tr);break;default:throw Error(t(329))}}}return tn(n,Ke()),n.callbackNode===o?Xp.bind(null,n):null}function hh(n,r){var o=ia;return n.current.memoizedState.isDehydrated&&(Ui(n,r).flags|=256),n=Kl(n,r),n!==2&&(r=en,en=o,r!==null&&dh(r)),n}function dh(n){en===null?en=n:en.push.apply(en,n)}function A_(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Mn(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ti(n,r){for(r&=~ah,r&=~zl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Ht(r),c=1<<o;n[o]=-1,r&=~c}}function Jp(n){if((Ue&6)!==0)throw Error(t(327));Hs();var r=Si(n,0);if((r&1)===0)return tn(n,Ke()),null;var o=Kl(n,r);if(n.tag!==0&&o===2){var c=an(n);c!==0&&(r=c,o=hh(n,c))}if(o===1)throw o=ra,Ui(n,0),ti(n,r),tn(n,Ke()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ji(n,en,Tr),tn(n,Ke()),null}function fh(n,r){var o=Ue;Ue|=1;try{return n(r)}finally{Ue=o,Ue===0&&($s=Ke()+500,wl&&Gr())}}function bi(n){Zr!==null&&Zr.tag===0&&(Ue&6)===0&&Hs();var r=Ue;Ue|=1;var o=Tn.transition,c=Oe;try{if(Tn.transition=null,Oe=1,n)return n()}finally{Oe=c,Tn.transition=o,Ue=r,(Ue&6)===0&&Gr()}}function ph(){dn=Bs.current,Xe(Bs)}function Ui(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,t_(o)),ct!==null)for(o=ct.return;o!==null;){var c=o;switch(Ic(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:Us(),Xe(Xt),Xe(Mt),Mc();break;case 5:Oc(c);break;case 4:Us();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:Pc(c.type._context);break;case 22:case 23:ph()}o=o.return}if(It=n,ct=n=ni(n.current,null),xt=dn=r,yt=0,ra=null,ah=zl=Fi=0,en=ia=null,Oi!==null){for(r=0;r<Oi.length;r++)if(o=Oi[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var v=p.next;p.next=d,c.next=v}o.pending=c}Oi=null}return n}function Zp(n,r){do{var o=ct;try{if(Cc(),Nl.current=Ol,xl){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}xl=!1}if(Mi=0,Tt=gt=rt=null,Xo=!1,Jo=0,oh.current=null,o===null||o.return===null){yt=1,ra=r,ct=null;break}e:{var p=n,v=o.return,I=o,k=r;if(r=xt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var b=k,H=I,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var $=H.alternate;$?(H.updateQueue=$.updateQueue,H.memoizedState=$.memoizedState,H.lanes=$.lanes):(H.updateQueue=null,H.memoizedState=null)}var ie=Sp(v);if(ie!==null){ie.flags&=-257,Ap(ie,v,I,p,r),ie.mode&1&&Ip(p,b,r),r=ie,k=b;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(k),r.updateQueue=le}else ae.add(k);break e}else{if((r&1)===0){Ip(p,b,r),mh();break e}k=Error(t(426))}}else if(Ze&&I.mode&1){var ot=Sp(v);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Ap(ot,v,I,p,r),kc(js(k,I));break e}}p=k=js(k,I),yt!==4&&(yt=2),ia===null?ia=[p]:ia.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Ep(p,k,r);Gf(p,M);break e;case 1:I=k;var C=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Jr===null||!Jr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Tp(p,I,r);Gf(p,X);break e}}p=p.return}while(p!==null)}nm(o)}catch(ce){r=ce,ct===o&&o!==null&&(ct=o=o.return);continue}break}while(!0)}function em(){var n=jl.current;return jl.current=Ol,n===null?Ol:n}function mh(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||(Fi&268435455)===0&&(zl&268435455)===0||ti(It,xt)}function Kl(n,r){var o=Ue;Ue|=2;var c=em();(It!==n||xt!==r)&&(Tr=null,Ui(n,r));do try{k_();break}catch(d){Zp(n,d)}while(!0);if(Cc(),Ue=o,jl.current=c,ct!==null)throw Error(t(261));return It=null,xt=0,yt}function k_(){for(;ct!==null;)tm(ct)}function R_(){for(;ct!==null&&!Ha();)tm(ct)}function tm(n){var r=sm(n.alternate,n,dn);n.memoizedProps=n.pendingProps,r===null?nm(n):ct=r,oh.current=null}function nm(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=__(o,r,dn),o!==null){ct=o;return}}else{if(o=w_(o,r),o!==null){o.flags&=32767,ct=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ct=null;return}}if(r=r.sibling,r!==null){ct=r;return}ct=r=n}while(r!==null);yt===0&&(yt=5)}function ji(n,r,o){var c=Oe,d=Tn.transition;try{Tn.transition=null,Oe=1,C_(n,r,o,c)}finally{Tn.transition=d,Oe=c}return null}function C_(n,r,o,c){do Hs();while(Zr!==null);if((Ue&6)!==0)throw Error(t(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=o.lanes|o.childLanes;if(qe(n,p),n===It&&(ct=It=null,xt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||$l||($l=!0,om(mn,function(){return Hs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Tn.transition,Tn.transition=null;var v=Oe;Oe=1;var I=Ue;Ue|=4,oh.current=null,T_(n,o),Wp(o,n),Gv(mc),Br=!!pc,mc=pc=null,n.current=o,I_(o),Ju(),Ue=I,Oe=v,Tn.transition=p}else n.current=o;if($l&&($l=!1,Zr=n,Hl=d),p=n.pendingLanes,p===0&&(Jr=null),Ka(o.stateNode),tn(n,Ke()),r!==null)for(c=n.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Bl)throw Bl=!1,n=uh,uh=null,n;return(Hl&1)!==0&&n.tag!==0&&Hs(),p=n.pendingLanes,(p&1)!==0?n===ch?sa++:(sa=0,ch=n):sa=0,Gr(),null}function Hs(){if(Zr!==null){var n=jr(Hl),r=Tn.transition,o=Oe;try{if(Tn.transition=null,Oe=16>n?16:n,Zr===null)var c=!1;else{if(n=Zr,Zr=null,Hl=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,oe=n.current;oe!==null;){var p=oe,v=p.child;if((oe.flags&16)!==0){var I=p.deletions;if(I!==null){for(var k=0;k<I.length;k++){var b=I[k];for(oe=b;oe!==null;){var H=oe;switch(H.tag){case 0:case 11:case 15:na(8,H,p)}var Q=H.child;if(Q!==null)Q.return=H,oe=Q;else for(;oe!==null;){H=oe;var $=H.sibling,ie=H.return;if(zp(H),H===b){oe=null;break}if($!==null){$.return=ie,oe=$;break}oe=ie}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var ot=le.sibling;le.sibling=null,le=ot}while(le!==null)}}oe=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,oe=v;else e:for(;oe!==null;){if(p=oe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:na(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,oe=M;break e}oe=p.return}}var C=n.current;for(oe=C;oe!==null;){v=oe;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,oe=F;else e:for(v=C;oe!==null;){if(I=oe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Ul(9,I)}}catch(ce){it(I,I.return,ce)}if(I===v){oe=null;break e}var X=I.sibling;if(X!==null){X.return=I.return,oe=X;break e}oe=I.return}}if(Ue=d,Gr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ii,n)}catch{}c=!0}return c}finally{Oe=o,Tn.transition=r}}return!1}function rm(n,r,o){r=js(o,r),r=Ep(n,r,1),n=Yr(n,r,1),r=Kt(),n!==null&&(br(n,1,r),tn(n,r))}function it(n,r,o){if(n.tag===3)rm(n,n,o);else for(;r!==null;){if(r.tag===3){rm(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){n=js(o,n),n=Tp(r,n,1),r=Yr(r,n,1),n=Kt(),r!==null&&(br(r,1,n),tn(r,n));break}}r=r.return}}function P_(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),r=Kt(),n.pingedLanes|=n.suspendedLanes&o,It===n&&(xt&o)===o&&(yt===4||yt===3&&(xt&130023424)===xt&&500>Ke()-lh?Ui(n,0):ah|=o),tn(n,r)}function im(n,r){r===0&&((n.mode&1)===0?r=1:(r=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var o=Kt();n=_r(n,r),n!==null&&(br(n,r,o),tn(n,o))}function N_(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),im(n,o)}function x_(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),im(n,o)}var sm;sm=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Xt.current)Zt=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return Zt=!1,v_(n,r,o);Zt=(n.flags&131072)!==0}else Zt=!1,Ze&&(r.flags&1048576)!==0&&bf(r,Tl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Fl(n,r),n=r.pendingProps;var d=Ds(r,Mt.current);bs(r,o),d=Uc(null,r,c,n,d,o);var p=jc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Jt(c)?(p=!0,_l(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Dc(r),d.updater=Ll,r.stateNode=d,d._reactInternals=r,Wc(r,c,n,o),r=Yc(null,r,c,!0,p,o)):(r.tag=0,Ze&&p&&Tc(r),Wt(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Fl(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=V_(c),n=bn(c,n),d){case 0:r=Qc(null,r,c,n,o);break e;case 1:r=xp(null,r,c,n,o);break e;case 11:r=kp(null,r,c,n,o);break e;case 14:r=Rp(null,r,c,bn(c.type,n),o);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:bn(c,d),Qc(n,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:bn(c,d),xp(n,r,c,d,o);case 3:e:{if(Dp(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,d=p.element,Kf(n,r),Cl(r,c,null,o);var v=r.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=js(Error(t(423)),r),r=Vp(n,r,c,o,d);break e}else if(c!==d){d=js(Error(t(424)),r),r=Vp(n,r,c,o,d);break e}else for(hn=qr(r.stateNode.containerInfo.firstChild),cn=r,Ze=!0,Fn=null,o=qf(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ls(),c===d){r=Er(n,r,o);break e}Wt(n,r,c,o)}r=r.child}return r;case 5:return Yf(r),n===null&&Ac(r),c=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,v=d.children,gc(c,d)?v=null:p!==null&&gc(c,p)&&(r.flags|=32),Np(n,r),Wt(n,r,v,o),r.child;case 6:return n===null&&Ac(r),null;case 13:return Op(n,r,o);case 4:return Vc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ms(r,null,c,o):Wt(n,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:bn(c,d),kp(n,r,c,d,o);case 7:return Wt(n,r,r.pendingProps,o),r.child;case 8:return Wt(n,r,r.pendingProps.children,o),r.child;case 12:return Wt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,v=d.value,Ge(Al,c._currentValue),c._currentValue=v,p!==null)if(Mn(p.value,v)){if(p.children===d.children&&!Xt.current){r=Er(n,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){v=p.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(p.tag===1){k=wr(-1,o&-o),k.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var H=b.pending;H===null?k.next=k:(k.next=H.next,H.next=k),b.pending=k}}p.lanes|=o,k=p.alternate,k!==null&&(k.lanes|=o),Nc(p.return,o,r),I.lanes|=o;break}k=k.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(t(341));v.lanes|=o,I=v.alternate,I!==null&&(I.lanes|=o),Nc(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Wt(n,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,bs(r,o),d=wn(d),c=c(d),r.flags|=1,Wt(n,r,c,o),r.child;case 14:return c=r.type,d=bn(c,r.pendingProps),d=bn(c.type,d),Rp(n,r,c,d,o);case 15:return Cp(n,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:bn(c,d),Fl(n,r),r.tag=1,Jt(c)?(n=!0,_l(r)):n=!1,bs(r,o),_p(r,c,d),Wc(r,c,d,o),Yc(null,r,c,!0,n,o);case 19:return Mp(n,r,o);case 22:return Pp(n,r,o)}throw Error(t(156,r.tag))};function om(n,r){return hs(n,r)}function D_(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,r,o,c){return new D_(n,r,o,c)}function gh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function V_(n){if(typeof n=="function")return gh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===_t)return 14}return 2}function ni(n,r){var o=n.alternate;return o===null?(o=In(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Gl(n,r,o,c,d,p){var v=2;if(c=n,typeof n=="function")gh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case P:return zi(o.children,d,p,r);case T:v=8,d|=8;break;case A:return n=In(12,o,r,d|2),n.elementType=A,n.lanes=p,n;case S:return n=In(13,o,r,d),n.elementType=S,n.lanes=p,n;case tt:return n=In(19,o,r,d),n.elementType=tt,n.lanes=p,n;case $e:return Ql(o,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:v=10;break e;case x:v=9;break e;case V:v=11;break e;case _t:v=14;break e;case wt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=In(v,o,r,d),r.elementType=n,r.type=c,r.lanes=p,r}function zi(n,r,o,c){return n=In(7,n,c,r),n.lanes=o,n}function Ql(n,r,o,c){return n=In(22,n,c,r),n.elementType=$e,n.lanes=o,n.stateNode={isHidden:!1},n}function yh(n,r,o){return n=In(6,n,null,r),n.lanes=o,n}function vh(n,r,o){return r=In(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function O_(n,r,o,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fr(0),this.expirationTimes=Fr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function _h(n,r,o,c,d,p,v,I,k){return n=new O_(n,r,o,I,k),r===1?(r=1,p===!0&&(r|=8)):r=0,p=In(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dc(p),n}function L_(n,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:n,containerInfo:r,implementation:o}}function am(n){if(!n)return Kr;n=n._reactInternals;e:{if(Pn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Jt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(Jt(o))return Lf(n,o,r)}return r}function lm(n,r,o,c,d,p,v,I,k){return n=_h(o,c,!0,n,d,p,v,I,k),n.context=am(null),o=n.current,c=Kt(),d=ei(o),p=wr(c,d),p.callback=r??null,Yr(o,p,d),n.current.lanes=d,br(n,d,c),tn(n,c),n}function Yl(n,r,o,c){var d=r.current,p=Kt(),v=ei(d);return o=am(o),r.context===null?r.context=o:r.pendingContext=o,r=wr(p,v),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Yr(d,r,v),n!==null&&(zn(n,d,v,p),Rl(n,d,v)),v}function Xl(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function um(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function wh(n,r){um(n,r),(n=n.alternate)&&um(n,r)}function M_(){return null}var cm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Eh(n){this._internalRoot=n}Jl.prototype.render=Eh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));Yl(n,r,null,null)},Jl.prototype.unmount=Eh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;bi(function(){Yl(null,n,null,null)}),r[mr]=null}};function Jl(n){this._internalRoot=n}Jl.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ja();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Wn.length&&r!==0&&r<Wn[o].priority;o++);Wn.splice(o,0,n),o===0&&tl(n)}};function Th(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hm(){}function F_(n,r,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var b=Xl(v);p.call(b)}}var v=lm(r,c,n,0,null,!1,!1,"",hm);return n._reactRootContainer=v,n[mr]=v.current,$o(n.nodeType===8?n.parentNode:n),bi(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var b=Xl(k);I.call(b)}}var k=_h(n,0,!1,null,null,!1,!1,"",hm);return n._reactRootContainer=k,n[mr]=k.current,$o(n.nodeType===8?n.parentNode:n),bi(function(){Yl(r,k,o,c)}),k}function eu(n,r,o,c,d){var p=o._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var I=d;d=function(){var k=Xl(v);I.call(k)}}Yl(r,v,n,d)}else v=F_(o,r,n,d,c);return Xl(v)}Ya=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Mr(r.pendingLanes);o!==0&&(Ur(r,o|1),tn(r,Ke()),(Ue&6)===0&&($s=Ke()+500,Gr()))}break;case 13:bi(function(){var c=_r(n,1);if(c!==null){var d=Kt();zn(c,n,1,d)}}),wh(n,1)}},ps=function(n){if(n.tag===13){var r=_r(n,134217728);if(r!==null){var o=Kt();zn(r,n,134217728,o)}wh(n,134217728)}},Xa=function(n){if(n.tag===13){var r=ei(n),o=_r(n,r);if(o!==null){var c=Kt();zn(o,n,r,c)}wh(n,r)}},Ja=function(){return Oe},Za=function(n,r){var o=Oe;try{return Oe=n,r()}finally{Oe=o}},ss=function(n,r,o){switch(r){case"input":if(po(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var d=yl(c);if(!d)throw Error(t(90));de(c),po(c,d)}}}break;case"textarea":rs(n,o);break;case"select":r=o.value,r!=null&&ar(n,!!o.multiple,r,!1)}},vi=fh,So=bi;var b_={usingClientEntryPoint:!1,Events:[Wo,Ns,yl,Hn,Io,fh]},oa={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U_={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Re.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ro(n),n===null?null:n.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||M_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Ii=tu.inject(U_),on=tu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_,nn.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(r))throw Error(t(200));return L_(n,r,null,o)},nn.createRoot=function(n,r){if(!Th(n))throw Error(t(299));var o=!1,c="",d=cm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=_h(n,1,!1,null,null,o,!1,c,d),n[mr]=r.current,$o(n.nodeType===8?n.parentNode:n),new Eh(r)},nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ro(r),n=n===null?null:n.stateNode,n},nn.flushSync=function(n){return bi(n)},nn.hydrate=function(n,r,o){if(!Zl(r))throw Error(t(200));return eu(null,n,r,!0,o)},nn.hydrateRoot=function(n,r,o){if(!Th(n))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",v=cm;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=lm(r,null,n,1,o??null,d,!1,p,v),n[mr]=r.current,$o(n),c)for(n=0;n<c.length;n++)o=c[n],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Jl(r)},nn.render=function(n,r,o){if(!Zl(r))throw Error(t(200));return eu(null,n,r,!1,o)},nn.unmountComponentAtNode=function(n){if(!Zl(n))throw Error(t(40));return n._reactRootContainer?(bi(function(){eu(null,null,n,!1,function(){n._reactRootContainer=null,n[mr]=null})}),!0):!1},nn.unstable_batchedUpdates=fh,nn.unstable_renderSubtreeIntoContainer=function(n,r,o,c){if(!Zl(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return eu(n,r,o,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var _m;function K_(){if(_m)return Ah.exports;_m=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ah.exports=W_(),Ah.exports}var wm;function G_(){if(wm)return nu;wm=1;var i=K_();return nu.createRoot=i.createRoot,nu.hydrateRoot=i.hydrateRoot,nu}var Q_=G_();const Y_=jg(Q_);var We=cd();const X_=jg(We);var J_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),sn=(i,e)=>{const t=We.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:y,..._},E)=>We.createElement("svg",{ref:E,...J_,width:a,height:a,stroke:s,strokeWidth:h?Number(u)*24/Number(a):u,className:["lucide",`lucide-${Z_(i)}`,m].join(" "),..._},[...e.map(([N,O])=>We.createElement(N,O)),...Array.isArray(y)?y:[y]]));return t.displayName=`${i}`,t};const Em=sn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const e0=sn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const t0=sn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const n0=sn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const r0=sn("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);const i0=sn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const s0=sn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const o0=sn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Ch=sn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const a0=sn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Tm=sn("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const l0=sn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const u0=sn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const c0=sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Im={};const zg=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},h0=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[t++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[t++],h=i[t++],m=i[t++],y=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,E=u>>2,N=(u&3)<<4|m>>4;let O=(m&15)<<2|_>>6,z=_&63;y||(z=64,h||(O=64)),s.push(t[E],t[N],t[O],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(zg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):h0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=t[i.charAt(a++)],m=a<i.length?t[i.charAt(a)]:0;++a;const _=a<i.length?t[i.charAt(a)]:64;++a;const N=a<i.length?t[i.charAt(a)]:64;if(++a,u==null||m==null||_==null||N==null)throw new d0;const O=u<<2|m>>4;if(s.push(O),_!==64){const z=m<<4&240|_>>2;if(s.push(z),N!==64){const K=_<<6&192|N;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class d0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f0=function(i){const e=zg(i);return Bg.encodeByteArray(e,!0)},gu=function(i){return f0(i).replace(/\./g,"")},$g=function(i){try{return Bg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const m0=()=>p0().__FIREBASE_DEFAULTS__,g0=()=>{if(typeof process>"u"||typeof Im>"u")return;const i=Im.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},y0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$g(i[1]);return e&&JSON.parse(e)},Ou=()=>{try{return m0()||g0()||y0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Hg=i=>{var e,t;return(t=(e=Ou())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},v0=i=>{const e=Hg(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},qg=()=>{var i;return(i=Ou())===null||i===void 0?void 0:i.config},Wg=i=>{var e;return(e=Ou())===null||e===void 0?void 0:e[`_${i}`]};class _0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function w0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gu(JSON.stringify(t)),gu(JSON.stringify(h)),""].join(".")}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function T0(){var i;const e=(i=Ou())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function A0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k0(){const i=$t();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function R0(){return!T0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C0(){try{return typeof indexedDB=="object"}catch{return!1}}function P0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}const N0="FirebaseError";class Vr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=N0,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Na.prototype.create)}}class Na{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?x0(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Vr(a,m,s)}}function x0(i,e){return i.replace(D0,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const D0=/\{\$([^}]+)}/g;function V0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function yu(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(Sm(u)&&Sm(h)){if(!yu(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Sm(i){return i!==null&&typeof i=="object"}function xa(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function O0(i,e){const t=new L0(i,e);return t.subscribe.bind(t)}class L0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");M0(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Ph),a.error===void 0&&(a.error=Ph),a.complete===void 0&&(a.complete=Ph);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M0(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ph(){}function Ot(i){return i&&i._delegate?i._delegate:i}class Gi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bi="[DEFAULT]";class F0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _0;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U0(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b0(i){return i===Bi?void 0:i}function U0(i){return i.instantiationMode==="EAGER"}class j0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new F0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const z0={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},B0=Le.INFO,$0={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},H0=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=$0[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hd{constructor(e){this.name=e,this._logLevel=B0,this._logHandler=H0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const q0=(i,e)=>e.some(t=>i instanceof t);let Am,km;function W0(){return Am||(Am=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K0(){return km||(km=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kg=new WeakMap,$h=new WeakMap,Gg=new WeakMap,Nh=new WeakMap,dd=new WeakMap;function G0(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ui(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Kg.set(t,i)}).catch(()=>{}),dd.set(e,i),e}function Q0(i){if($h.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});$h.set(i,e)}let Hh={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return $h.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Gg.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ui(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Y0(i){Hh=i(Hh)}function X0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(xh(this),e,...t);return Gg.set(s,e.sort?e.sort():[e]),ui(s)}:K0().includes(i)?function(...e){return i.apply(xh(this),e),ui(Kg.get(this))}:function(...e){return ui(i.apply(xh(this),e))}}function J0(i){return typeof i=="function"?X0(i):(i instanceof IDBTransaction&&Q0(i),q0(i,W0())?new Proxy(i,Hh):i)}function ui(i){if(i instanceof IDBRequest)return G0(i);if(Nh.has(i))return Nh.get(i);const e=J0(i);return e!==i&&(Nh.set(i,e),dd.set(e,i)),e}const xh=i=>dd.get(i);function Z0(i,e,{blocked:t,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=ui(h);return s&&h.addEventListener("upgradeneeded",y=>{s(ui(h.result),y.oldVersion,y.newVersion,ui(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const ew=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],Dh=new Map;function Rm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=tw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||ew.includes(t)))return;const u=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),a&&y.done]))[0]};return Dh.set(e,u),u}Y0(i=>({...i,get:(e,t,s)=>Rm(e,t)||i.get(e,t,s),has:(e,t)=>!!Rm(e,t)||i.has(e,t)}));class nw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function rw(i){const e=i.getComponent();return e?.type==="VERSION"}const qh="@firebase/app",Cm="0.10.13";const Nr=new hd("@firebase/app"),iw="@firebase/app-compat",sw="@firebase/analytics-compat",ow="@firebase/analytics",aw="@firebase/app-check-compat",lw="@firebase/app-check",uw="@firebase/auth",cw="@firebase/auth-compat",hw="@firebase/database",dw="@firebase/data-connect",fw="@firebase/database-compat",pw="@firebase/functions",mw="@firebase/functions-compat",gw="@firebase/installations",yw="@firebase/installations-compat",vw="@firebase/messaging",_w="@firebase/messaging-compat",ww="@firebase/performance",Ew="@firebase/performance-compat",Tw="@firebase/remote-config",Iw="@firebase/remote-config-compat",Sw="@firebase/storage",Aw="@firebase/storage-compat",kw="@firebase/firestore",Rw="@firebase/vertexai-preview",Cw="@firebase/firestore-compat",Pw="firebase",Nw="10.14.1";const Wh="[DEFAULT]",xw={[qh]:"fire-core",[iw]:"fire-core-compat",[ow]:"fire-analytics",[sw]:"fire-analytics-compat",[lw]:"fire-app-check",[aw]:"fire-app-check-compat",[uw]:"fire-auth",[cw]:"fire-auth-compat",[hw]:"fire-rtdb",[dw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[pw]:"fire-fn",[mw]:"fire-fn-compat",[gw]:"fire-iid",[yw]:"fire-iid-compat",[vw]:"fire-fcm",[_w]:"fire-fcm-compat",[ww]:"fire-perf",[Ew]:"fire-perf-compat",[Tw]:"fire-rc",[Iw]:"fire-rc-compat",[Sw]:"fire-gcs",[Aw]:"fire-gcs-compat",[kw]:"fire-fst",[Cw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Pw]:"fire-js-all"};const vu=new Map,Dw=new Map,Kh=new Map;function Pm(i,e){try{i.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Zs(i){const e=i.name;if(Kh.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,i);for(const t of vu.values())Pm(t,i);for(const t of Dw.values())Pm(t,i);return!0}function fd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Ar(i){return i.settings!==void 0}const Vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Na("app","Firebase",Vw);class Ow{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const ao=Nw;function Qg(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ci.create("bad-app-name",{appName:String(a)});if(t||(t=qg()),!t)throw ci.create("no-options");const u=vu.get(a);if(u){if(yu(t,u.options)&&yu(s,u.config))return u;throw ci.create("duplicate-app",{appName:a})}const h=new j0(a);for(const y of Kh.values())h.addComponent(y);const m=new Ow(t,s,h);return vu.set(a,m),m}function Yg(i=Wh){const e=vu.get(i);if(!e&&i===Wh&&qg())return Qg();if(!e)throw ci.create("no-app",{appName:i});return e}function hi(i,e,t){var s;let a=(s=xw[i])!==null&&s!==void 0?s:i;t&&(a+=`-${t}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(m.join(" "));return}Zs(new Gi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Lw="firebase-heartbeat-database",Mw=1,wa="firebase-heartbeat-store";let Vh=null;function Xg(){return Vh||(Vh=Z0(Lw,Mw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(wa)}catch(t){console.warn(t)}}}}).catch(i=>{throw ci.create("idb-open",{originalErrorMessage:i.message})})),Vh}async function Fw(i){try{const t=(await Xg()).transaction(wa),s=await t.objectStore(wa).get(Jg(i));return await t.done,s}catch(e){if(e instanceof Vr)Nr.warn(e.message);else{const t=ci.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(t.message)}}}async function Nm(i,e){try{const s=(await Xg()).transaction(wa,"readwrite");await s.objectStore(wa).put(e,Jg(i)),await s.done}catch(t){if(t instanceof Vr)Nr.warn(t.message);else{const s=ci.create("idb-set",{originalErrorMessage:t?.message});Nr.warn(s.message)}}}function Jg(i){return`${i.name}!${i.options.appId}`}const bw=1024,Uw=720*60*60*1e3;class jw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=Uw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xm(),{heartbeatsToSend:s,unsentEntries:a}=zw(this._heartbeatsCache.heartbeats),u=gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Nr.warn(t),""}}}function xm(){return new Date().toISOString().substring(0,10)}function zw(i,e=bw){const t=[];let s=i.slice();for(const a of i){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Dm(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Dm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Bw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C0()?P0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Fw(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Nm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Nm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dm(i){return gu(JSON.stringify({version:2,heartbeats:i})).length}function $w(i){Zs(new Gi("platform-logger",e=>new nw(e),"PRIVATE")),Zs(new Gi("heartbeat",e=>new jw(e),"PRIVATE")),hi(qh,Cm,i),hi(qh,Cm,"esm2017"),hi("fire-js","")}$w("");var Hw="firebase",qw="10.14.1";hi(Hw,qw,"app");function pd(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function Zg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ww=Zg,ey=new Na("auth","Firebase",Zg());const _u=new hd("@firebase/auth");function Kw(i,...e){_u.logLevel<=Le.WARN&&_u.warn(`Auth (${ao}): ${i}`,...e)}function lu(i,...e){_u.logLevel<=Le.ERROR&&_u.error(`Auth (${ao}): ${i}`,...e)}function rr(i,...e){throw gd(i,...e)}function Bn(i,...e){return gd(i,...e)}function md(i,e,t){const s=Object.assign(Object.assign({},Ww()),{[e]:t});return new Na("auth","Firebase",s).create(e,{appName:i.name})}function qi(i){return md(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gw(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&rr(i,"argument-error"),md(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gd(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ey.create(i,...e)}function Ie(i,e,...t){if(!i)throw gd(e,...t)}function kr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lu(e),new Error(e)}function xr(i,e){i||kr(e)}function Gh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Qw(){return Vm()==="http:"||Vm()==="https:"}function Vm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function Yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qw()||S0()||"connection"in navigator)?navigator.onLine:!0}function Xw(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Da{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile=E0()||A0()}get(){return Yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yd(i,e){xr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ty{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Zw=new Da(3e4,6e4);function vd(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function lo(i,e,t,s,a={}){return ny(i,a,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=xa(Object.assign({key:i.config.apiKey},h)).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _=Object.assign({method:e,headers:y},u);return I0()||(_.referrerPolicy="no-referrer"),ty.fetch()(ry(i,i.config.apiHost,t,m),_)})}async function ny(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Jw),e);try{const a=new tE(i),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ru(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ru(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw ru(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw ru(i,"user-disabled",h);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw md(i,E,_);rr(i,E)}}catch(a){if(a instanceof Vr)throw a;rr(i,"network-request-failed",{message:String(a)})}}async function eE(i,e,t,s,a={}){const u=await lo(i,e,t,s,a);return"mfaPendingCredential"in u&&rr(i,"multi-factor-auth-required",{_serverResponse:u}),u}function ry(i,e,t,s){const a=`${e}${t}?${s}`;return i.config.emulator?yd(i.config,a):`${i.config.apiScheme}://${a}`}class tE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),Zw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ru(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Bn(i,e,s);return a.customData._tokenResponse=t,a}async function nE(i,e){return lo(i,"POST","/v1/accounts:delete",e)}async function iy(i,e){return lo(i,"POST","/v1/accounts:lookup",e)}function fa(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rE(i,e=!1){const t=Ot(i),s=await t.getIdToken(e),a=_d(s);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u?.sign_in_provider;return{claims:a,token:s,authTime:fa(Oh(a.auth_time)),issuedAtTime:fa(Oh(a.iat)),expirationTime:fa(Oh(a.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Oh(i){return Number(i)*1e3}function _d(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const a=$g(t);return a?JSON.parse(a):(lu("Failed to decode base64 JWT payload"),null)}catch(a){return lu("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Om(i){const e=_d(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ea(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vr&&iE(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function iE({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class sE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wu(i){var e;const t=i.auth,s=await i.getIdToken(),a=await Ea(i,iy(t,{idToken:s}));Ie(a?.users.length,t,"internal-error");const u=a.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?sy(u.providerUserInfo):[],m=aE(i.providerData,h),y=i.isAnonymous,_=!(i.email&&u.passwordHash)&&!m?.length,E=y?_:!1,N={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Qh(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,N)}async function oE(i){const e=Ot(i);await wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aE(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function sy(i){return i.map(e=>{var{providerId:t}=e,s=pd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function lE(i,e){const t=await ny(i,{},async()=>{const s=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=i.config,h=ry(i,a,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ty.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uE(i,e){return lo(i,"POST","/v2/accounts:revokeToken",vd(i,e))}class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Om(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Om(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:u}=await lE(e,t);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:u}=t,h=new Qs;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(Ie(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(Ie(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return kr("not implemented")}}function ii(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,u=pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Qh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rE(this,e)}reload(){return oE(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await wu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await Ea(this,nE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,u,h,m,y,_,E;const N=(s=t.displayName)!==null&&s!==void 0?s:void 0,O=(a=t.email)!==null&&a!==void 0?a:void 0,z=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,K=(h=t.photoURL)!==null&&h!==void 0?h:void 0,ee=(m=t.tenantId)!==null&&m!==void 0?m:void 0,G=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,ve=(_=t.createdAt)!==null&&_!==void 0?_:void 0,ke=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Ae,emailVerified:Re,isAnonymous:Pe,providerData:Se,stsTokenManager:P}=t;Ie(Ae&&P,e,"internal-error");const T=Qs.fromJSON(this.name,P);Ie(typeof Ae=="string",e,"internal-error"),ii(N,e.name),ii(O,e.name),Ie(typeof Re=="boolean",e,"internal-error"),Ie(typeof Pe=="boolean",e,"internal-error"),ii(z,e.name),ii(K,e.name),ii(ee,e.name),ii(G,e.name),ii(ve,e.name),ii(ke,e.name);const A=new Rr({uid:Ae,auth:e,email:O,emailVerified:Re,displayName:N,isAnonymous:Pe,photoURL:K,phoneNumber:z,tenantId:ee,stsTokenManager:T,createdAt:ve,lastLoginAt:ke});return Se&&Array.isArray(Se)&&(A.providerData=Se.map(R=>Object.assign({},R))),G&&(A._redirectEventId=G),A}static async _fromIdTokenResponse(e,t,s=!1){const a=new Qs;a.updateFromServerResponse(t);const u=new Rr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await wu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?sy(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!u?.length,m=new Qs;m.updateFromIdToken(s);const y=new Rr({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Qh(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const Lm=new Map;function Cr(i){xr(i instanceof Function,"Expected a class definition");let e=Lm.get(i);return e?(xr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Lm.set(i,e),e)}class oy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oy.type="NONE";const Mm=oy;function uu(i,e,t){return`firebase:${i}:${e}:${t}`}class Ys{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=uu(this.userKey,a.apiKey,u),this.fullPersistenceKey=uu("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ys(Cr(Mm),e,s);const a=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=a[0]||Cr(Mm);const h=uu(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){const N=Rr._fromJSON(e,E);_!==u&&(m=N),u=_;break}}catch{}const y=a.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ys(u,e,s):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new Ys(u,e,s))}}function Fm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ay(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dy(e))return"Blackberry";if(fy(e))return"Webos";if(ly(e))return"Safari";if((e.includes("chrome/")||uy(e))&&!e.includes("edge/"))return"Chrome";if(hy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function ay(i=$t()){return/firefox\//i.test(i)}function ly(i=$t()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uy(i=$t()){return/crios\//i.test(i)}function cy(i=$t()){return/iemobile/i.test(i)}function hy(i=$t()){return/android/i.test(i)}function dy(i=$t()){return/blackberry/i.test(i)}function fy(i=$t()){return/webos/i.test(i)}function wd(i=$t()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function cE(i=$t()){var e;return wd(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hE(){return k0()&&document.documentMode===10}function py(i=$t()){return wd(i)||hy(i)||fy(i)||dy(i)||/windows phone/i.test(i)||cy(i)}function my(i,e=[]){let t;switch(i){case"Browser":t=Fm($t());break;case"Worker":t=`${Fm($t())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ao}/${s}`}class dE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function fE(i,e={}){return lo(i,"GET","/v2/passwordPolicy",vd(i,e))}const pE=6;class mE{constructor(e){var t,s,a,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:pE,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,u,h,m;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(a=y.containsLowercaseLetter)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(u=y.containsUppercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(m=y.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),y}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class gE{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bm(this),this.idTokenSubscription=new bm(this),this.beforeStateQueue=new dE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ey,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cr(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await iy(this,{idToken:e}),s=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ar(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===m)&&y?.user&&(a=y.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(qi(this));const t=e?Ot(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fE(this),t=new mE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Na("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await uE(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[Cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,a);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=my(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Kw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lu(i){return Ot(i)}class bm{constructor(e){this.auth=e,this.observer=null,this.addObserver=O0(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yE(i){Ed=i}function vE(i){return Ed.loadJS(i)}function _E(){return Ed.gapiScript}function wE(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function EE(i,e){const t=fd(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(yu(u,e??{}))return a;rr(a,"already-initialized")}return t.initialize({options:e})}function TE(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Cr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function IE(i,e,t){const s=Lu(i);Ie(s._canInitEmulator,s,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=gy(e),{host:h,port:m}=SE(e),y=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${y}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})}),AE()}function gy(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function SE(i){const e=gy(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:Um(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Um(h)}}}function Um(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function AE(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class yy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,t){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function Xs(i,e){return eE(i,"POST","/v1/accounts:signInWithIdp",vd(i,e))}const kE="http://localhost";class Qi extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,u=pd(t,["providerId","signInMethod"]);if(!s||!a)return null;const h=new Qi(s,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Xs(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Xs(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xs(e,t)}buildRequest(){const e={requestUri:kE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xa(t)}return e}}class Td{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Va extends Td{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class si extends Va{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";class Sr extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Sr.credential(t,s)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";class oi extends Va{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";class ai extends Va{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ai.credential(t,s)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const u=await Rr._fromIdTokenResponse(e,s,a),h=jm(s);return new eo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=jm(s);return new eo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function jm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Eu extends Vr{constructor(e,t,s,a){var u;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Eu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Eu(e,t,s,a)}}function vy(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eu._fromErrorAndOperation(i,u,e,s):u})}async function RE(i,e,t=!1){const s=await Ea(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return eo._forOperation(i,"link",s)}async function CE(i,e,t=!1){const{auth:s}=i;if(Ar(s.app))return Promise.reject(qi(s));const a="reauthenticate";try{const u=await Ea(i,vy(s,a,e,i),t);Ie(u.idToken,s,"internal-error");const h=_d(u.idToken);Ie(h,s,"internal-error");const{sub:m}=h;return Ie(i.uid===m,s,"user-mismatch"),eo._forOperation(i,a,u)}catch(u){throw u?.code==="auth/user-not-found"&&rr(s,"user-mismatch"),u}}async function PE(i,e,t=!1){if(Ar(i.app))return Promise.reject(qi(i));const s="signIn",a=await vy(i,s,e),u=await eo._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(u.user),u}function NE(i,e,t,s){return Ot(i).onIdTokenChanged(e,t,s)}function xE(i,e,t){return Ot(i).beforeAuthStateChanged(e,t)}function DE(i,e,t,s){return Ot(i).onAuthStateChanged(e,t,s)}function VE(i){return Ot(i).signOut()}const Tu="__sak";class _y{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OE=1e3,LE=10;class wy extends _y{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=py(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);hE()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,LE):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},OE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wy.type="LOCAL";const ME=wy;class Ey extends _y{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ey.type="SESSION";const Ty=Ey;function FE(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Mu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Mu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:u}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(h).map(async _=>_(t.origin,u)),y=await FE(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mu.receivers=[];function Id(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class bE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const _=Id("",20);a.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(N){const O=N;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(O.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function tr(){return window}function UE(i){tr().location.href=i}function Iy(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function jE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zE(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BE(){return Iy()?self:null}const Sy="firebaseLocalStorageDb",$E=1,Iu="firebaseLocalStorage",Ay="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fu(i,e){return i.transaction([Iu],e?"readwrite":"readonly").objectStore(Iu)}function HE(){const i=indexedDB.deleteDatabase(Sy);return new Oa(i).toPromise()}function Yh(){const i=indexedDB.open(Sy,$E);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Iu,{keyPath:Ay})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Iu)?e(s):(s.close(),await HE(),e(await Yh()))})})}async function zm(i,e,t){const s=Fu(i,!0).put({[Ay]:e,value:t});return new Oa(s).toPromise()}async function qE(i,e){const t=Fu(i,!1).get(e),s=await new Oa(t).toPromise();return s===void 0?null:s.value}function Bm(i,e){const t=Fu(i,!0).delete(e);return new Oa(t).toPromise()}const WE=800,KE=3;class ky{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KE)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mu._getInstance(BE()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jE(),!this.activeServiceWorker)return;this.sender=new bE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await zm(e,Tu,"1"),await Bm(e,Tu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>zm(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>qE(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Bm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Fu(a,!1).getAll();return new Oa(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ky.type="LOCAL";const GE=ky;new Da(3e4,6e4);function Ry(i,e){return e?Cr(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Sd extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QE(i){return PE(i.auth,new Sd(i),i.bypassAuthState)}function YE(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),CE(t,new Sd(i),i.bypassAuthState)}async function XE(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),RE(t,new Sd(i),i.bypassAuthState)}class Cy{constructor(e,t,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QE;case"linkViaPopup":case"linkViaRedirect":return XE;case"reauthViaPopup":case"reauthViaRedirect":return YE;default:rr(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JE=new Da(2e3,1e4);async function ZE(i,e,t){if(Ar(i.app))return Promise.reject(Bn(i,"operation-not-supported-in-this-environment"));const s=Lu(i);Gw(i,e,Td);const a=Ry(s,t);return new $i(s,"signInViaPopup",e,a).executeNotNull()}class $i extends Cy{constructor(e,t,s,a,u){super(e,t,a,u),this.provider=s,this.authWindow=null,this.pollId=null,$i.currentPopupAction&&$i.currentPopupAction.cancel(),$i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Id();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JE.get())};e()}}$i.currentPopupAction=null;const eT="pendingRedirect",cu=new Map;class tT extends Cy{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const s=await nT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nT(i,e){const t=sT(e),s=iT(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function rT(i,e){cu.set(i._key(),e)}function iT(i){return Cr(i._redirectPersistence)}function sT(i){return uu(eT,i.config.apiKey,i.name)}async function oT(i,e,t=!1){if(Ar(i.app))return Promise.reject(qi(i));const s=Lu(i),a=Ry(s,e),h=await new tT(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const aT=600*1e3;class lT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Py(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Bn(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aT&&this.cachedEventUids.clear(),this.cachedEventUids.has($m(e))}saveEventToCache(e){this.cachedEventUids.add($m(e)),this.lastProcessedEventTime=Date.now()}}function $m(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Py({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uT(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Py(i);default:return!1}}async function cT(i,e={}){return lo(i,"GET","/v1/projects",e)}const hT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dT=/^https?/;async function fT(i){if(i.config.emulator)return;const{authorizedDomains:e}=await cT(i);for(const t of e)try{if(pT(t))return}catch{}rr(i,"unauthorized-domain")}function pT(i){const e=Gh(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!dT.test(t))return!1;if(hT.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const mT=new Da(3e4,6e4);function Hm(){const i=tr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function gT(i){return new Promise((e,t)=>{var s,a,u;function h(){Hm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hm(),t(Bn(i,"network-request-failed"))},timeout:mT.get()})}if(!((a=(s=tr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=tr().gapi)===null||u===void 0)&&u.load)h();else{const m=wE("iframefcb");return tr()[m]=()=>{gapi.load?h():t(Bn(i,"network-request-failed"))},vE(`${_E()}?onload=${m}`).catch(y=>t(y))}}).catch(e=>{throw hu=null,e})}let hu=null;function yT(i){return hu=hu||gT(i),hu}const vT=new Da(5e3,15e3),_T="__/auth/iframe",wT="emulator/auth/iframe",ET={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IT(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?yd(e,wT):`https://${i.config.authDomain}/${_T}`,s={apiKey:e.apiKey,appName:i.name,v:ao},a=TT.get(i.config.apiHost);a&&(s.eid=a);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${xa(s).slice(1)}`}async function ST(i){const e=await yT(i),t=tr().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:IT(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ET,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const h=Bn(i,"network-request-failed"),m=tr().setTimeout(()=>{u(h)},vT.get());function y(){tr().clearTimeout(m),a(s)}s.ping(y).then(y,()=>{u(h)})}))}const AT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kT=500,RT=600,CT="_blank",PT="http://localhost";class qm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NT(i,e,t,s=kT,a=RT){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y=Object.assign(Object.assign({},AT),{width:s.toString(),height:a.toString(),top:u,left:h}),_=$t().toLowerCase();t&&(m=uy(_)?CT:t),ay(_)&&(e=e||PT,y.scrollbars="yes");const E=Object.entries(y).reduce((O,[z,K])=>`${O}${z}=${K},`,"");if(cE(_)&&m!=="_self")return xT(e||"",m),new qm(null);const N=window.open(e||"",m,E);Ie(N,i,"popup-blocked");try{N.focus()}catch{}return new qm(N)}function xT(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const DT="__/auth/handler",VT="emulator/auth/handler",OT=encodeURIComponent("fac");async function Wm(i,e,t,s,a,u){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ao,eventId:a};if(e instanceof Td){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",V0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,N]of Object.entries({}))h[E]=N}if(e instanceof Va){const E=e.getScopes().filter(N=>N!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await i._getAppCheckToken(),_=y?`#${OT}=${encodeURIComponent(y)}`:"";return`${LT(i)}?${xa(m).slice(1)}${_}`}function LT({config:i}){return i.emulator?yd(i,VT):`https://${i.authDomain}/${DT}`}const Lh="webStorageSupport";class MT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ty,this._completeRedirectFn=oT,this._overrideRedirectResult=rT}async _openPopup(e,t,s,a){var u;xr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Wm(e,t,s,Gh(),a);return NT(e,h,Id())}async _openRedirect(e,t,s,a){await this._originValidation(e);const u=await Wm(e,t,s,Gh(),a);return UE(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await ST(e),s=new lT(e);return t.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lh,{type:Lh},a=>{var u;const h=(u=a?.[0])===null||u===void 0?void 0:u[Lh];h!==void 0&&t(!!h),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return py()||ly()||wd()}}const FT=MT;var Km="@firebase/auth",Gm="1.7.9";class bT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UT(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jT(i){Zs(new Gi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:my(i)},_=new gE(s,a,u,y);return TE(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zs(new Gi("auth-internal",e=>{const t=Lu(e.getProvider("auth").getImmediate());return(s=>new bT(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(Km,Gm,UT(i)),hi(Km,Gm,"esm2017")}const zT=300,BT=Wg("authIdTokenMaxAge")||zT;let Qm=null;const $T=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>BT)return;const a=t?.token;Qm!==a&&(Qm=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HT(i=Yg()){const e=fd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=EE(i,{popupRedirectResolver:FT,persistence:[GE,ME,Ty]}),s=Wg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=$T(u.toString());xE(t,h,()=>h(t.currentUser)),NE(t,m=>h(m))}}const a=Hg("auth");return a&&IE(t,`http://${a}`),t}function qT(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}yE({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const u=Bn("internal-error");u.customData=a,t(u)},s.type="text/javascript",s.charset="UTF-8",qT().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jT("Browser");var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wi,Ny;(function(){var i;function e(P,T){function A(){}A.prototype=T.prototype,P.D=T.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(R,x,V){for(var S=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)S[tt-2]=arguments[tt];return T.prototype[x].apply(R,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)R[x]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(x=0;16>x;++x)R[x]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=P.g[0],A=P.g[1],x=P.g[2];var V=P.g[3],S=T+(V^A&(x^V))+R[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=V+(x^T&(A^x))+R[1]+3905402710&4294967295,V=T+(S<<12&4294967295|S>>>20),S=x+(A^V&(T^A))+R[2]+606105819&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(T^x&(V^T))+R[3]+3250441966&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(V^A&(x^V))+R[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(x^T&(A^x))+R[5]+1200080426&4294967295,V=T+(S<<12&4294967295|S>>>20),S=x+(A^V&(T^A))+R[6]+2821735955&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(T^x&(V^T))+R[7]+4249261313&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(V^A&(x^V))+R[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(x^T&(A^x))+R[9]+2336552879&4294967295,V=T+(S<<12&4294967295|S>>>20),S=x+(A^V&(T^A))+R[10]+4294925233&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(T^x&(V^T))+R[11]+2304563134&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(V^A&(x^V))+R[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(x^T&(A^x))+R[13]+4254626195&4294967295,V=T+(S<<12&4294967295|S>>>20),S=x+(A^V&(T^A))+R[14]+2792965006&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(T^x&(V^T))+R[15]+1236535329&4294967295,A=x+(S<<22&4294967295|S>>>10),S=T+(x^V&(A^x))+R[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(T^A))+R[6]+3225465664&4294967295,V=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(V^T))+R[11]+643717713&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(x^V))+R[0]+3921069994&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(x^V&(A^x))+R[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(T^A))+R[10]+38016083&4294967295,V=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(V^T))+R[15]+3634488961&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(x^V))+R[4]+3889429448&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(x^V&(A^x))+R[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(T^A))+R[14]+3275163606&4294967295,V=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(V^T))+R[3]+4107603335&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(x^V))+R[8]+1163531501&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(x^V&(A^x))+R[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(T^A))+R[2]+4243563512&4294967295,V=T+(S<<9&4294967295|S>>>23),S=x+(T^A&(V^T))+R[7]+1735328473&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(x^V))+R[12]+2368359562&4294967295,A=x+(S<<20&4294967295|S>>>12),S=T+(A^x^V)+R[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^x)+R[8]+2272392833&4294967295,V=T+(S<<11&4294967295|S>>>21),S=x+(V^T^A)+R[11]+1839030562&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^T)+R[14]+4259657740&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(A^x^V)+R[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^x)+R[4]+1272893353&4294967295,V=T+(S<<11&4294967295|S>>>21),S=x+(V^T^A)+R[7]+4139469664&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^T)+R[10]+3200236656&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(A^x^V)+R[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^x)+R[0]+3936430074&4294967295,V=T+(S<<11&4294967295|S>>>21),S=x+(V^T^A)+R[3]+3572445317&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^T)+R[6]+76029189&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(A^x^V)+R[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^x)+R[12]+3873151461&4294967295,V=T+(S<<11&4294967295|S>>>21),S=x+(V^T^A)+R[15]+530742520&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^T)+R[2]+3299628645&4294967295,A=x+(S<<23&4294967295|S>>>9),S=T+(x^(A|~V))+R[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~x))+R[7]+1126891415&4294967295,V=T+(S<<10&4294967295|S>>>22),S=x+(T^(V|~A))+R[14]+2878612391&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~T))+R[5]+4237533241&4294967295,A=x+(S<<21&4294967295|S>>>11),S=T+(x^(A|~V))+R[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~x))+R[3]+2399980690&4294967295,V=T+(S<<10&4294967295|S>>>22),S=x+(T^(V|~A))+R[10]+4293915773&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~T))+R[1]+2240044497&4294967295,A=x+(S<<21&4294967295|S>>>11),S=T+(x^(A|~V))+R[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~x))+R[15]+4264355552&4294967295,V=T+(S<<10&4294967295|S>>>22),S=x+(T^(V|~A))+R[6]+2734768916&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~T))+R[13]+1309151649&4294967295,A=x+(S<<21&4294967295|S>>>11),S=T+(x^(A|~V))+R[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~x))+R[11]+3174756917&4294967295,V=T+(S<<10&4294967295|S>>>22),S=x+(T^(V|~A))+R[2]+718787259&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~T))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+V&4294967295}s.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var A=T-this.blockSize,R=this.B,x=this.h,V=0;V<T;){if(x==0)for(;V<=A;)a(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<T;)if(R[x++]=P.charCodeAt(V++),x==this.blockSize){a(this,R),x=0;break}}else for(;V<T;)if(R[x++]=P[V++],x==this.blockSize){a(this,R),x=0;break}}this.h=x,this.o+=T},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var A=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=A&255,A/=256;for(this.u(P),P=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)P[A++]=this.g[T]>>>R&255;return P};function u(P,T){var A=m;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=T(P)}function h(P,T){this.h=T;for(var A=[],R=!0,x=P.length-1;0<=x;x--){var V=P[x]|0;R&&V==T||(A[x]=V,R=!1)}this.g=A}var m={};function y(P){return-128<=P&&128>P?u(P,function(T){return new h([T|0],0>T?-1:0)}):new h([P|0],0>P?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return N;if(0>P)return G(_(-P));for(var T=[],A=1,R=0;P>=A;R++)T[R]=P/A|0,A*=4294967296;return new h(T,0)}function E(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return G(E(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(T,8)),R=N,x=0;x<P.length;x+=8){var V=Math.min(8,P.length-x),S=parseInt(P.substring(x,x+V),T);8>V?(V=_(Math.pow(T,V)),R=R.j(V).add(_(S))):(R=R.j(A),R=R.add(_(S)))}return R}var N=y(0),O=y(1),z=y(16777216);i=h.prototype,i.m=function(){if(ee(this))return-G(this).m();for(var P=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);P+=(0<=R?R:4294967296+R)*T,T*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(K(this))return"0";if(ee(this))return"-"+G(this).toString(P);for(var T=_(Math.pow(P,6)),A=this,R="";;){var x=Re(A,T).g;A=ve(A,x.j(T));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=x,K(A))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function K(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function ee(P){return P.h==-1}i.l=function(P){return P=ve(this,P),ee(P)?-1:K(P)?0:1};function G(P){for(var T=P.g.length,A=[],R=0;R<T;R++)A[R]=~P.g[R];return new h(A,~P.h).add(O)}i.abs=function(){return ee(this)?G(this):this},i.add=function(P){for(var T=Math.max(this.g.length,P.g.length),A=[],R=0,x=0;x<=T;x++){var V=R+(this.i(x)&65535)+(P.i(x)&65535),S=(V>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);R=S>>>16,V&=65535,S&=65535,A[x]=S<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function ve(P,T){return P.add(G(T))}i.j=function(P){if(K(this)||K(P))return N;if(ee(this))return ee(P)?G(this).j(G(P)):G(G(this).j(P));if(ee(P))return G(this.j(G(P)));if(0>this.l(z)&&0>P.l(z))return _(this.m()*P.m());for(var T=this.g.length+P.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var x=0;x<P.g.length;x++){var V=this.i(R)>>>16,S=this.i(R)&65535,tt=P.i(x)>>>16,_t=P.i(x)&65535;A[2*R+2*x]+=S*_t,ke(A,2*R+2*x),A[2*R+2*x+1]+=V*_t,ke(A,2*R+2*x+1),A[2*R+2*x+1]+=S*tt,ke(A,2*R+2*x+1),A[2*R+2*x+2]+=V*tt,ke(A,2*R+2*x+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new h(A,0)};function ke(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function Ae(P,T){this.g=P,this.h=T}function Re(P,T){if(K(T))throw Error("division by zero");if(K(P))return new Ae(N,N);if(ee(P))return T=Re(G(P),T),new Ae(G(T.g),G(T.h));if(ee(T))return T=Re(P,G(T)),new Ae(G(T.g),T.h);if(30<P.g.length){if(ee(P)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var A=O,R=T;0>=R.l(P);)A=Pe(A),R=Pe(R);var x=Se(A,1),V=Se(R,1);for(R=Se(R,2),A=Se(A,2);!K(R);){var S=V.add(R);0>=S.l(P)&&(x=x.add(A),V=S),R=Se(R,1),A=Se(A,1)}return T=ve(P,x.j(T)),new Ae(x,T)}for(x=N;0<=P.l(T);){for(A=Math.max(1,Math.floor(P.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=_(A),S=V.j(T);ee(S)||0<S.l(P);)A-=R,V=_(A),S=V.j(T);K(V)&&(V=O),x=x.add(V),P=ve(P,S)}return new Ae(x,P)}i.A=function(P){return Re(this,P).h},i.and=function(P){for(var T=Math.max(this.g.length,P.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&P.i(R);return new h(A,this.h&P.h)},i.or=function(P){for(var T=Math.max(this.g.length,P.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|P.i(R);return new h(A,this.h|P.h)},i.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^P.i(R);return new h(A,this.h^P.h)};function Pe(P){for(var T=P.g.length+1,A=[],R=0;R<T;R++)A[R]=P.i(R)<<1|P.i(R-1)>>>31;return new h(A,P.h)}function Se(P,T){var A=T>>5;T%=32;for(var R=P.g.length-A,x=[],V=0;V<R;V++)x[V]=0<T?P.i(V+A)>>>T|P.i(V+A+1)<<32-T:P.i(V+A);return new h(x,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ny=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,Wi=h}).apply(typeof Ym<"u"?Ym:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xy,ca,Dy,du,Xh,Vy,Oy,Ly;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var L=l[w];if(!(L in g))break e;g=g[L]}l=l[l.length-1],w=g[l],f=f(w),f!=w&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var g=0,w=!1,L={next:function(){if(!w&&g<l.length){var U=g++;return{value:f(U,l[U]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return u(this,function(f,g){return g})}});var h=h||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,g){return l.call.apply(l.bind,arguments)}function N(l,f,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function O(l,f,g){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:N,O.apply(null,arguments)}function z(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function K(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,L,U){for(var J=Array(arguments.length-2),He=2;He<arguments.length;He++)J[He-2]=arguments[He];return f.prototype[L].apply(w,J)}}function ee(l){const f=l.length;if(0<f){const g=Array(f);for(let w=0;w<f;w++)g[w]=l[w];return g}return[]}function G(l,f){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(y(w)){const L=l.length||0,U=w.length||0;l.length=L+U;for(let J=0;J<U;J++)l[L+J]=w[J]}else l.push(w)}}class ve{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ke(l){return/^[\s\xa0]*$/.test(l)}function Ae(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Re(l){return Re[" "](l),l}Re[" "]=function(){};var Pe=Ae().indexOf("Gecko")!=-1&&!(Ae().toLowerCase().indexOf("webkit")!=-1&&Ae().indexOf("Edge")==-1)&&!(Ae().indexOf("Trident")!=-1||Ae().indexOf("MSIE")!=-1)&&Ae().indexOf("Edge")==-1;function Se(l,f,g){for(const w in l)f.call(g,l[w],w,l)}function P(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function T(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let g,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(g in w)l[g]=w[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function x(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){m.setTimeout(()=>{throw l},0)}function S(){var l=pe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class tt{constructor(){this.h=this.g=null}add(f,g){const w=_t.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var _t=new ve(()=>new wt,l=>l.reset());class wt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,Z=!1,pe=new tt,ne=()=>{const l=m.Promise.resolve(void 0);$e=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){V(g)}var f=_t;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Z=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l})();function Ne(l,f){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Pe){e:{try{Re(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:De[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ne.aa.h.call(this)}}K(Ne,he);var De={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),j=0;function Y(l,f,g,w,L){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=L,this.key=++j,this.da=this.fa=!1}function re(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function se(l){this.src=l,this.g={},this.h=0}se.prototype.add=function(l,f,g,w,L){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var J=we(l,f,w,L);return-1<J?(f=l[J],g||(f.fa=!1)):(f=new Y(f,this.src,U,!!w,L),f.fa=g,l.push(f)),f};function de(l,f){var g=f.type;if(g in l.g){var w=l.g[g],L=Array.prototype.indexOf.call(w,f,void 0),U;(U=0<=L)&&Array.prototype.splice.call(w,L,1),U&&(re(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function we(l,f,g,w){for(var L=0;L<l.length;++L){var U=l[L];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==w)return L}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),Gt={};function fn(l,f,g,w,L){if(Array.isArray(f)){for(var U=0;U<f.length;U++)fn(l,f[U],g,w,L);return null}return g=go(g),l&&l[be]?l.K(f,g,_(w)?!!w.capture:!1,L):po(l,f,g,!1,w,L)}function po(l,f,g,w,L,U){if(!f)throw Error("Invalid event type");var J=_(L)?!!L.capture:!!L,He=ns(l);if(He||(l[dt]=He=new se(l)),g=He.add(f,g,w,J,U),g.proxy)return g;if(w=za(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)Ce||(L=J),L===void 0&&(L=!1),l.addEventListener(f.toString(),w,L);else if(l.attachEvent)l.attachEvent(ar(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function za(){function l(g){return f.call(l.src,l.listener,g)}const f=mo;return l}function ts(l,f,g,w,L){if(Array.isArray(f))for(var U=0;U<f.length;U++)ts(l,f[U],g,w,L);else w=_(w)?!!w.capture:!!w,g=go(g),l&&l[be]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],g=we(U,g,w,L),-1<g&&(re(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=ns(l))&&(f=l.g[f.toString()],l=-1,f&&(l=we(f,g,w,L)),(g=-1<l?f[l]:null)&&or(g))}function or(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[be])de(f.i,l);else{var g=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(g,w,l.capture):f.detachEvent?f.detachEvent(ar(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=ns(f))?(de(g,l),g.h==0&&(g.src=null,f[dt]=null)):re(l)}}}function ar(l){return l in Gt?Gt[l]:Gt[l]="on"+l}function mo(l,f){if(l.da)l=!0;else{f=new Ne(f,this);var g=l.listener,w=l.ha||l.src;l.fa&&or(l),l=g.call(w,f)}return l}function ns(l){return l=l[dt],l instanceof se?l:null}var rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(l){return typeof l=="function"?l:(l[rs]||(l[rs]=function(f){return l.handleEvent(f)}),l[rs])}function ft(){B.call(this),this.i=new se(this),this.M=this,this.F=null}K(ft,B),ft.prototype[be]=!0,ft.prototype.removeEventListener=function(l,f,g,w){ts(this,l,f,g,w)};function pt(l,f){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new he(f,l);else if(f instanceof he)f.target=f.target||l;else{var L=f;f=new he(w,l),R(f,L)}if(L=!0,g)for(var U=g.length-1;0<=U;U--){var J=f.g=g[U];L=lr(J,w,!0,f)&&L}if(J=f.g=l,L=lr(J,w,!0,f)&&L,L=lr(J,w,!1,f)&&L,g)for(U=0;U<g.length;U++)J=f.g=g[U],L=lr(J,w,!1,f)&&L}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],w=0;w<g.length;w++)re(g[w]);delete l.g[f],l.h--}}this.F=null},ft.prototype.K=function(l,f,g,w){return this.i.add(String(l),f,!1,g,w)},ft.prototype.L=function(l,f,g,w){return this.i.add(String(l),f,!0,g,w)};function lr(l,f,g,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,U=0;U<f.length;++U){var J=f[U];if(J&&!J.da&&J.capture==g){var He=J.listener,mt=J.ha||J.src;J.fa&&de(l.i,J),L=He.call(mt,w)!==!1&&L}}return L&&!w.defaultPrevented}function yo(l,f,g){if(typeof l=="function")g&&(l=O(l,g));else if(l&&typeof l.handleEvent=="function")l=O(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Or(l){l.g=yo(()=>{l.g=null,l.i&&(l.i=!1,Or(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class mi extends B{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(l){B.call(this),this.h=l,this.g={}}K(gi,B);var vo=[];function _o(l){Se(l.g,function(f,g){this.g.hasOwnProperty(g)&&or(f)},l),l.g={}}gi.prototype.N=function(){gi.aa.N.call(this),_o(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wo=m.JSON.stringify,Eo=m.JSON.parse,To=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function yi(){}yi.prototype.h=null;function is(l){return l.h||(l.h=l.i())}function ss(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){he.call(this,"d")}K($n,he);function os(){he.call(this,"c")}K(os,he);var Hn={},Io=null;function vi(){return Io=Io||new ft}Hn.La="serverreachability";function So(l){he.call(this,Hn.La,l)}K(So,he);function ur(l){const f=vi();pt(f,new So(f))}Hn.STAT_EVENT="statevent";function Ao(l,f){he.call(this,Hn.STAT_EVENT,l),this.stat=f}K(Ao,he);function st(l){const f=vi();pt(f,new Ao(f,l))}Hn.Ma="timingevent";function as(l,f){he.call(this,Hn.Ma,l),this.size=f}K(as,he);function Rn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function wi(l,f,g,w,L,U){l.info(function(){if(l.g)if(U)for(var J="",He=U.split("&"),mt=0;mt<He.length;mt++){var Me=He[mt].split("=");if(1<Me.length){var Et=Me[0];Me=Me[1];var ut=Et.split("_");J=2<=ut.length&&ut[1]=="type"?J+(Et+"="+Me+"&"):J+(Et+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+f+`
`+g+`
`+J})}function ls(l,f,g,w,L,U,J){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+f+`
`+g+`
`+U+" "+J})}function Cn(l,f,g,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Xu(l,g)+(w?" "+w:"")})}function ko(l,f){l.info(function(){return"TIMEOUT: "+f})}_i.prototype.info=function(){};function Xu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return wo(g)}catch{return f}}var us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Ei(){}K(Ei,yi),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},Pn=new Ei;function Nn(l,f,g,w){this.j=l,this.i=f,this.l=g,this.R=w||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $a}function $a(){this.i=null,this.g="",this.h=!1}var Ro={},cs={};function hs(l,f,g){l.L=1,l.v=Ur(an(f)),l.m=g,l.P=!0,Co(l,null)}function Co(l,f){l.F=Date.now(),Ke(l),l.A=an(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),zr(g.i,"t",w),l.C=0,g=l.j.J,l.h=new $a,l.g=al(l.j,g?f:null,!l.m),0<l.O&&(l.M=new mi(O(l.Y,l,l.g),l.O)),f=l.U,g=l.g,w=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(var U=0;U<L.length;U++){var J=fn(g,L[U],w||f.handleEvent,!1,f.h||f);if(!J)break;f.g[J.key]=J}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ur(),wi(l.i,l.u,l.A,l.l,l.R,l.m)}Nn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Yt(l)==3?f.j():this.Y(l)},Nn.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Yt(this.g);var f=this.g.Ba();const yn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Oo(this.g)))){this.J||ut!=4||f==7||(f==8||0>=yn?ur(3):ur(2)),Ti(this);var g=this.g.Z();this.X=g;t:if(Ha(this)){var w=Oo(this.g);l="";var L=w.length,U=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Lr(this);var J="";break t}this.h.i=new m.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(U&&f==L-1)});w.length=0,this.h.g+=l,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=g==200,ls(this.i,this.u,this.A,this.l,this.R,ut,g),this.o){if(this.T&&!this.K){t:{if(this.g){var He,mt=this.g;if((He=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ke(He)){var Me=He;break t}}Me=null}if(g=Me)Cn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,g);else{this.o=!1,this.s=3,st(12),mn(this),Lr(this);break e}}if(this.P){g=!0;let un;for(;!this.J&&this.C<J.length;)if(un=Ju(this,J),un==cs){ut==4&&(this.s=4,st(14),g=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Ro){this.s=4,st(15),Cn(this.i,this.l,J,"[Invalid Chunk]"),g=!1;break}else Cn(this.i,this.l,un,null),Po(this,un);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||J.length!=0||this.h.h||(this.s=1,st(16),g=!1),this.o=this.o&&g,!g)Cn(this.i,this.l,J,"[Invalid Chunked Response]"),mn(this),Lr(this);else if(0<J.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Mo(Et),Et.M=!0,st(11))}}else Cn(this.i,this.l,J,null),Po(this,J);ut==4&&mn(this),this.o&&!this.J&&(ut==4?Ts(this.j,this):(this.o=!1,Ke(this)))}else ys(this.g),g==400&&0<J.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),mn(this),Lr(this)}}}catch{}};function Ha(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ju(l,f){var g=l.C,w=f.indexOf(`
`,g);return w==-1?cs:(g=Number(f.substring(g,w)),isNaN(g)?Ro:(w+=1,w+g>f.length?cs:(f=f.slice(w,w+g),l.C=w+g,f)))}Nn.prototype.cancel=function(){this.J=!0,mn(this)};function Ke(l){l.S=Date.now()+l.I,qa(l,l.I)}function qa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Rn(O(l.ba,l),f)}function Ti(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Nn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ko(this.i,this.A),this.L!=2&&(ur(),st(17)),mn(this),this.s=2,Lr(this)):qa(this,this.S-l)};function Lr(l){l.j.G==0||l.J||Ts(l.j,l)}function mn(l){Ti(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,_o(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Po(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Ht(g.h,l))){if(!l.K&&Ht(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Es(g),Ln(g);else break e;ws(g),st(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Rn(O(g.Za,g),6e3));if(1>=Ka(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else pr(g,11)}else if((l.K||g.g==l)&&Es(g),!ke(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let Me=L[f];if(g.T=Me[0],Me=Me[1],g.G==2)if(Me[0]=="c"){g.K=Me[1],g.ia=Me[2];const Et=Me[3];Et!=null&&(g.la=Et,g.j.info("VER="+g.la));const ut=Me[4];ut!=null&&(g.Aa=ut,g.j.info("SVER="+g.Aa));const yn=Me[5];yn!=null&&typeof yn=="number"&&0<yn&&(w=1.5*yn,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const un=l.g;if(un){const Pi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pi){var U=w.h;U.g||Pi.indexOf("spdy")==-1&&Pi.indexOf("quic")==-1&&Pi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(No(U,U.h),U.h=null))}if(w.D){const Ss=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(w.ya=Ss,qe(w.I,w.D,Ss))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var J=l;if(w.qa=ol(w,w.J?w.ia:null,w.W),J.K){Ga(w.h,J);var He=J,mt=w.L;mt&&(He.I=mt),He.B&&(Ti(He),Ke(He)),w.g=J}else Ci(w);0<g.i.length&&Gn(g)}else Me[0]!="stop"&&Me[0]!="close"||pr(g,7);else g.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?pr(g,7):Pt(g):Me[0]!="noop"&&g.l&&g.l.ta(Me),g.v=0)}}ur(4)}catch{}}var Wa=class{constructor(l,f){this.g=l,this.map=f}};function Ii(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ka(l){return l.h?1:l.g?l.g.size:0}function Ht(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function No(l,f){l.g?l.g.add(f):l.h=f}function Ga(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Ii.prototype.cancel=function(){if(this.i=Qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Qa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return ee(l.i)}function ds(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,w=0;w<g;w++)f.push(l[w]);return f}f=[],g=0;for(w in l)f[g++]=l[w];return f}function fs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const w in l)f[g++]=w;return f}}}function Mr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=fs(l),w=ds(l),L=w.length,U=0;U<L;U++)f.call(void 0,w[U],g&&g[U],l)}var Si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),L=null;if(0<=w){var U=l[g].substring(0,w);L=l[g].substring(w+1)}else U=l[g];f(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function cr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof cr){this.h=l.h,Ai(this,l.j),this.o=l.o,this.g=l.g,Fr(this,l.s),this.l=l.l;var f=l.i,g=new qn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),br(this,g),this.m=l.m}else l&&(f=String(l).match(Si))?(this.h=!1,Ai(this,f[1]||"",!0),this.o=Oe(f[2]||""),this.g=Oe(f[3]||"",!0),Fr(this,f[4]),this.l=Oe(f[5]||"",!0),br(this,f[6]||"",!0),this.m=Oe(f[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}cr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(jr(f,ps,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(jr(f,ps,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(jr(g,g.charAt(0)=="/"?Ja:Xa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",jr(g,xo)),l.join("")};function an(l){return new cr(l)}function Ai(l,f,g){l.j=g?Oe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Fr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function br(l,f,g){f instanceof qn?(l.i=f,Wn(l.i,l.h)):(g||(f=jr(f,Za)),l.i=new qn(f,l.h))}function qe(l,f,g){l.i.set(f,g)}function Ur(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Oe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function jr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Ya),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ps=/[#\/\?@]/g,Xa=/[#\?:]/g,Ja=/[#\?]/g,Za=/[#\?@]/g,xo=/#/g;function qn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ct(l){l.g||(l.g=new Map,l.h=0,l.i&&Zu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=qn.prototype,i.add=function(l,f){Ct(this),this.i=null,l=gn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function xn(l,f){Ct(l),f=gn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Dn(l,f){return Ct(l),f=gn(l,f),l.g.has(f)}i.forEach=function(l,f){Ct(this),this.g.forEach(function(g,w){g.forEach(function(L){l.call(f,L,w,this)},this)},this)},i.na=function(){Ct(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let w=0;w<f.length;w++){const L=l[w];for(let U=0;U<L.length;U++)g.push(f[w])}return g},i.V=function(l){Ct(this);let f=[];if(typeof l=="string")Dn(this,l)&&(f=f.concat(this.g.get(gn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return Ct(this),this.i=null,l=gn(this,l),Dn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function zr(l,f,g){xn(l,f),0<g.length&&(l.i=null,l.g.set(gn(l,f),ee(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var w=f[g];const U=encodeURIComponent(String(w)),J=this.V(w);for(w=0;w<J.length;w++){var L=U;J[w]!==""&&(L+="="+encodeURIComponent(String(J[w]))),l.push(L)}}return this.i=l.join("&")};function gn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Wn(l,f){f&&!l.j&&(Ct(l),l.i=null,l.g.forEach(function(g,w){var L=w.toLowerCase();w!=L&&(xn(this,w),zr(this,L,g))},l)),l.j=f}function ec(l,f){const g=new _i;if(m.Image){const w=new Image;w.onload=z(Qt,g,"TestLoadImage: loaded",!0,f,w),w.onerror=z(Qt,g,"TestLoadImage: error",!1,f,w),w.onabort=z(Qt,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=z(Qt,g,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function el(l,f){const g=new _i,w=new AbortController,L=setTimeout(()=>{w.abort(),Qt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(U=>{clearTimeout(L),U.ok?Qt(g,"TestPingServer: ok",!0,f):Qt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Qt(g,"TestPingServer: error",!1,f)})}function Qt(l,f,g,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(g)}catch{}}function tc(){this.g=new To}function tl(l,f,g){const w=g||"";try{Mr(l,function(L,U){let J=L;_(L)&&(J=wo(L)),f.push(w+U+"="+encodeURIComponent(J))})}catch(L){throw f.push(w+"type="+encodeURIComponent("_badmap")),L}}function hr(l){this.l=l.Ub||null,this.j=l.eb||!1}K(hr,yi),hr.prototype.g=function(){return new ki(this.l,this.j)},hr.prototype.i=(function(l){return function(){return l}})({});function ki(l,f){ft.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(ki,ft),i=ki.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,On(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Vn(this):On(this),this.readyState==3&&nl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Vn(this))},i.Qa=function(l){this.g&&(this.response=l,Vn(this))},i.ga=function(){this.g&&Vn(this)};function Vn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,On(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function On(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function dr(l){let f="";return Se(l,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Br(l,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=dr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):qe(l,f,g))}function Je(l){ft.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Je,ft);var nc=/^https?$/i,Do=["POST","PUT"];i=Je.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?is(this.o):is(Pn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){Ri(this,U);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)g.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())g.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Do,f,void 0))||w||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of g)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Ri(this,U)}};function Ri(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ms(l),ln(l)}function ms(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),ln(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},i.bb=function(){Vo(this)};function Vo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Yt(l)!=4||l.Z()!=2)){if(l.u&&Yt(l)==4)yo(l.Ea,0,l);else if(pt(l,"readystatechange"),Yt(l)==4){l.h=!1;try{const J=l.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=J===0){var L=String(l.D).match(Si)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),w=!nc.test(L?L.toLowerCase():"")}g=w}if(g)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var U=2<Yt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",ms(l)}}finally{ln(l)}}}}function ln(l,f){if(l.g){gs(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||pt(l,"ready");try{g.onreadystatechange=w}catch{}}}function gs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Yt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Eo(f)}};function Oo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(l){const f={};l=(l.g&&2<=Yt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ke(l[w]))continue;var g=x(l[w]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=f[L]||[];f[L]=U,U.push(g)}P(f,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Lo(l){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,l),this.cb=Kn("retryDelaySeedMs",1e4,l),this.Wa=Kn("forwardChannelMaxRetries",2,l),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(l&&l.concurrentRequestLimit),this.Da=new tc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Lo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,w){st(0),this.W=l,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=ol(this,null,this.W),Gn(this)};function Pt(l){if(vs(l),l.G==3){var f=l.U++,g=an(l.I);if(qe(g,"SID",l.K),qe(g,"RID",f),qe(g,"TYPE","terminate"),fr(l,g),f=new Nn(l,l.j,f),f.L=2,f.v=Ur(an(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=al(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ke(f)}sl(l)}function Ln(l){l.g&&(Mo(l),l.g.cancel(),l.g=null)}function vs(l){Ln(l),l.u&&(m.clearTimeout(l.u),l.u=null),Es(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Gn(l){if(!on(l.h)&&!l.s){l.s=!0;var f=l.Ga;$e||ne(),Z||($e(),Z=!0),pe.add(f,l),l.B=0}}function rc(l,f){return Ka(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Rn(O(l.Ga,l,f),il(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Nn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=$r(this,L,f),g=an(this.I),qe(g,"RID",l),qe(g,"CVER",22),this.D&&qe(g,"X-HTTP-Session-Id",this.D),fr(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(dr(U)))+"&"+f:this.m&&Br(g,this.m,U)),No(this.h,L),this.Ua&&qe(g,"TYPE","init"),this.P?(qe(g,"$req",f),qe(g,"SID","null"),L.T=!0,hs(L,g,null)):hs(L,g,f),this.G=2}}else this.G==3&&(l?_s(this,l):this.i.length==0||on(this.h)||_s(this))};function _s(l,f){var g;f?g=f.l:g=l.U++;const w=an(l.I);qe(w,"SID",l.K),qe(w,"RID",g),qe(w,"AID",l.T),fr(l,w),l.m&&l.o&&Br(w,l.m,l.o),g=new Nn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=$r(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),No(l.h,g),hs(g,w,f)}function fr(l,f){l.H&&Se(l.H,function(g,w){qe(f,w,g)}),l.l&&Mr({},function(g,w){qe(f,w,g)})}function $r(l,f,g){g=Math.min(l.i.length,g);var w=l.l?O(l.l.Na,l.l,l):null;e:{var L=l.i;let U=-1;for(;;){const J=["count="+g];U==-1?0<g?(U=L[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let He=!0;for(let mt=0;mt<g;mt++){let Me=L[mt].g;const Et=L[mt].map;if(Me-=U,0>Me)U=Math.max(0,L[mt].g-100),He=!1;else try{tl(Et,J,"req"+Me+"_")}catch{w&&w(Et)}}if(He){w=J.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,w}function Ci(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;$e||ne(),Z||($e(),Z=!0),pe.add(f,l),l.v=0}}function ws(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Rn(O(l.Fa,l),il(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Rn(O(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ln(this),rl(this))};function Mo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function rl(l){l.g=new Nn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=an(l.qa);qe(f,"RID","rpc"),qe(f,"SID",l.K),qe(f,"AID",l.T),qe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(f,"TO",l.ja),qe(f,"TYPE","xmlhttp"),fr(l,f),l.m&&l.o&&Br(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ur(an(f)),g.m=null,g.P=!0,Co(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Ln(this),ws(this),st(19))};function Es(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Ts(l,f){var g=null;if(l.g==f){Es(l),Mo(l),l.g=null;var w=2}else if(Ht(l.h,f))g=f.D,Ga(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;w=vi(),pt(w,new as(w,g)),Gn(l)}else Ci(l);else if(L=f.s,L==3||L==0&&0<f.X||!(w==1&&rc(l,f)||w==2&&ws(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),L){case 1:pr(l,5);break;case 4:pr(l,10);break;case 3:pr(l,6);break;default:pr(l,2)}}}function il(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function pr(l,f){if(l.j.info("Error code "+f),f==2){var g=O(l.fb,l),w=l.Xa;const L=!w;w=new cr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ai(w,"https"),Ur(w),L?ec(w.toString(),g):el(w.toString(),g)}else st(2);l.G=0,l.l&&l.l.sa(f),sl(l),vs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function sl(l){if(l.G=0,l.ka=[],l.l){const f=Qa(l.h);(f.length!=0||l.i.length!=0)&&(G(l.ka,f),G(l.ka,l.i),l.h.i.length=0,ee(l.i),l.i.length=0),l.l.ra()}}function ol(l,f,g){var w=g instanceof cr?an(g):new cr(g);if(w.g!="")f&&(w.g=f+"."+w.g),Fr(w,w.s);else{var L=m.location;w=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var U=new cr(null);w&&Ai(U,w),f&&(U.g=f),L&&Fr(U,L),g&&(U.l=g),w=U}return g=l.D,f=l.ya,g&&f&&qe(w,g,f),qe(w,"VER",l.la),fr(l,w),w}function al(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Je(new hr({eb:g})):new Je(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}i=Fo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Is(){}Is.prototype.g=function(l,f){return new qt(l,f)};function qt(l,f){ft.call(this),this.g=new Lo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ke(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ke(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Qn(this)}K(qt,ft),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Pt(this.g)},qt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=wo(l),l=g);f.i.push(new Wa(f.Ya++,l)),f.G==3&&Gn(f)},qt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,qt.aa.N.call(this)};function ll(l){$n.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}K(ll,$n);function ul(){os.call(this),this.status=1}K(ul,os);function Qn(l){this.g=l}K(Qn,Fo),Qn.prototype.ua=function(){pt(this.g,"a")},Qn.prototype.ta=function(l){pt(this.g,new ll(l))},Qn.prototype.sa=function(l){pt(this.g,new ul)},Qn.prototype.ra=function(){pt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Ly=function(){return new Is},Oy=function(){return vi()},Vy=Hn,Xh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,du=us,Ba.COMPLETE="complete",Dy=Ba,ss.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ca=ss,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,xy=Je}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const Xm="@firebase/firestore";class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");let uo="10.14.0";const Yi=new hd("@firebase/firestore");function la(){return Yi.logLevel}function ue(i,...e){if(Yi.logLevel<=Le.DEBUG){const t=e.map(Ad);Yi.debug(`Firestore (${uo}): ${i}`,...t)}}function Dr(i,...e){if(Yi.logLevel<=Le.ERROR){const t=e.map(Ad);Yi.error(`Firestore (${uo}): ${i}`,...t)}}function to(i,...e){if(Yi.logLevel<=Le.WARN){const t=e.map(Ad);Yi.warn(`Firestore (${uo}): ${i}`,...t)}}function Ad(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function _e(i="Unexpected state"){const e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+i;throw Dr(e),new Error(e)}function Qe(i,e){i||_e()}function Ve(i,e){return i}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class My{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class KT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class GT{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new My(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new zt(e)}}class QT{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YT{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new QT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new XT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ZT(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<t&&(s+=e.charAt(a[u]%e.length))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function no(i,e,t){return i.length===e.length&&i.every(((s,a)=>t(s,e[a])))}class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Rt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Rt(0,0))}static max(){return new Te(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ta{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(),s===void 0?s=e.length-t:s>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ta.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const u=e.get(a),h=t.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends Ta{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const eI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Ta{construct(e,t,s){return new Bt(e,t,s)}static isValidIdentifier(e){return eI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const u=()=>{if(s.length===0)throw new fe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new fe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new fe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}function tI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(s===1e9?new Rt(t+1,0):new Rt(t,s));return new di(a,ye.empty(),e)}function nI(i){return new di(i.readTime,i.key,-1)}class di{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new di(Te.min(),ye.empty(),-1)}static max(){return new di(Te.max(),ye.empty(),-1)}}function rI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Be(i.largestBatchId,e.largestBatchId))}const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kd(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==iI)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):W.reject(t)}static resolve(e){return new W(((t,s)=>{t(e)}))}static reject(e){return new W(((t,s)=>{s(e)}))}static waitFor(e){return new W(((t,s)=>{let a=0,u=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++u,h&&u===a&&t()}),(y=>s(y)))})),h=!0,u===a&&t()}))}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next((a=>a?W.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,u)=>{s.push(t.call(this,a,u))})),this.waitFor(s)}static mapArray(e,t){return new W(((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;t(e[_]).next((E=>{h[_]=E,++m,m===u&&s(h)}),(E=>a(E)))}}))}static doWhile(e,t){return new W(((s,a)=>{const u=()=>{e()===!0?t().next((()=>{u()}),a):s()};u()}))}}function oI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function La(i){return i.name==="IndexedDbTransactionError"}class Rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rd.oe=-1;function Ma(i){return i==null}function Su(i){return i===0&&1/i==-1/0}function aI(i){return typeof i=="number"&&Number.isInteger(i)&&!Su(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Jm(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function co(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function by(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class lt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,a,u){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=a??Dt.EMPTY,this.right=u??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,u){return new Dt(e??this.key,t??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,s),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Dt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,s,a,u){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zm(this.data.getIterator())}getIteratorFrom(e){return new Zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class Zm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new An([])}unionWith(e){let t=new Vt(Bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Uy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Uy("Invalid base64 string: "+u):u}})(e);return new Lt(t)}static fromUint8Array(e){const t=(function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u})(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(i){if(Qe(!!i),typeof i=="string"){let e=0;const t=lI.exec(i);if(Qe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(i.seconds),nanos:at(i.nanos)}}function at(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Lt.fromBase64String(i):Lt.fromUint8Array(i)}function Cd(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Pd(i){const e=i.mapValue.fields.__previous_value__;return Cd(e)?Pd(e):e}function Ia(i){const e=fi(i.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}class uI{constructor(e,t,s,a,u,h,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_}}class Sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}const ou={mapValue:{}};function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cd(i)?4:hI(i)?9007199254740991:cI(i)?10:11:_e()}function ir(i,e){if(i===e)return!0;const t=Ji(i);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ia(i).isEqual(Ia(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=fi(a.timestampValue),m=fi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,u){return Xi(a.bytesValue).isEqual(Xi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,u){return at(a.geoPointValue.latitude)===at(u.geoPointValue.latitude)&&at(a.geoPointValue.longitude)===at(u.geoPointValue.longitude)})(i,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return at(a.integerValue)===at(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=at(a.doubleValue),m=at(u.doubleValue);return h===m?Su(h)===Su(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return no(i.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return(function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Jm(h)!==Jm(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!ir(h[y],m[y])))return!1;return!0})(i,e);default:return _e()}}function Aa(i,e){return(i.values||[]).find((t=>ir(t,e)))!==void 0}function ro(i,e){if(i===e)return 0;const t=Ji(i),s=Ji(e);if(t!==s)return Be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=at(u.integerValue||u.doubleValue),y=at(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return eg(i.timestampValue,e.timestampValue);case 4:return eg(Ia(i),Ia(e));case 5:return Be(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Xi(u),y=Xi(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=Be(m[_],y[_]);if(E!==0)return E}return Be(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Be(at(u.latitude),at(h.latitude));return m!==0?m:Be(at(u.longitude),at(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return tg(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var m,y,_,E;const N=u.fields||{},O=h.fields||{},z=(m=N.value)===null||m===void 0?void 0:m.arrayValue,K=(y=O.value)===null||y===void 0?void 0:y.arrayValue,ee=Be(((_=z?.values)===null||_===void 0?void 0:_.length)||0,((E=K?.values)===null||E===void 0?void 0:E.length)||0);return ee!==0?ee:tg(z,K)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ou.mapValue&&h===ou.mapValue)return 0;if(u===ou.mapValue)return 1;if(h===ou.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=h.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let N=0;N<y.length&&N<E.length;++N){const O=Be(y[N],E[N]);if(O!==0)return O;const z=ro(m[y[N]],_[E[N]]);if(z!==0)return z}return Be(y.length,E.length)})(i.mapValue,e.mapValue);default:throw _e()}}function eg(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const t=fi(i),s=fi(e),a=Be(t.seconds,s.seconds);return a!==0?a:Be(t.nanos,s.nanos)}function tg(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const u=ro(t[a],s[a]);if(u)return u}return Be(t.length,s.length)}function io(i){return Jh(i)}function Jh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=fi(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Xi(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ye.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",a=!0;for(const u of t.values||[])a?a=!1:s+=",",s+=Jh(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Jh(t.fields[h])}`;return a+"}"})(i.mapValue):_e()}function Zh(i){return!!i&&"integerValue"in i}function Nd(i){return!!i&&"arrayValue"in i}function ng(i){return!!i&&"nullValue"in i}function rg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mh(i){return!!i&&"mapValue"in i}function cI(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return co(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=pa(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function hI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(t)}setAll(e){let t=Bt.emptyPath(),s={},a=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,a),s={},a=[],t=m.popLast()}h?s[m.lastSegment()]=pa(h):a.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,a)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Mh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){co(t,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new rn(pa(this.value))}}class kt{constructor(e,t,s,a,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new kt(e,0,Te.min(),Te.min(),Te.min(),rn.empty(),0)}static newFoundDocument(e,t,s,a){return new kt(e,1,t,Te.min(),s,a,0)}static newNoDocument(e,t){return new kt(e,2,t,Te.min(),Te.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new kt(e,3,t,Te.min(),Te.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Au{constructor(e,t){this.position=e,this.inclusive=t}}function ig(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=ro(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ir(i.position[t],e.position[t]))return!1;return!0}class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function dI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class jy{}class vt extends jy{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new pI(e,t,s):t==="array-contains"?new yI(e,s):t==="in"?new vI(e,s):t==="not-in"?new _I(e,s):t==="array-contains-any"?new wI(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new mI(e,s):new gI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ro(t,this.value)):t!==null&&Ji(this.value)===Ji(t)&&this.matchesComparison(ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends jy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new sr(e,t)}matches(e){return zy(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zy(i){return i.op==="and"}function By(i){return fI(i)&&zy(i)}function fI(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function ed(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+io(i.value);if(By(i))return i.filters.map((e=>ed(e))).join(",");{const e=i.filters.map((t=>ed(t))).join(",");return`${i.op}(${e})`}}function $y(i,e){return i instanceof vt?(function(s,a){return a instanceof vt&&s.op===a.op&&s.field.isEqual(a.field)&&ir(s.value,a.value)})(i,e):i instanceof sr?(function(s,a){return a instanceof sr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,h,m)=>u&&$y(h,a.filters[m])),!0):!1})(i,e):void _e()}function Hy(i){return i instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${io(t.value)}`})(i):i instanceof sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Hy).join(" ,")+"}"})(i):"Filter"}class pI extends vt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class mI extends vt{constructor(e,t){super(e,"in",t),this.keys=qy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gI extends vt{constructor(e,t){super(e,"not-in",t),this.keys=qy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qy(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class yI extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nd(t)&&Aa(t.arrayValue,this.value)}}class vI extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Aa(this.value.arrayValue,t)}}class _I extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Aa(this.value.arrayValue,t)}}class wI extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Aa(this.value.arrayValue,s)))}}class EI{constructor(e,t=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function og(i,e=null,t=[],s=[],a=null,u=null,h=null){return new EI(i,e,t,s,a,u,h)}function xd(i){const e=Ve(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ed(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ma(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>io(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>io(s))).join(",")),e.ue=t}return e.ue}function Dd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!dI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!$y(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sg(i.startAt,e.startAt)&&sg(i.endAt,e.endAt)}function td(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class bu{constructor(e,t=null,s=[],a=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TI(i,e,t,s,a,u,h,m){return new bu(i,e,t,s,a,u,h,m)}function Vd(i){return new bu(i)}function ag(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function II(i){return i.collectionGroup!==null}function ma(i){const e=Ve(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Bt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ku(u,s))})),t.has(Bt.keyField().canonicalString())||e.ce.push(new ku(Bt.keyField(),s))}return e.ce}function nr(i){const e=Ve(i);return e.le||(e.le=SI(e,ma(i))),e.le}function SI(i,e){if(i.limitType==="F")return og(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new ku(a.field,u)}));const t=i.endAt?new Au(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Au(i.startAt.position,i.startAt.inclusive):null;return og(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function nd(i,e,t){return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Uu(i,e){return Dd(nr(i),nr(e))&&i.limitType===e.limitType}function Wy(i){return`${xd(nr(i))}|lt:${i.limitType}`}function qs(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>Hy(a))).join(", ")}]`),Ma(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>io(a))).join(",")),`Target(${s})`})(nr(i))}; limitType=${i.limitType})`}function ju(i,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,a){for(const u of ma(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,m,y){const _=ig(h,m,y);return h.inclusive?_<=0:_<0})(s.startAt,ma(s),a)||s.endAt&&!(function(h,m,y){const _=ig(h,m,y);return h.inclusive?_>=0:_>0})(s.endAt,ma(s),a))})(i,e)}function AI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ky(i){return(e,t)=>{let s=!1;for(const a of ma(i)){const u=kI(a,e,t);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function kI(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):(function(u,h,m){const y=h.data.field(u),_=m.data.field(u);return y!==null&&_!==null?ro(y,_):_e()})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,((t,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return by(this.inner)}size(){return this.innerSize}}const RI=new lt(ye.comparator);function pi(){return RI}const Gy=new lt(ye.comparator);function ha(...i){let e=Gy;for(const t of i)e=e.insert(t.key,t);return e}function CI(i){let e=Gy;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Hi(){return ga()}function Qy(){return ga()}function ga(){return new ho((i=>i.toString()),((i,e)=>i.isEqual(e)))}const PI=new Vt(ye.comparator);function je(...i){let e=PI;for(const t of i)e=e.add(t);return e}const NI=new Vt(Be);function xI(){return NI}function Od(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function Yy(i){return{integerValue:""+i}}function DI(i,e){return aI(e)?Yy(e):Od(i,e)}class zu{constructor(){this._=void 0}}function VI(i,e,t){return i instanceof ka?(function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Cd(u)&&(u=Pd(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(t,e):i instanceof Ra?Xy(i,e):i instanceof Ca?Jy(i,e):(function(a,u){const h=LI(a,u),m=lg(h)+lg(a.Pe);return Zh(h)&&Zh(a.Pe)?Yy(m):Od(a.serializer,m)})(i,e)}function OI(i,e,t){return i instanceof Ra?Xy(i,e):i instanceof Ca?Jy(i,e):t}function LI(i,e){return i instanceof Ru?(function(s){return Zh(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ka extends zu{}class Ra extends zu{constructor(e){super(),this.elements=e}}function Xy(i,e){const t=Zy(e);for(const s of i.elements)t.some((a=>ir(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Ca extends zu{constructor(e){super(),this.elements=e}}function Jy(i,e){let t=Zy(e);for(const s of i.elements)t=t.filter((a=>!ir(a,s)));return{arrayValue:{values:t}}}class Ru extends zu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function lg(i){return at(i.integerValue||i.doubleValue)}function Zy(i){return Nd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class MI{constructor(e,t){this.field=e,this.transform=t}}function FI(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Ra&&a instanceof Ra||s instanceof Ca&&a instanceof Ca?no(s.elements,a.elements,ir):s instanceof Ru&&a instanceof Ru?ir(s.Pe,a.Pe):s instanceof ka&&a instanceof ka})(i.transform,e.transform)}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Bu{}function ev(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ld(i.key,Sn.none()):new Fa(i.key,i.data,Sn.none());{const t=i.data,s=rn.empty();let a=new Vt(Bt.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new es(i.key,s,new An(a.toArray()),Sn.none())}}function bI(i,e,t){i instanceof Fa?(function(a,u,h){const m=a.value.clone(),y=cg(a.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,t):i instanceof es?(function(a,u,h){if(!fu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=cg(a.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(tv(a)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,t):(function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function ya(i,e,t,s){return i instanceof Fa?(function(u,h,m,y){if(!fu(u.precondition,h))return m;const _=u.value.clone(),E=hg(u.fieldTransforms,y,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(i,e,t,s):i instanceof es?(function(u,h,m,y){if(!fu(u.precondition,h))return m;const _=hg(u.fieldTransforms,y,h),E=h.data;return E.setAll(tv(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((N=>N.field)))})(i,e,t,s):(function(u,h,m){return fu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,t)}function ug(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&no(s,a,((u,h)=>FI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fa extends Bu{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class es extends Bu{constructor(e,t,s,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tv(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function cg(i,e,t){const s=new Map;Qe(i.length===t.length);for(let a=0;a<t.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,OI(h,m,t[a]))}return s}function hg(i,e,t){const s=new Map;for(const a of i){const u=a.transform,h=t.data.field(a.field);s.set(a.field,VI(u,h,e))}return s}class Ld extends Bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nv extends Bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UI{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&bI(u,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ya(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ya(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Qy();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const y=ev(h,m);y!==null&&s.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((t,s)=>ug(t,s)))&&no(this.baseMutations,e.baseMutations,((t,s)=>ug(t,s)))}}class jI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zI{constructor(e,t){this.count=e,this.unchangedNames=t}}var ht,Fe;function BI(i){switch(i){default:return _e();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function rv(i){if(i===void 0)return Dr("GRPC error has no .code"),q.UNKNOWN;switch(i){case ht.OK:return q.OK;case ht.CANCELLED:return q.CANCELLED;case ht.UNKNOWN:return q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return q.INTERNAL;case ht.UNAVAILABLE:return q.UNAVAILABLE;case ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ht.NOT_FOUND:return q.NOT_FOUND;case ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ht.ABORTED:return q.ABORTED;case ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ht.DATA_LOSS:return q.DATA_LOSS;default:return _e()}}(Fe=ht||(ht={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const HI=new Wi([4294967295,4294967295],0);function dg(i){const e=$I().encode(i),t=new Ny;return t.update(e),new Uint8Array(t.digest())}function fg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([t,s],0),new Wi([a,u],0)]}class Md{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new da(`Invalid padding: ${t}`);if(s<0)throw new da(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new da(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wi.fromNumber(this.Ie)}Ee(e,t,s){let a=e.add(t.multiply(Wi.fromNumber(s)));return a.compare(HI)===1&&(a=new Wi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=dg(e),[s,a]=fg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Md(u,a,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.Ie===0)return;const t=dg(e),[s,a]=fg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $u{constructor(e,t,s,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,ba.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $u(Te.min(),a,new lt(Be),pi(),je())}}class ba{constructor(e,t,s,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ba(s,t,je(),je(),je())}}class pu{constructor(e,t,s,a){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=a}}class iv{constructor(e,t){this.targetId=e,this.me=t}}class sv{constructor(e,t,s=Lt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class pg{constructor(){this.fe=0,this.ge=gg(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),s=je();return this.ge.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:_e()}})),new ba(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=gg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qI{constructor(e){this.Le=e,this.Be=new Map,this.ke=pi(),this.qe=mg(),this.Qe=new lt(Be)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:_e()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,a)=>{this.ze(a)&&t(a)}))}He(e){const t=e.targetId,s=e.me.count,a=this.Je(t);if(a){const u=a.target;if(td(u))if(s===0){const h=new ye(u.path);this.Ue(t,h,kt.newNoDocument(h,Te.min()))}else Qe(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),y=m?this.Xe(m,e,h):1;if(y!==0){this.je(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=Xi(s).toUint8Array()}catch(y){if(y instanceof Uy)return to("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Md(h,a,u)}catch(y){return to(y instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let a=0;return s.forEach((u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),a++)})),a}rt(e){const t=new Map;this.Be.forEach(((u,h)=>{const m=this.Je(h);if(m){if(u.current&&td(m.target)){const y=new ye(m.target.path);this.ke.get(y)!==null||this.it(h,y)||this.Ue(h,y,kt.newNoDocument(y,e))}u.be&&(t.set(h,u.ve()),u.Ce())}}));let s=je();this.qe.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const _=this.Je(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const a=new $u(e,t,this.Qe,this.ke,s);return this.ke=pi(),this.qe=mg(),this.Qe=new lt(Be),a}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new pg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vt(Be),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function mg(){return new lt(ye.comparator)}function gg(){return new lt(ye.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GI={and:"AND",or:"OR"};class QI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rd(i,e){return i.useProto3Json||Ma(e)?e:{value:e}}function Cu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ov(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YI(i,e){return Cu(i,e.toTimestamp())}function Pr(i){return Qe(!!i),Te.fromTimestamp((function(t){const s=fi(t);return new Rt(s.seconds,s.nanos)})(i))}function Fd(i,e){return id(i,e).canonicalString()}function id(i,e){const t=(function(a){return new et(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function av(i){const e=et.fromString(i);return Qe(dv(e)),e}function Pu(i,e){return Fd(i.databaseId,e.path)}function va(i,e){const t=av(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(uv(t))}function lv(i,e){return Fd(i.databaseId,e)}function XI(i){const e=av(i);return e.length===4?et.emptyPath():uv(e)}function yg(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uv(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function vg(i,e,t){return{name:Pu(i,e),fields:t.value.mapValue.fields}}function JI(i,e){return"found"in e?(function(s,a){Qe(!!a.found),a.found.name,a.found.updateTime;const u=va(s,a.found.name),h=Pr(a.found.updateTime),m=a.found.createTime?Pr(a.found.createTime):Te.min(),y=new rn({mapValue:{fields:a.found.fields}});return kt.newFoundDocument(u,h,m,y)})(i,e):"missing"in e?(function(s,a){Qe(!!a.missing),Qe(!!a.readTime);const u=va(s,a.missing),h=Pr(a.readTime);return kt.newNoDocument(u,h)})(i,e):_e()}function ZI(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(Qe(E===void 0||typeof E=="string"),Lt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Lt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(_){const E=_.code===void 0?q.UNKNOWN:rv(_.code);return new fe(E,_.message||"")})(h);t=new sv(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=va(i,s.document.name),u=Pr(s.document.updateTime),h=s.document.createTime?Pr(s.document.createTime):Te.min(),m=new rn({mapValue:{fields:s.document.fields}}),y=kt.newFoundDocument(a,u,h,m),_=s.targetIds||[],E=s.removedTargetIds||[];t=new pu(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=va(i,s.document),u=s.readTime?Pr(s.readTime):Te.min(),h=kt.newNoDocument(a,u),m=s.removedTargetIds||[];t=new pu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=va(i,s.document),u=s.removedTargetIds||[];t=new pu([],u,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new zI(a,u),m=s.targetId;t=new iv(m,h)}}return t}function eS(i,e){let t;if(e instanceof Fa)t={update:vg(i,e.key,e.value)};else if(e instanceof Ld)t={delete:Pu(i,e.key)};else if(e instanceof es)t={update:vg(i,e.key,e.data),updateMask:lS(e.fieldMask)};else{if(!(e instanceof nv))return _e();t={verify:Pu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof ka)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ra)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ca)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw _e()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:YI(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e()})(i,e.precondition)),t}function tS(i,e){return{documents:[lv(i,e.path)]}}function nS(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=lv(i,a);const u=(function(_){if(_.length!==0)return hv(sr.create(_,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(_){if(_.length!==0)return _.map((E=>(function(O){return{field:Ws(O.field),direction:sS(O.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=rd(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:t,parent:a}}function rS(i){let e=XI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Qe(s===1);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(N){const O=cv(N);return O instanceof sr&&By(O)?O.getFilters():[O]})(t.where));let h=[];t.orderBy&&(h=(function(N){return N.map((O=>(function(K){return new ku(Ks(K.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(O)))})(t.orderBy));let m=null;t.limit&&(m=(function(N){let O;return O=typeof N=="object"?N.value:N,Ma(O)?null:O})(t.limit));let y=null;t.startAt&&(y=(function(N){const O=!!N.before,z=N.values||[];return new Au(z,O)})(t.startAt));let _=null;return t.endAt&&(_=(function(N){const O=!N.before,z=N.values||[];return new Au(z,O)})(t.endAt)),TI(e,a,h,u,m,"F",y,_)}function iS(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cv(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ks(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ks(t.unaryFilter.field);return vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(t.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return _e()}})(i):i.fieldFilter!==void 0?(function(t){return vt.create(Ks(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return sr.create(t.compositeFilter.filters.map((s=>cv(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}})(t.compositeFilter.op))})(i):_e()}function sS(i){return WI[i]}function oS(i){return KI[i]}function aS(i){return GI[i]}function Ws(i){return{fieldPath:i.canonicalString()}}function Ks(i){return Bt.fromServerFormat(i.fieldPath)}function hv(i){return i instanceof vt?(function(t){if(t.op==="=="){if(rg(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(ng(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rg(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(ng(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:oS(t.op),value:t.value}}})(i):i instanceof sr?(function(t){const s=t.getFilters().map((a=>hv(a)));return s.length===1?s[0]:{compositeFilter:{op:aS(t.op),filters:s}}})(i):_e()}function lS(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class li{constructor(e,t,s,a,u=Te.min(),h=Te.min(),m=Lt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uS{constructor(e){this.ct=e}}function cS(i){const e=rS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?nd(e,e.limit,"L"):e}class hS{constructor(){this.un=new dS}addToCollectionParentIndex(e,t){return this.un.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(di.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class dS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Vt(et.comparator),u=!a.has(s);return this.index[t]=a.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}class so{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new so(0)}static kn(){return new so(-1)}}class fS{constructor(){this.changes=new ho((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mS{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&ya(s.mutation,a,An.empty(),Rt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=je()){const a=Hi();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((u=>{let h=ha();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Hi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,je())))}populateOverlays(e,t,s){const a=[];return s.forEach((u=>{t.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,a){let u=pi();const h=ga(),m=(function(){return ga()})();return t.forEach(((y,_)=>{const E=s.get(_.key);a.has(_.key)&&(E===void 0||E.mutation instanceof es)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),ya(E.mutation,_,E.mutation.getFieldMask(),Rt.now())):h.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,E)=>h.set(_,E))),t.forEach(((_,E)=>{var N;return m.set(_,new pS(E,(N=h.get(_))!==null&&N!==void 0?N:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=ga();let a=new lt(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((y=>{const _=t.get(y);if(_===null)return;let E=s.get(y)||An.empty();E=m.applyToLocalView(_,E),s.set(y,E);const N=(a.get(m.batchId)||je()).add(y);a=a.insert(m.batchId,N)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,N=Qy();E.forEach((O=>{if(!u.has(O)){const z=ev(t.get(O),s.get(O));z!==null&&N.set(O,z),u=u.add(O)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,N))}return W.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):II(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-u.size):W.resolve(Hi());let m=-1,y=u;return h.next((_=>W.forEach(_,((E,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((O=>{y=y.insert(E,O)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,je()))).next((E=>({batchId:m,changes:CI(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let a=ha();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const u=t.collectionGroup;let h=ha();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(y=>{const _=(function(N,O){return new bu(O,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next((E=>{E.forEach(((N,O)=>{h=h.insert(N,O)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,a)))).next((h=>{u.forEach(((y,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,kt.newInvalidDocument(E)))}));let m=ha();return h.forEach(((y,_)=>{const E=u.get(y);E!==void 0&&ya(E.mutation,_,An.empty(),Rt.now()),ju(t,_)&&(m=m.insert(y,_))})),m}))}}class gS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return W.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Pr(a.createTime)}})(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(a){return{name:a.name,query:cS(a.bundledQuery),readTime:Pr(a.readTime)}})(t)),W.resolve()}}class yS{constructor(){this.overlays=new lt(ye.comparator),this.Ir=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hi();return W.forEach(t,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,u)=>{this.ht(e,t,u)})),W.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const a=Hi(),u=t.length+1,h=new ye(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let u=new lt(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Hi(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Hi(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>m.set(_,E))),!(m.size()>=a)););return W.resolve(m)}ht(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new jI(t,s));let u=this.Ir.get(t);u===void 0&&(u=je(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}class vS{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}class bd{constructor(){this.Tr=new Vt(At.Er),this.dr=new Vt(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new At(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new At(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new ye(new et([])),s=new At(t,e),a=new At(t,e+1),u=[];return this.dr.forEachInRange([s,a],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ye(new et([])),s=new At(t,e),a=new At(t,e+1);let u=je();return this.dr.forEachInRange([s,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new At(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ye.comparator(e.key,t.key)||Be(e.wr,t.wr)}static Ar(e,t){return Be(e.wr,t.wr)||ye.comparator(e.key,t.key)}}class _S{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Vt(At.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UI(u,t,s,a);this.mutationQueue.push(h);for(const m of a)this.br=this.br.add(new At(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.vr(s),u=a<0?0:a;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new At(t,0),a=new At(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,a],(h=>{const m=this.Dr(h.wr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Be);return t.forEach((a=>{const u=new At(a,0),h=new At(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(m=>{s=s.add(m.wr)}))})),W.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new At(new ye(u),0);let m=new Vt(Be);return this.br.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.wr)),!0)}),h),W.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((s=>{const a=this.Dr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return W.forEach(t.mutations,(a=>{const u=new At(a.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new At(t,0),a=this.br.firstAfterOrEqual(s);return W.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wS{constructor(e){this.Mr=e,this.docs=(function(){return new lt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),u=a?a.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():kt.newInvalidDocument(t))}getEntries(e,t){let s=pi();return t.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():kt.newInvalidDocument(a))})),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let u=pi();const h=t.path,m=new ye(h.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||rI(nI(E),s)<=0||(a.has(E.key)||ju(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,a){_e()}Or(e,t){return W.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new ES(this)}getSize(e){return W.resolve(this.size)}}class ES extends fS{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)})),W.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class TS{constructor(e){this.persistence=e,this.Nr=new ho((t=>xd(t)),Dd),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bd,this.targetCount=0,this.kr=so.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,a)=>t(a))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),W.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new so(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Kn(t),W.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let a=0;const u=[];return this.Nr.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),W.waitFor(u).next((()=>a))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.Br.containsKey(t))}}class IS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Rd(0),this.Kr=!1,this.Kr=!0,this.$r=new vS,this.referenceDelegate=e(this),this.Ur=new TS(this),this.indexManager=new hS,this.remoteDocumentCache=(function(a){return new wS(a)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new uS(t),this.Gr=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new _S(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const a=new SS(this.Qr.next());return this.referenceDelegate.zr(),s(a).next((u=>this.referenceDelegate.jr(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Hr(e,t){return W.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class SS extends sI{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Jr=new bd,this.Yr=null}static Zr(e){return new Ud(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),W.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((a=>this.Xr.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,(s=>{const a=ye.fromPath(s);return this.ei(e,a).next((u=>{u||t.removeEntry(a,Te.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return W.or([()=>W.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class jd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=a}static Wi(e,t){let s=je(),a=je();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new jd(e,t.fromCache,s,a)}}class AS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return R0()?8:oI($t())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,a){const u={result:null};return this.Yi(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,t,a,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new AS;return this.Xi(e,t,h).next((m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)}))})).next((()=>u.result))}es(e,t,s,a){return s.documentReadCount<this.ji?(la()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",qs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(la()<=Le.DEBUG&&ue("QueryEngine","Query:",qs(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(la()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",qs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):W.resolve())}Yi(e,t){if(ag(t))return W.resolve(null);let s=nr(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=nd(t,null,"F"),s=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.Ji.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const _=this.ts(t,m);return this.ns(t,_,h,y.readTime)?this.Yi(e,nd(t,null,"F")):this.rs(e,_,t,y)}))))})))))}Zi(e,t,s,a){return ag(t)||a.isEqual(Te.min())?W.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const h=this.ts(t,u);return this.ns(t,h,s,a)?W.resolve(null):(la()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qs(t)),this.rs(e,h,t,tI(a,-1)).next((m=>m)))}))}ts(e,t){let s=new Vt(Ky(e));return t.forEach(((a,u)=>{ju(e,u)&&(s=s.add(u))})),s}ns(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Xi(e,t,s){return la()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",qs(t)),this.Ji.getDocumentsMatchingQuery(e,t,di.min(),s)}rs(e,t,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}class RS{constructor(e,t,s,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new lt(Be),this._s=new ho((u=>xd(u)),Dd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function CS(i,e,t,s){return new RS(i,e,t,s)}async function fv(i,e){const t=Ve(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let y=je();for(const _ of a){h.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(s,y).next((_=>({hs:_,removedBatchIds:h,addedBatchIds:m})))}))}))}function pv(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function PS(i,e){const t=Ve(i),s=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const m=[];e.targetChanges.forEach(((E,N)=>{const O=a.get(N);if(!O)return;m.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,N).next((()=>t.Ur.addMatchingKeys(u,E.addedDocuments,N))));let z=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?z=z.withResumeToken(Lt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),a=a.insert(N,z),(function(ee,G,ve){return ee.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(O,z,E)&&m.push(t.Ur.updateTargetData(u,z))}));let y=pi(),_=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(NS(u,h,e.documentUpdates).next((E=>{y=E.Ps,_=E.Is}))),!s.isEqual(Te.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next((N=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(t.os=a,u)))}function NS(i,e,t){let s=je(),a=je();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=pi();return t.forEach(((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ue("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)})),{Ps:h,Is:a}}))}function xS(i,e){const t=Ve(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Ur.getTargetData(s,e).next((u=>u?(a=u,W.resolve(a)):t.Ur.allocateTargetId(s).next((h=>(a=new li(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function sd(i,e,t){const s=Ve(i),a=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!La(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function _g(i,e,t){const s=Ve(i);let a=Te.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,_,E){const N=Ve(y),O=N._s.get(E);return O!==void 0?W.resolve(N.os.get(O)):N.Ur.getTargetData(_,E)})(s,h,nr(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>s.ss.getDocumentsMatchingQuery(h,e,t?a:Te.min(),t?u:je()))).next((m=>(DS(s,AI(e),m),{documents:m,Ts:u})))))}function DS(i,e,t){let s=i.us.get(e)||Te.min();t.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.us.set(e,s)}class wg{constructor(){this.activeTargetIds=xI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VS{constructor(){this.so=new wg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OS{_o(e){}shutdown(){}}class Eg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let au=null;function Fh(){return au===null?au=(function(){return 268435456+Math.round(2147483648*Math.random())})():au++,"0x"+au.toString(16)}const LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const jt="WebChannelConnection";class FS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${a}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}get Fo(){return!1}Mo(t,s,a,u,h){const m=Fh(),y=this.xo(t,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${m}:`,y,a);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,h),this.No(t,y,_,a).then((E=>(ue("RestConnection",`Received RPC '${t}' ${m}: `,E),E)),(E=>{throw to("RestConnection",`RPC '${t}' ${m} failed with error: `,E,"url: ",y,"request:",a),E}))}Lo(t,s,a,u,h,m){return this.Mo(t,s,a,u,h)}Oo(t,s,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>t[h]=u)),a&&a.headers.forEach(((u,h)=>t[h]=u))}xo(t,s){const a=LS[t];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,a){const u=Fh();return new Promise(((h,m)=>{const y=new xy;y.setWithCredentials(!0),y.listenOnce(Dy.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case du.NO_ERROR:const E=y.getResponseJson();ue(jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case du.TIMEOUT:ue(jt,`RPC '${e}' ${u} timed out`),m(new fe(q.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const N=y.getStatus();if(ue(jt,`RPC '${e}' ${u} failed with status:`,N,"response text:",y.getResponseText()),N>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O?.error;if(z&&z.status&&z.message){const K=(function(G){const ve=G.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(ve)>=0?ve:q.UNKNOWN})(z.status);m(new fe(K,z.message))}else m(new fe(q.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new fe(q.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ue(jt,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(a);ue(jt,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",_,s,15)}))}Bo(e,t,s){const a=Fh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ly(),m=Oy(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ue(jt,`Creating RPC '${e}' stream ${a}: ${E}`,y);const N=h.createWebChannel(E,y);let O=!1,z=!1;const K=new MS({Io:G=>{z?ue(jt,`Not sending because RPC '${e}' stream ${a} is closed:`,G):(O||(ue(jt,`Opening RPC '${e}' stream ${a} transport.`),N.open(),O=!0),ue(jt,`RPC '${e}' stream ${a} sending:`,G),N.send(G))},To:()=>N.close()}),ee=(G,ve,ke)=>{G.listen(ve,(Ae=>{try{ke(Ae)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return ee(N,ca.EventType.OPEN,(()=>{z||(ue(jt,`RPC '${e}' stream ${a} transport opened.`),K.yo())})),ee(N,ca.EventType.CLOSE,(()=>{z||(z=!0,ue(jt,`RPC '${e}' stream ${a} transport closed`),K.So())})),ee(N,ca.EventType.ERROR,(G=>{z||(z=!0,to(jt,`RPC '${e}' stream ${a} transport errored:`,G),K.So(new fe(q.UNAVAILABLE,"The operation could not be completed")))})),ee(N,ca.EventType.MESSAGE,(G=>{var ve;if(!z){const ke=G.data[0];Qe(!!ke);const Ae=ke,Re=Ae.error||((ve=Ae[0])===null||ve===void 0?void 0:ve.error);if(Re){ue(jt,`RPC '${e}' stream ${a} received error:`,Re);const Pe=Re.status;let Se=(function(A){const R=ht[A];if(R!==void 0)return rv(R)})(Pe),P=Re.message;Se===void 0&&(Se=q.INTERNAL,P="Unknown error status: "+Pe+" with message "+Re.message),z=!0,K.So(new fe(Se,P)),N.close()}else ue(jt,`RPC '${e}' stream ${a} received:`,ke),K.bo(ke)}})),ee(m,Vy.STAT_EVENT,(G=>{G.stat===Xh.PROXY?ue(jt,`RPC '${e}' stream ${a} detected buffering proxy`):G.stat===Xh.NOPROXY&&ue(jt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{K.wo()}),0),K}}function bh(){return typeof document<"u"?document:null}function Hu(i){return new QI(i,!0)}class zd{constructor(e,t,s=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-s);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class bS{constructor(e,t,s,a,u,h,m,y){this.ui=e,this.Ho=s,this.Jo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.Yo===t&&this.P_(s,a)}),(s=>{e((()=>{const a=new fe(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{s((()=>this.I_(a)))})),this.stream.onMessage((a=>{s((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends bS{constructor(e,t,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=ZI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Pr(h.readTime):Te.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=yg(this.serializer),t.addTarget=(function(u,h){let m;const y=h.target;if(m=td(y)?{documents:tS(u,y)}:{query:nS(u,y)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ov(u,h.resumeToken);const _=rd(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=Cu(u,h.snapshotVersion.toTimestamp());const _=rd(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const s=iS(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=yg(this.serializer),t.removeTarget=e,this.a_(t)}}class jS extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,id(t,s),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(q.UNKNOWN,u.toString())}))}Lo(e,t,s,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Lo(e,id(t,s),a,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(q.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class zS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(t),this.D_=!1):ue("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class BS{constructor(e,t,s,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{s.enqueueAndForget((async()=>{ja(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const _=Ve(y);_.L_.add(4),await Ua(_),_.q_.set("Unknown"),_.L_.delete(4),await qu(_)})(this))}))})),this.q_=new zS(s,a)}}async function qu(i){if(ja(i))for(const e of i.B_)await e(!0)}async function Ua(i){for(const e of i.B_)await e(!1)}function mv(i,e){const t=Ve(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),qd(t)?Hd(t):fo(t).r_()&&$d(t,e))}function Bd(i,e){const t=Ve(i),s=fo(t);t.N_.delete(e),s.r_()&&gv(t,e),t.N_.size===0&&(s.r_()?s.o_():ja(t)&&t.q_.set("Unknown"))}function $d(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fo(i).A_(e)}function gv(i,e){i.Q_.xe(e),fo(i).R_(e)}function Hd(i){i.Q_=new qI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),fo(i).start(),i.q_.v_()}function qd(i){return ja(i)&&!fo(i).n_()&&i.N_.size>0}function ja(i){return Ve(i).L_.size===0}function yv(i){i.Q_=void 0}async function $S(i){i.q_.set("Online")}async function HS(i){i.N_.forEach(((e,t)=>{$d(i,e)}))}async function qS(i,e){yv(i),qd(i)?(i.q_.M_(e),Hd(i)):i.q_.set("Unknown")}async function WS(i,e,t){if(i.q_.set("Online"),e instanceof sv&&e.state===2&&e.cause)try{await(async function(a,u){const h=u.cause;for(const m of u.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.N_.delete(m),a.Q_.removeTarget(m))})(i,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tg(i,s)}else if(e instanceof pu?i.Q_.Ke(e):e instanceof iv?i.Q_.He(e):i.Q_.We(e),!t.isEqual(Te.min()))try{const s=await pv(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.N_.get(_);E&&u.N_.set(_,E.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,_)=>{const E=u.N_.get(y);if(!E)return;u.N_.set(y,E.withResumeToken(Lt.EMPTY_BYTE_STRING,E.snapshotVersion)),gv(u,y);const N=new li(E.target,y,_,E.sequenceNumber);$d(u,N)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await Tg(i,s)}}async function Tg(i,e,t){if(!La(e))throw e;i.L_.add(1),await Ua(i),i.q_.set("Offline"),t||(t=()=>pv(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await qu(i)}))}async function Ig(i,e){const t=Ve(i);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=ja(t);t.L_.add(3),await Ua(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await qu(t)}async function KS(i,e){const t=Ve(i);e?(t.L_.delete(2),await qu(t)):e||(t.L_.add(2),await Ua(t),t.q_.set("Unknown"))}function fo(i){return i.K_||(i.K_=(function(t,s,a){const u=Ve(t);return u.w_(),new US(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(i.datastore,i.asyncQueue,{Eo:$S.bind(null,i),Ro:HS.bind(null,i),mo:qS.bind(null,i),d_:WS.bind(null,i)}),i.B_.push((async e=>{e?(i.K_.s_(),qd(i)?Hd(i):i.q_.set("Unknown")):(await i.K_.stop(),yv(i))}))),i.K_}class Wd{constructor(e,t,s,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,u){const h=Date.now()+s,m=new Wd(e,t,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(i,e){if(Dr("AsyncQueue",`${e}: ${i}`),La(i))return new fe(q.UNAVAILABLE,`${e}: ${i}`);throw i}class Js{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=ha(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Sg{constructor(){this.W_=new lt(ye.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class oo{constructor(e,t,s,a,u,h,m,y,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,a,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new oo(e,t,Js.emptySet(t),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class GS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class QS{constructor(){this.queries=Ag(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const a=Ve(t),u=a.queries;a.queries=Ag(),u.forEach(((h,m)=>{for(const y of m.j_)y.onError(s)}))})(this,new fe(q.ABORTED,"Firestore shutting down"))}}function Ag(){return new ho((i=>Wy(i)),Uu)}async function YS(i,e){const t=Ve(i);let s=3;const a=e.query;let u=t.queries.get(a);u?!u.H_()&&e.J_()&&(s=2):(u=new GS,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(a,!0);break;case 1:u.z_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=vv(h,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&Kd(t)}async function XS(i,e){const t=Ve(i),s=e.query;let a=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?a=e.J_()?0:1:!u.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function JS(i,e){const t=Ve(i);let s=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(a)&&(s=!0);h.z_=a}}s&&Kd(t)}function ZS(i,e,t){const s=Ve(i),a=s.queries.get(e);if(a)for(const u of a.j_)u.onError(t);s.queries.delete(e)}function Kd(i){i.Y_.forEach((e=>{e.next()}))}var od,kg;(kg=od||(od={})).ea="default",kg.Cache="cache";class e1{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==od.Cache}}class _v{constructor(e){this.key=e}}class wv{constructor(e){this.key=e}}class t1{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=Ky(e),this.Ra=new Js(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new Sg,a=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,N)=>{const O=a.get(E),z=ju(this.query,N)?N:null,K=!!O&&this.mutatedKeys.has(O.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let G=!1;O&&z?O.data.isEqual(z.data)?K!==ee&&(s.track({type:3,doc:z}),G=!0):this.ga(O,z)||(s.track({type:2,doc:z}),G=!0,(y&&this.Aa(z,y)>0||_&&this.Aa(z,_)<0)&&(m=!0)):!O&&z?(s.track({type:0,doc:z}),G=!0):O&&!z&&(s.track({type:1,doc:O}),G=!0,(y||_)&&(m=!0)),G&&(z?(h=h.add(z),u=ee?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,N)=>(function(z,K){const ee=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return ee(z)-ee(K)})(E.type,N.type)||this.Aa(E.doc,N.doc))),this.pa(s),a=a!=null&&a;const m=t&&!a?this.ya():[],y=this.da.size===0&&this.current&&!a?1:0,_=y!==this.Ea;return this.Ea=y,h.length!==0||_?{snapshot:new oo(this.query,e.Ra,u,h,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new wv(s))})),this.da.forEach((s=>{e.has(s)||t.push(new _v(s))})),t}ba(e){this.Ta=e.Ts,this.da=je();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class n1{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class r1{constructor(e){this.key=e,this.va=!1}}class i1{constructor(e,t,s,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new ho((m=>Wy(m)),Uu),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(ye.comparator),this.Na=new Map,this.La=new bd,this.Ba={},this.ka=new Map,this.qa=so.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function s1(i,e,t=!0){const s=Av(i);let a;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Da()):a=await Ev(s,e,t,!0),a}async function o1(i,e){const t=Av(i);await Ev(t,e,!0,!1)}async function Ev(i,e,t,s){const a=await xS(i.localStore,nr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await a1(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&t&&mv(i.remoteStore,a),m}async function a1(i,e,t,s,a){i.Ka=(N,O,z)=>(async function(ee,G,ve,ke){let Ae=G.view.ma(ve);Ae.ns&&(Ae=await _g(ee.localStore,G.query,!1).then((({documents:P})=>G.view.ma(P,Ae))));const Re=ke&&ke.targetChanges.get(G.targetId),Pe=ke&&ke.targetMismatches.get(G.targetId)!=null,Se=G.view.applyChanges(Ae,ee.isPrimaryClient,Re,Pe);return Cg(ee,G.targetId,Se.wa),Se.snapshot})(i,N,O,z);const u=await _g(i.localStore,e,!0),h=new t1(e,u.Ts),m=h.ma(u.documents),y=ba.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),_=h.applyChanges(m,i.isPrimaryClient,y);Cg(i,t,_.wa);const E=new n1(e,t,h);return i.Fa.set(e,E),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),_.snapshot}async function l1(i,e,t){const s=Ve(i),a=s.Fa.get(e),u=s.Ma.get(a.targetId);if(u.length>1)return s.Ma.set(a.targetId,u.filter((h=>!Uu(h,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await sd(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Bd(s.remoteStore,a.targetId),ad(s,a.targetId)})).catch(kd)):(ad(s,a.targetId),await sd(s.localStore,a.targetId,!0))}async function u1(i,e){const t=Ve(i),s=t.Fa.get(e),a=t.Ma.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Bd(t.remoteStore,s.targetId))}async function Tv(i,e){const t=Ve(i);try{const s=await PS(t.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=t.Na.get(u);h&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.va=!0:a.modifiedDocuments.size>0?Qe(h.va):a.removedDocuments.size>0&&(Qe(h.va),h.va=!1))})),await Sv(t,s,e)}catch(s){await kd(s)}}function Rg(i,e,t){const s=Ve(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Fa.forEach(((u,h)=>{const m=h.view.Z_(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const y=Ve(h);y.onlineState=m;let _=!1;y.queries.forEach(((E,N)=>{for(const O of N.j_)O.Z_(m)&&(_=!0)})),_&&Kd(y)})(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function c1(i,e,t){const s=Ve(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Na.get(e),u=a&&a.key;if(u){let h=new lt(ye.comparator);h=h.insert(u,kt.newNoDocument(u,Te.min()));const m=je().add(u),y=new $u(Te.min(),new Map,new lt(Be),h,m);await Tv(s,y),s.Oa=s.Oa.remove(u),s.Na.delete(e),Gd(s)}else await sd(s.localStore,e,!1).then((()=>ad(s,e,t))).catch(kd)}function ad(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach((s=>{i.La.containsKey(s)||Iv(i,s)}))}function Iv(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(Bd(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),Gd(i))}function Cg(i,e,t){for(const s of t)s instanceof _v?(i.La.addReference(s.key,e),h1(i,s)):s instanceof wv?(ue("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||Iv(i,s.key)):_e()}function h1(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(ue("SyncEngine","New document in limbo: "+t),i.xa.add(s),Gd(i))}function Gd(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new ye(et.fromString(e)),s=i.qa.next();i.Na.set(s,new r1(t)),i.Oa=i.Oa.insert(t,s),mv(i.remoteStore,new li(nr(Vd(t.path)),s,"TargetPurposeLimboResolution",Rd.oe))}}async function Sv(i,e,t){const s=Ve(i),a=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,y)=>{h.push(s.Ka(y,e,t).then((_=>{var E;if((_||t)&&s.isPrimaryClient){const N=_?!_.fromCache:(E=t?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,N?"current":"not-current")}if(_){a.push(_);const N=jd.Wi(y.targetId,_);u.push(N)}})))})),await Promise.all(h),s.Ca.d_(a),await(async function(y,_){const E=Ve(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>W.forEach(_,(O=>W.forEach(O.$i,(z=>E.persistence.referenceDelegate.addReference(N,O.targetId,z))).next((()=>W.forEach(O.Ui,(z=>E.persistence.referenceDelegate.removeReference(N,O.targetId,z)))))))))}catch(N){if(!La(N))throw N;ue("LocalStore","Failed to update sequence numbers: "+N)}for(const N of _){const O=N.targetId;if(!N.fromCache){const z=E.os.get(O),K=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion(K);E.os=E.os.insert(O,ee)}}})(s.localStore,u))}async function d1(i,e){const t=Ve(i);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await fv(t.localStore,e);t.currentUser=e,(function(u,h){u.ka.forEach((m=>{m.forEach((y=>{y.reject(new fe(q.CANCELLED,h))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sv(t,s.hs)}}function f1(i,e){const t=Ve(i),s=t.Na.get(e);if(s&&s.va)return je().add(s.key);{let a=je();const u=t.Ma.get(e);if(!u)return a;for(const h of u){const m=t.Fa.get(h);a=a.unionWith(m.view.Va)}return a}}function Av(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c1.bind(null,e),e.Ca.d_=JS.bind(null,e.eventManager),e.Ca.$a=ZS.bind(null,e.eventManager),e}class Nu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return CS(this.persistence,new kS,e.initialUser,this.serializer)}Ga(e){return new IS(Ud.Zr,this.serializer)}Wa(e){return new VS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nu.provider={build:()=>new Nu};class ld{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=d1.bind(null,this.syncEngine),await KS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QS})()}createDatastore(e){const t=Hu(e.databaseInfo.databaseId),s=(function(u){return new FS(u)})(e.databaseInfo);return(function(u,h,m,y){return new jS(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,u,h,m){return new BS(s,a,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Rg(this.syncEngine,t,0)),(function(){return Eg.D()?new Eg:new OS})())}createSyncEngine(e,t){return(function(a,u,h,m,y,_,E){const N=new i1(a,u,h,m,y,_);return E&&(N.Qa=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const u=Ve(a);ue("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Ua(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ld.provider={build:()=>new ld};class p1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class m1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,u){const h=Ve(a),m={documents:u.map((N=>Pu(h.serializer,N)))},y=await h.Lo("BatchGetDocuments",h.serializer.databaseId,et.emptyPath(),m,u.length),_=new Map;y.forEach((N=>{const O=JI(h.serializer,N);_.set(O.key.toString(),O)}));const E=[];return u.forEach((N=>{const O=_.get(N.toString());Qe(!!O),E.push(O)})),E})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const a=ye.fromPath(s);this.mutations.push(new nv(a,this.precondition(a)))})),await(async function(s,a){const u=Ve(s),h={writes:a.map((m=>eS(u.serializer,m)))};await u.Mo("Commit",u.serializer.databaseId,et.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e();t=Te.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new fe(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Te.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Te.min()))throw new fe(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class g1{constructor(e,t,s,a,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=u,this._u=s.maxAttempts,this.t_=new zd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new m1(this.datastore),t=this.cu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.lu(a)}))))})).catch((s=>{this.lu(s)}))}))}cu(e){try{const t=this.updateFunction(e);return!Ma(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!BI(t)}return!1}}class y1{constructor(e,t,s,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=zt.UNAUTHENTICATED,this.clientId=Fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=vv(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Uh(i,e){i.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await fv(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Pg(i,e){i.asyncQueue.verifyOperationInProgress();const t=await v1(i);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>Ig(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Ig(e.remoteStore,a))),i._onlineComponents=e}async function v1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===q.FAILED_PRECONDITION||a.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;to("Error using user provided cache. Falling back to memory cache: "+t),await Uh(i,new Nu)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Uh(i,new Nu);return i._offlineComponents}async function kv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Pg(i,i._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Pg(i,new ld))),i._onlineComponents}function _1(i){return kv(i).then((e=>e.datastore))}async function Ng(i){const e=await kv(i),t=e.eventManager;return t.onListen=s1.bind(null,e.syncEngine),t.onUnlisten=l1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u1.bind(null,e.syncEngine),t}function Rv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const xg=new Map;function w1(i,e,t){if(!t)throw new fe(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function E1(i,e,t,s){if(e===!0&&s===!0)throw new fe(q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Dg(i){if(!ye.isDocumentKey(i))throw new fe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Qd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e()}function _a(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qd(i);throw new fe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class Vg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new WT;switch(s.type){case"firstParty":return new YT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=xg.get(t);s&&(ue("ComponentProvider","Removing Datastore"),xg.delete(t),s.terminate())})(this),Promise.resolve()}}function T1(i,e,t,s={}){var a;const u=(i=_a(i,Yd))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=zt.MOCK_USER;else{m=w0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new fe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new zt(_)}i._authCredentials=new KT(new My(m,y))}}class Wu{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class kn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Pa extends Wu{constructor(e,t,s){super(e,t,Vd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new ye(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function Og(i,e,...t){if(i=Ot(i),arguments.length===1&&(e=Fy.newId()),w1("doc","path",e),i instanceof Yd){const s=et.fromString(e,...t);return Dg(s),new kn(i,null,new ye(s))}{if(!(i instanceof kn||i instanceof Pa))throw new fe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return Dg(s),new kn(i.firestore,i instanceof Pa?i.converter:null,new ye(s))}}class Lg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zd(this,"async_queue_retry"),this.Vu=()=>{const s=bh();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=bh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=bh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ki;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!La(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const a=(function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m})(s);throw Dr("INTERNAL UNHANDLED ERROR: ",a),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=Wd.createAndSchedule(this,e,t,s,(u=>this.yu(u)));return this.Tu.push(a),a}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Mg(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1})(i,["next","error","complete"])}class xu extends Yd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Lg,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lg(e),this._firestoreClient=void 0,await e}}}function I1(i,e){const t=typeof i=="object"?i:Yg(),s=typeof i=="string"?i:"(default)",a=fd(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=v0("firestore");u&&T1(a,...u)}return a}function Cv(i){if(i._terminated)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||S1(i),i._firestoreClient}function S1(i){var e,t,s;const a=i._freezeSettings(),u=(function(m,y,_,E){return new uI(m,y,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Rv(E.experimentalLongPollingOptions),E.useFetchStreams)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new y1(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const y=m?._online.build();return{_offline:m?._offline.build(y),_online:y}})(i._componentsProvider))}class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(Lt.fromBase64String(e))}catch(t){throw new fe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zi(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ku{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gu{constructor(e){this._methodName=e}}class Xd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}class Jd{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}}const A1=/^__.*__$/;class k1{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}}class Pv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Zd{constructor(e,t,s,a,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Du(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Nv(this.Cu)&&A1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class R1{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Hu(e)}Qu(e,t,s,a=!1){return new Zd({Cu:e,methodName:t,qu:s,path:Bt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C1(i){const e=i._freezeSettings(),t=Hu(i._databaseId);return new R1(i._databaseId,!!e.ignoreUndefinedProperties,t)}function P1(i,e,t,s,a,u={}){const h=i.Qu(u.merge||u.mergeFields?2:0,e,t,a);tf("Data must be an object, but it was:",h,s);const m=xv(s,h);let y,_;if(u.merge)y=new An(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const N of u.mergeFields){const O=ud(e,N,t);if(!h.contains(O))throw new fe(q.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Vv(E,O)||E.push(O)}y=new An(E),_=h.fieldTransforms.filter((N=>y.covers(N.field)))}else y=null,_=h.fieldTransforms;return new k1(new rn(m),y,_)}class Qu extends Gu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}class ef extends Gu{_toFieldTransform(e){return new MI(e.path,new ka)}isEqual(e){return e instanceof ef}}function N1(i,e,t,s){const a=i.Qu(1,e,t);tf("Data must be an object, but it was:",a,s);const u=[],h=rn.empty();co(s,((y,_)=>{const E=nf(e,y,t);_=Ot(_);const N=a.Nu(E);if(_ instanceof Qu)u.push(E);else{const O=Yu(_,N);O!=null&&(u.push(E),h.set(E,O))}}));const m=new An(u);return new Pv(h,m,a.fieldTransforms)}function x1(i,e,t,s,a,u){const h=i.Qu(1,e,t),m=[ud(e,s,t)],y=[a];if(u.length%2!=0)throw new fe(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<u.length;O+=2)m.push(ud(e,u[O])),y.push(u[O+1]);const _=[],E=rn.empty();for(let O=m.length-1;O>=0;--O)if(!Vv(_,m[O])){const z=m[O];let K=y[O];K=Ot(K);const ee=h.Nu(z);if(K instanceof Qu)_.push(z);else{const G=Yu(K,ee);G!=null&&(_.push(z),E.set(z,G))}}const N=new An(_);return new Pv(E,N,h.fieldTransforms)}function Yu(i,e){if(Dv(i=Ot(i)))return tf("Unsupported field value:",e,i),xv(i,e);if(i instanceof Gu)return(function(s,a){if(!Nv(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,a){const u=[];let h=0;for(const m of s){let y=Yu(m,a.Lu(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,a){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DI(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Cu(a.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cu(a.serializer,u)}}if(s instanceof Xd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zi)return{bytesValue:ov(a.serializer,s._byteString)};if(s instanceof kn){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Jd)return(function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Bu("VectorValues must only contain numeric values.");return Od(m.serializer,y)}))}}}}}})(s,a);throw a.Bu(`Unsupported field value: ${Qd(s)}`)})(i,e)}function xv(i,e){const t={};return by(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(i,((s,a)=>{const u=Yu(a,e.Mu(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Dv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof Xd||i instanceof Zi||i instanceof kn||i instanceof Gu||i instanceof Jd)}function tf(i,e,t){if(!Dv(t)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(t)){const s=Qd(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function ud(i,e,t){if((e=Ot(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return nf(i,e);throw Du("Field path arguments must be of type string or ",i,!1,void 0,t)}const D1=new RegExp("[~\\*/\\[\\]]");function nf(i,e,t){if(e.search(D1)>=0)throw Du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ku(...e.split("."))._internalPath}catch{throw Du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Du(i,e,t,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${a}`),y+=")"),new fe(q.INVALID_ARGUMENT,m+i+y)}function Vv(i,e){return i.some((t=>t.isEqual(e)))}class Vu{constructor(e,t,s,a,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ov("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class V1 extends Vu{data(){return super.data()}}function Ov(i,e){return typeof e=="string"?nf(i,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}function O1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lv{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return co(e,((a,u)=>{s[a]=this.convertValue(u,t)})),s}convertVectorValue(e){var t,s,a;const u=(a=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((h=>at(h.doubleValue)));return new Jd(u)}convertGeoPoint(e){return new Xd(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Pd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){const t=fi(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Qe(dv(s));const a=new Sa(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return a.isEqual(t)||Dr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function L1(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class M1 extends Lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}class Gs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rf extends Vu{constructor(e,t,s,a,u,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class mu extends rf{data(e={}){return super.data(e)}}class F1{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Gs(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new mu(this._firestore,this._userDataWriter,s.key,s,new Gs(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const y=new mu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Gs(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new mu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Gs(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:b1(m.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function b1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class sf extends Lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function U1(i,...e){var t,s,a;i=Ot(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Mg(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Mg(e[h])){const N=e[h];e[h]=(t=N.next)===null||t===void 0?void 0:t.bind(N),e[h+1]=(s=N.error)===null||s===void 0?void 0:s.bind(N),e[h+2]=(a=N.complete)===null||a===void 0?void 0:a.bind(N)}let y,_,E;if(i instanceof kn)_=_a(i.firestore,xu),E=Vd(i._key.path),y={next:N=>{e[h]&&e[h](j1(_,i,N))},error:e[h+1],complete:e[h+2]};else{const N=_a(i,Wu);_=_a(N.firestore,xu),E=N._query;const O=new sf(_);y={next:z=>{e[h]&&e[h](new F1(_,O,N,z))},error:e[h+1],complete:e[h+2]},O1(i._query)}return(function(O,z,K,ee){const G=new p1(ee),ve=new e1(z,G,K);return O.asyncQueue.enqueueAndForget((async()=>YS(await Ng(O),ve))),()=>{G.Za(),O.asyncQueue.enqueueAndForget((async()=>XS(await Ng(O),ve)))}})(Cv(_),E,m,y)}function j1(i,e,t){const s=t.docs.get(e._key),a=new sf(i);return new rf(i,a,e._key,s,new Gs(t.hasPendingWrites,t.fromCache),e.converter)}const z1={maxAttempts:5};function ua(i,e){if((i=Ot(i)).firestore!==e)throw new fe(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class B1 extends class{constructor(t,s){this._firestore=t,this._transaction=s,this._dataReader=C1(t)}get(t){const s=ua(t,this._firestore),a=new M1(this._firestore);return this._transaction.lookup([s._key]).then((u=>{if(!u||u.length!==1)return _e();const h=u[0];if(h.isFoundDocument())return new Vu(this._firestore,a,h.key,h,s.converter);if(h.isNoDocument())return new Vu(this._firestore,a,s._key,null,s.converter);throw _e()}))}set(t,s,a){const u=ua(t,this._firestore),h=L1(u.converter,s,a),m=P1(this._dataReader,"Transaction.set",u._key,h,u.converter!==null,a);return this._transaction.set(u._key,m),this}update(t,s,a,...u){const h=ua(t,this._firestore);let m;return m=typeof(s=Ot(s))=="string"||s instanceof Ku?x1(this._dataReader,"Transaction.update",h._key,s,a,u):N1(this._dataReader,"Transaction.update",h._key,s),this._transaction.update(h._key,m),this}delete(t){const s=ua(t,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ua(e,this._firestore),s=new sf(this._firestore);return super.get(e).then((a=>new rf(this._firestore,s,t._key,a._document,new Gs(!1,!1),t.converter)))}}function $1(i,e,t){i=_a(i,xu);const s=Object.assign(Object.assign({},z1),t);return(function(u){if(u.maxAttempts<1)throw new fe(q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const y=new Ki;return u.asyncQueue.enqueueAndForget((async()=>{const _=await _1(u);new g1(u.asyncQueue,_,m,h,y).au()})),y.promise})(Cv(i),(a=>e(new B1(i,a))),s)}function Fg(){return new ef("serverTimestamp")}(function(e,t=!0){(function(a){uo=a})(ao),Zs(new Gi("firestore",((s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new xu(new GT(s.getProvider("auth-internal")),new JT(s.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(_.options.projectId,E)})(h,a),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),hi(Xm,"4.7.3",e),hi(Xm,"4.7.3","esm2017")})();const H1={apiKey:"AIzaSyBTK_iLnqCrTyatNaSj6UjW4r-uLM_9d9U",authDomain:"outliner-7ac92.firebaseapp.com",projectId:"outliner-7ac92",storageBucket:"outliner-7ac92.firebasestorage.app",messagingSenderId:"482247278746",appId:"1:482247278746:web:b17c4951510bf5a3ac5f23",measurementId:"G-CBZP7BDF3X"},Mv=Qg(H1),jh=HT(Mv),zh=I1(Mv),bg=typeof __app_id<"u"?__app_id:"default-app-id",Ug=()=>Math.random().toString(36).substr(2,9),Fv=(i,e=0,t=[],s=!1)=>(i.forEach(a=>{!s&&a.completed&&e>0||(t.push({...a,depth:e}),!a.collapsed&&a.children&&a.children.length>0&&Fv(a.children,e+1,t,s))}),t),Ir=i=>JSON.parse(JSON.stringify(i)),er=(i,e,t=[])=>{for(let s=0;s<i.length;s++){if(i[s].id===e)return[...t,{nodes:i,index:s,node:i[s]}];if(i[s].children){const a=er(i[s].children,e,[...t,{nodes:i,index:s,node:i[s]}]);if(a)return a}}return null},Bh=[{id:"1",text:"Active Projects",completed:!1,collapsed:!1,children:[{id:"2",text:"Website Redesign",completed:!1,collapsed:!1,children:[]},{id:"3",text:"Q4 Marketing Plan",completed:!1,collapsed:!1,children:[]}]},{id:"4",text:"Postponed Projects",completed:!1,collapsed:!1,children:[{id:"5",text:"Mobile App v2",completed:!1,collapsed:!1,children:[]}]}];function q1(){const[i,e]=We.useState([]),[t,s]=We.useState(null),[a,u]=We.useState(!0),[h,m]=We.useState(!1),[y,_]=We.useState("idle"),[E,N]=We.useState(!1),[O,z]=We.useState(null),[K,ee]=We.useState(!1),G=We.useRef({}),ve=We.useRef(null),ke=We.useRef(null);We.useRef(null);const Ae=We.useRef(null),Re=We.useRef(""),Pe=We.useRef(0),[Se,P]=We.useState(null),[T,A]=We.useState(null),R=Fv(i,0,[],E);We.useEffect(()=>{const j=DE(jh,Y=>{s(Y),u(!1)});return()=>j()},[]);const x=async()=>{const j=new Sr;try{await ZE(jh,j)}catch(Y){console.error("Login failed",Y),alert(Y.message)}},V=async()=>{e([]),m(!1),await VE(jh)};We.useEffect(()=>{if(!t)return;const j=Og(zh,"artifacts",bg,"users",t.uid,"data","workflowy"),Y=U1(j,re=>{const se=re.data();if(!se){e(Bh),Pe.current=0,Re.current=JSON.stringify(Bh),m(!0);return}const de=se.tree||Bh,we=se.version||0;we>Pe.current&&(e(de),Pe.current=we,Re.current=JSON.stringify(de),Ae.current=se.updatedAt?se.updatedAt.toMillis():Date.now()),m(!0)},re=>{console.error("Error fetching:",re),_("error")});return()=>Y()},[t]),We.useEffect(()=>{if(!(!t||!h)&&!(i.length===0&&h))return _("saving"),ke.current&&clearTimeout(ke.current),ke.current=setTimeout(async()=>{try{const j=Og(zh,"artifacts",bg,"users",t.uid,"data","workflowy");await $1(zh,async Y=>{const re=await Y.get(j);if(!re.exists()){Y.set(j,{tree:i,version:1,updatedAt:Fg()}),Pe.current=1,Ae.current=Date.now();return}const se=re.data();Y.set(j,{tree:i,version:Pe.current+1,updatedAt:Fg()}),Pe.current+=1,Ae.current=Date.now()}),_("saved")}catch(j){console.error("Error saving:",j),_("error")}},1e3),()=>clearTimeout(ke.current)},[i,t,h]),We.useEffect(()=>{ve.current&&G.current[ve.current]&&(G.current[ve.current].focus(),ve.current=null)},[R,O]);const S=()=>{try{const j=localStorage.getItem("outliner:darkMode");return j!==null?j==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}catch{return!1}};We.useEffect(()=>{try{const j=S();ee(j)}catch{}},[]),We.useEffect(()=>{try{localStorage.setItem("outliner:darkMode",K?"true":"false")}catch{}},[K]);const tt=j=>{if(!j)return te.jsx("span",{className:"opacity-0",children:"Empty"});const Y=/((?:https?:\/\/[^\s]+)|(?:\bb\/\d+)|(?:\bgo\/[^\s]+))/g;return j.split(Y).map((se,de)=>se.match(/^https?:\/\//)?te.jsx("a",{href:se,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer relative z-20",onClick:we=>we.stopPropagation(),children:se},de):se.match(/^b\/\d+$/)?te.jsx("a",{href:`http://${se}`,target:"_blank",rel:"noopener noreferrer",className:"text-amber-600 dark:text-amber-400 hover:underline cursor-pointer font-mono relative z-20",onClick:we=>we.stopPropagation(),children:se},de):se.match(/^go\//)?te.jsx("a",{href:`http://${se}`,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 dark:text-emerald-400 hover:underline font-medium relative z-20",onClick:we=>we.stopPropagation(),children:se},de):te.jsx("span",{children:se},de))},_t=(j,Y)=>{const re=Ir(i),se=er(re,j);se&&(se[se.length-1].nodes[se[se.length-1].index].text=Y,e(re),Pe.current++)},wt=j=>{const Y=Ir(i),re=er(Y,j);if(re){const se=re[re.length-1].node;se.collapsed=!se.collapsed,e(Y),Pe.current++}},$e=j=>{const Y=Ir(i),re=er(Y,j);if(re){const{node:se}=re[re.length-1],de=!se.completed;if(se.completed=de,de&&se.children){const we=dt=>{dt.forEach(Gt=>{Gt.completed=!0,Gt.children&&we(Gt.children)})};we(se.children)}e(Y),Pe.current++}},Z=(j,Y=!1)=>{const re=Ir(i),se={id:Ug(),text:"",completed:!1,collapsed:!1,children:[]},de=er(re,j);if(de){const{nodes:we,index:dt}=de[de.length-1];we.splice(dt+1,0,se),e(re),Pe.current++,z(se.id),ve.current=se.id}},pe=()=>{const j=Ir(i),Y=Ug(),re={id:Y,text:"",completed:!1,collapsed:!1,children:[]};j.push(re),e(j),Pe.current++,z(Y),ve.current=Y},ne=j=>{const Y=R.findIndex(we=>we.id===j);let re=null;Y>0?re=R[Y-1].id:Y<R.length-1&&(re=R[Y+1].id);const se=Ir(i),de=er(se,j);if(de){const{nodes:we,index:dt}=de[de.length-1];we.splice(dt,1),e(se),Pe.current++,re?(z(re),ve.current=re):z(null)}},D=j=>{const Y=Ir(i),re=er(Y,j);if(!re)return;const{nodes:se,index:de}=re[re.length-1];if(de===0)return;const we=se[de-1],dt=se[de];se.splice(de,1),we.children||(we.children=[]),we.children.push(dt),we.collapsed=!1,e(Y),Pe.current++,z(j),ve.current=j},B=j=>{const Y=Ir(i),re=er(Y,j);if(!re||re.length<2)return;const se=re[re.length-1],de=re[re.length-2],we=se.nodes[se.index];se.nodes.splice(se.index,1),de.nodes.splice(de.index+1,0,we),e(Y),Pe.current++,z(j),ve.current=j},he=(j,Y,re)=>{if(j===Y)return;const se=Ir(i),de=er(se,j);if(!de)return;const we=de[de.length-1],dt=we.nodes.splice(we.index,1)[0],Gt=er(se,Y);if(!Gt)return;const fn=Gt[Gt.length-1];re==="inside"?(fn.node.children.unshift(dt),fn.node.collapsed=!1):re==="after"?fn.nodes.splice(fn.index+1,0,dt):re==="before"&&fn.nodes.splice(fn.index,0,dt),e(se),Pe.current++},Ce=(j,Y,re,se)=>{if(j.key==="Enter")j.preventDefault(),Z(Y);else if(j.key==="Backspace"&&re==="")j.preventDefault(),ne(Y);else if(j.key==="Tab")j.preventDefault(),j.shiftKey?B(Y):D(Y);else if(j.key==="ArrowUp"){j.preventDefault();const de=R.findIndex(we=>we.id===Y);if(de>0){const we=R[de-1].id;z(we),ve.current=we}}else if(j.key==="ArrowDown"){j.preventDefault();const de=R.findIndex(we=>we.id===Y);if(de<R.length-1){const we=R[de+1].id;z(we),ve.current=we}}},Ne=(j,Y)=>{P(Y),j.dataTransfer.effectAllowed="move"},De=(j,Y)=>{if(j.preventDefault(),!Se||Se.id===Y.id)return;const re=j.currentTarget.getBoundingClientRect(),se=j.clientY-re.top;let de="inside";const we=Y.depth===0?.3:.25;se<re.height*we?de="before":se>re.height*(1-we)&&(de="after"),A({id:Y.id,position:de})},be=j=>{j.preventDefault(),Se&&T&&he(Se.id,T.id,T.position),P(null),A(null)};return a?te.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:te.jsx(Ch,{className:"animate-spin text-blue-500"})}):t?!h&&!i.length?te.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white text-gray-500",children:te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(Ch,{className:"animate-spin"})," Loading..."]})}):te.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${K?"dark bg-slate-900 text-slate-100":"bg-gray-50 text-gray-800"} font-sans p-8`,children:[te.jsxs("div",{className:`max-w-4xl mx-auto relative min-h-[80vh] shadow-sm rounded-xl p-8 border transition-colors ${K?"bg-slate-800 border-slate-700":"bg-white border-gray-100"}`,children:[te.jsx("div",{className:`flex items-center justify-end mb-6 border-b pb-4 ${K?"border-slate-700":"border-gray-100"}`,children:te.jsxs("div",{className:"flex items-center gap-6",children:[te.jsx("button",{onClick:()=>ee(!K),className:`p-1.5 rounded-full transition-colors ${K?"text-yellow-400 hover:bg-slate-700":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:K?"Switch to Light Mode":"Switch to Dark Mode",children:K?te.jsx(u0,{size:18}):te.jsx(a0,{size:18})}),te.jsxs("button",{onClick:()=>N(!E),className:`flex items-center gap-2 text-sm font-medium transition-colors ${K?"text-slate-400 hover:text-slate-200":"text-gray-500 hover:text-gray-800"}`,children:[E?te.jsx(s0,{size:16}):te.jsx(i0,{size:16}),E?"Hide Done":"Show Done"]}),te.jsxs("div",{className:`flex items-center gap-2 text-sm font-medium justify-end min-w-[80px] ${K?"text-slate-500":"text-gray-400"}`,children:[y==="saving"&&te.jsxs(te.Fragment,{children:[te.jsx(Ch,{size:14,className:"animate-spin text-blue-500"})," Saving"]}),y==="saved"&&te.jsxs(te.Fragment,{children:[te.jsx(Em,{size:14,className:"text-green-500"})," ",te.jsx("span",{className:"text-green-600",children:"Saved"})]}),y==="error"&&te.jsxs(te.Fragment,{children:[te.jsx(r0,{size:14,className:"text-red-500"})," Offline"]}),y==="conflict"&&te.jsxs(te.Fragment,{children:[te.jsx(l0,{size:14,className:"text-amber-500 animate-spin"})," ",te.jsx("span",{className:"text-amber-500",children:"Syncing..."})]})]})]})}),te.jsxs("div",{className:"space-y-0.5 pb-40",children:[R.map(j=>{const Y=j.depth===0,re=Se?.id===j.id,se=T?.id===j.id;return te.jsxs("div",{className:`
                  relative group flex items-start transition-all duration-100 pr-4
                  ${re?"opacity-30":"opacity-100"}
                  ${Y?"mt-6 mb-2":""} 
                `,style:{paddingLeft:Y?"0px":`${j.depth*24}px`},onDragOver:de=>De(de,j),onDrop:be,children:[se&&T.position==="before"&&te.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-blue-500 z-10"}),se&&T.position==="after"&&te.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500 z-10"}),te.jsxs("div",{className:"flex items-center h-7 self-start mt-0.5 pr-2",children:[te.jsx("div",{className:"w-6 h-full flex items-center justify-center cursor-move opacity-0 group-hover:opacity-30 hover:!opacity-100 transition-opacity",draggable:!0,onDragStart:de=>Ne(de,j),children:te.jsx(o0,{size:16})}),te.jsx("div",{className:"w-6 h-full flex items-center justify-center",children:j.children&&j.children.length>0?te.jsx("button",{onClick:()=>wt(j.id),className:"text-gray-400 hover:text-gray-600 p-1 rounded-sm",tabIndex:-1,children:j.collapsed?te.jsx(t0,{size:14}):te.jsx(e0,{size:14})}):!Y&&te.jsx("div",{className:"w-6"})}),te.jsx("div",{className:"w-6 h-full flex items-center justify-center",children:Y?te.jsx("div",{className:"text-gray-300",children:te.jsx(Tm,{size:16})}):te.jsx("button",{onClick:()=>$e(j.id),className:`
                                    p-0.5 rounded hover:bg-gray-100 transition-colors
                                    ${j.completed?"text-green-500":"text-gray-300 hover:text-gray-400"}
                                `,tabIndex:-1,children:j.completed?te.jsx(Em,{size:16}):te.jsx(n0,{size:16})})})]}),te.jsx("div",{className:`relative flex-1 ${Y?`border-b pb-1 ${K?"border-slate-700":"border-gray-200"}`:""}`,children:O===j.id?te.jsx("input",{ref:de=>{G.current[j.id]=de},value:j.text,onChange:de=>_t(j.id,de.target.value),onKeyDown:de=>Ce(de,j.id,j.text,j.depth),autoFocus:!0,className:`
                        w-full bg-transparent outline-none transition-all
                        ${Y?`text-xl font-bold ${K?"text-slate-100 placeholder-slate-600":"text-gray-800 placeholder-gray-300"}`:`leading-relaxed ${j.completed?K?"line-through text-slate-600":"line-through text-gray-400":K?"text-slate-200":"text-gray-700"}`}
                      `,placeholder:Y?"Section Name":"Type a task..."}):te.jsx("div",{onClick:()=>{z(j.id),ve.current=j.id},className:`
                        w-full min-h-[1.5em] cursor-text
                        ${Y?`text-xl font-bold ${K?"text-slate-100":"text-gray-800"}`:`leading-relaxed ${j.completed?K?"line-through text-slate-600":"line-through text-gray-400":K?"text-slate-200":"text-gray-700"}`}
                      `,children:tt(j.text)})}),te.jsx("button",{onClick:()=>ne(j.id),className:`
                        opacity-0 group-hover:opacity-100 text-gray-300 hover:text-red-500 transition-opacity px-2
                        ${Y?"mt-1":""}
                    `,title:Y?"Delete Section & Contents":"Delete item",tabIndex:-1,children:te.jsx(c0,{size:14})})]},j.id)}),R.length===0&&te.jsx("div",{onClick:pe,className:"text-center py-20 text-gray-400 italic cursor-pointer hover:text-gray-600 hover:bg-gray-50 rounded-lg border-2 border-dashed border-transparent hover:border-gray-200 transition-all",children:"Empty board. Click here to add your first section."})]})]}),te.jsxs("div",{className:"fixed bottom-4 right-4 bg-white p-4 rounded-lg text-xs text-gray-500 border border-gray-200 shadow-sm flex items-center gap-4",children:[te.jsx("div",{className:"h-full w-px bg-gray-200 mx-1"}),te.jsxs("div",{className:"flex flex-col items-end gap-1",children:[te.jsx("span",{className:"font-medium text-gray-700",children:t.email}),te.jsx("button",{onClick:V,className:"text-red-500 hover:text-red-600 hover:underline",children:"Sign Out"})]})]})]}):te.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:te.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 max-w-sm w-full text-center",children:[te.jsx("div",{className:"mb-6 bg-blue-100 p-3 rounded-full w-fit mx-auto text-blue-600",children:te.jsx(Tm,{size:32})}),te.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Outliner"}),te.jsx("p",{className:"text-gray-500 mb-8",children:"Sign in to access your notes."}),te.jsx("button",{onClick:x,className:"w-full flex items-center justify-center gap-3 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors",children:te.jsx("span",{children:"Sign in with Google"})})]})})}Y_.createRoot(document.getElementById("root")).render(te.jsx(X_.StrictMode,{children:te.jsx(q1,{})}));
